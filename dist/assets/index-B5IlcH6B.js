(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var Qe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Jh(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var au={exports:{}},vi={},lu={exports:{}},q={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ss=Symbol.for("react.element"),Gh=Symbol.for("react.portal"),Qh=Symbol.for("react.fragment"),Yh=Symbol.for("react.strict_mode"),Xh=Symbol.for("react.profiler"),Zh=Symbol.for("react.provider"),ef=Symbol.for("react.context"),tf=Symbol.for("react.forward_ref"),nf=Symbol.for("react.suspense"),rf=Symbol.for("react.memo"),sf=Symbol.for("react.lazy"),Ao=Symbol.iterator;function af(t){return t===null||typeof t!="object"?null:(t=Ao&&t[Ao]||t["@@iterator"],typeof t=="function"?t:null)}var ou={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},cu=Object.assign,uu={};function ar(t,e,n){this.props=t,this.context=e,this.refs=uu,this.updater=n||ou}ar.prototype.isReactComponent={};ar.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ar.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function du(){}du.prototype=ar.prototype;function Sl(t,e,n){this.props=t,this.context=e,this.refs=uu,this.updater=n||ou}var Cl=Sl.prototype=new du;Cl.constructor=Sl;cu(Cl,ar.prototype);Cl.isPureReactComponent=!0;var Oo=Array.isArray,hu=Object.prototype.hasOwnProperty,El={current:null},fu={key:!0,ref:!0,__self:!0,__source:!0};function mu(t,e,n){var r,s={},i=null,l=null;if(e!=null)for(r in e.ref!==void 0&&(l=e.ref),e.key!==void 0&&(i=""+e.key),e)hu.call(e,r)&&!fu.hasOwnProperty(r)&&(s[r]=e[r]);var o=arguments.length-2;if(o===1)s.children=n;else if(1<o){for(var c=Array(o),u=0;u<o;u++)c[u]=arguments[u+2];s.children=c}if(t&&t.defaultProps)for(r in o=t.defaultProps,o)s[r]===void 0&&(s[r]=o[r]);return{$$typeof:ss,type:t,key:i,ref:l,props:s,_owner:El.current}}function lf(t,e){return{$$typeof:ss,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Tl(t){return typeof t=="object"&&t!==null&&t.$$typeof===ss}function of(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var $o=/\/+/g;function Mi(t,e){return typeof t=="object"&&t!==null&&t.key!=null?of(""+t.key):e.toString(36)}function Rs(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var l=!1;if(t===null)l=!0;else switch(i){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case ss:case Gh:l=!0}}if(l)return l=t,s=s(l),t=r===""?"."+Mi(l,0):r,Oo(s)?(n="",t!=null&&(n=t.replace($o,"$&/")+"/"),Rs(s,e,n,"",function(u){return u})):s!=null&&(Tl(s)&&(s=lf(s,n+(!s.key||l&&l.key===s.key?"":(""+s.key).replace($o,"$&/")+"/")+t)),e.push(s)),1;if(l=0,r=r===""?".":r+":",Oo(t))for(var o=0;o<t.length;o++){i=t[o];var c=r+Mi(i,o);l+=Rs(i,e,n,c,s)}else if(c=af(t),typeof c=="function")for(t=c.call(t),o=0;!(i=t.next()).done;)i=i.value,c=r+Mi(i,o++),l+=Rs(i,e,n,c,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return l}function fs(t,e,n){if(t==null)return t;var r=[],s=0;return Rs(t,r,"","",function(i){return e.call(n,i,s++)}),r}function cf(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ce={current:null},Is={transition:null},uf={ReactCurrentDispatcher:Ce,ReactCurrentBatchConfig:Is,ReactCurrentOwner:El};function pu(){throw Error("act(...) is not supported in production builds of React.")}q.Children={map:fs,forEach:function(t,e,n){fs(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return fs(t,function(){e++}),e},toArray:function(t){return fs(t,function(e){return e})||[]},only:function(t){if(!Tl(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};q.Component=ar;q.Fragment=Qh;q.Profiler=Xh;q.PureComponent=Sl;q.StrictMode=Yh;q.Suspense=nf;q.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uf;q.act=pu;q.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=cu({},t.props),s=t.key,i=t.ref,l=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,l=El.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(c in e)hu.call(e,c)&&!fu.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&o!==void 0?o[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){o=Array(c);for(var u=0;u<c;u++)o[u]=arguments[u+2];r.children=o}return{$$typeof:ss,type:t.type,key:s,ref:i,props:r,_owner:l}};q.createContext=function(t){return t={$$typeof:ef,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Zh,_context:t},t.Consumer=t};q.createElement=mu;q.createFactory=function(t){var e=mu.bind(null,t);return e.type=t,e};q.createRef=function(){return{current:null}};q.forwardRef=function(t){return{$$typeof:tf,render:t}};q.isValidElement=Tl;q.lazy=function(t){return{$$typeof:sf,_payload:{_status:-1,_result:t},_init:cf}};q.memo=function(t,e){return{$$typeof:rf,type:t,compare:e===void 0?null:e}};q.startTransition=function(t){var e=Is.transition;Is.transition={};try{t()}finally{Is.transition=e}};q.unstable_act=pu;q.useCallback=function(t,e){return Ce.current.useCallback(t,e)};q.useContext=function(t){return Ce.current.useContext(t)};q.useDebugValue=function(){};q.useDeferredValue=function(t){return Ce.current.useDeferredValue(t)};q.useEffect=function(t,e){return Ce.current.useEffect(t,e)};q.useId=function(){return Ce.current.useId()};q.useImperativeHandle=function(t,e,n){return Ce.current.useImperativeHandle(t,e,n)};q.useInsertionEffect=function(t,e){return Ce.current.useInsertionEffect(t,e)};q.useLayoutEffect=function(t,e){return Ce.current.useLayoutEffect(t,e)};q.useMemo=function(t,e){return Ce.current.useMemo(t,e)};q.useReducer=function(t,e,n){return Ce.current.useReducer(t,e,n)};q.useRef=function(t){return Ce.current.useRef(t)};q.useState=function(t){return Ce.current.useState(t)};q.useSyncExternalStore=function(t,e,n){return Ce.current.useSyncExternalStore(t,e,n)};q.useTransition=function(){return Ce.current.useTransition()};q.version="18.3.1";lu.exports=q;var $=lu.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var df=$,hf=Symbol.for("react.element"),ff=Symbol.for("react.fragment"),mf=Object.prototype.hasOwnProperty,pf=df.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,gf={key:!0,ref:!0,__self:!0,__source:!0};function gu(t,e,n){var r,s={},i=null,l=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(l=e.ref);for(r in e)mf.call(e,r)&&!gf.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:hf,type:t,key:i,ref:l,props:s,_owner:pf.current}}vi.Fragment=ff;vi.jsx=gu;vi.jsxs=gu;au.exports=vi;var a=au.exports,yu={exports:{}},Fe={},vu={exports:{}},xu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(O,U){var z=O.length;O.push(U);e:for(;0<z;){var Y=z-1>>>1,ae=O[Y];if(0<s(ae,U))O[Y]=U,O[z]=ae,z=Y;else break e}}function n(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var U=O[0],z=O.pop();if(z!==U){O[0]=z;e:for(var Y=0,ae=O.length,Ct=ae>>>1;Y<Ct;){var He=2*(Y+1)-1,en=O[He],Ve=He+1,We=O[Ve];if(0>s(en,z))Ve<ae&&0>s(We,en)?(O[Y]=We,O[Ve]=z,Y=Ve):(O[Y]=en,O[He]=z,Y=He);else if(Ve<ae&&0>s(We,z))O[Y]=We,O[Ve]=z,Y=Ve;else break e}}return U}function s(O,U){var z=O.sortIndex-U.sortIndex;return z!==0?z:O.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var l=Date,o=l.now();t.unstable_now=function(){return l.now()-o}}var c=[],u=[],d=1,m=null,g=3,x=!1,y=!1,w=!1,j=typeof setTimeout=="function"?setTimeout:null,h=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function p(O){for(var U=n(u);U!==null;){if(U.callback===null)r(u);else if(U.startTime<=O)r(u),U.sortIndex=U.expirationTime,e(c,U);else break;U=n(u)}}function v(O){if(w=!1,p(O),!y)if(n(c)!==null)y=!0,L(_);else{var U=n(u);U!==null&&K(v,U.startTime-O)}}function _(O,U){y=!1,w&&(w=!1,h(k),k=-1),x=!0;var z=g;try{for(p(U),m=n(c);m!==null&&(!(m.expirationTime>U)||O&&!S());){var Y=m.callback;if(typeof Y=="function"){m.callback=null,g=m.priorityLevel;var ae=Y(m.expirationTime<=U);U=t.unstable_now(),typeof ae=="function"?m.callback=ae:m===n(c)&&r(c),p(U)}else r(c);m=n(c)}if(m!==null)var Ct=!0;else{var He=n(u);He!==null&&K(v,He.startTime-U),Ct=!1}return Ct}finally{m=null,g=z,x=!1}}var b=!1,C=null,k=-1,T=5,N=-1;function S(){return!(t.unstable_now()-N<T)}function A(){if(C!==null){var O=t.unstable_now();N=O;var U=!0;try{U=C(!0,O)}finally{U?F():(b=!1,C=null)}}else b=!1}var F;if(typeof f=="function")F=function(){f(A)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,H=D.port2;D.port1.onmessage=A,F=function(){H.postMessage(null)}}else F=function(){j(A,0)};function L(O){C=O,b||(b=!0,F())}function K(O,U){k=j(function(){O(t.unstable_now())},U)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_continueExecution=function(){y||x||(y=!0,L(_))},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(O){switch(g){case 1:case 2:case 3:var U=3;break;default:U=g}var z=g;g=U;try{return O()}finally{g=z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(O,U){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var z=g;g=O;try{return U()}finally{g=z}},t.unstable_scheduleCallback=function(O,U,z){var Y=t.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?Y+z:Y):z=Y,O){case 1:var ae=-1;break;case 2:ae=250;break;case 5:ae=1073741823;break;case 4:ae=1e4;break;default:ae=5e3}return ae=z+ae,O={id:d++,callback:U,priorityLevel:O,startTime:z,expirationTime:ae,sortIndex:-1},z>Y?(O.sortIndex=z,e(u,O),n(c)===null&&O===n(u)&&(w?(h(k),k=-1):w=!0,K(v,z-Y))):(O.sortIndex=ae,e(c,O),y||x||(y=!0,L(_))),O},t.unstable_shouldYield=S,t.unstable_wrapCallback=function(O){var U=g;return function(){var z=g;g=U;try{return O.apply(this,arguments)}finally{g=z}}}})(xu);vu.exports=xu;var yf=vu.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vf=$,ze=yf;function P(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var wu=new Set,Mr={};function xn(t,e){Yn(t,e),Yn(t+"Capture",e)}function Yn(t,e){for(Mr[t]=e,t=0;t<e.length;t++)wu.add(e[t])}var jt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),wa=Object.prototype.hasOwnProperty,xf=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ro={},Io={};function wf(t){return wa.call(Io,t)?!0:wa.call(Ro,t)?!1:xf.test(t)?Io[t]=!0:(Ro[t]=!0,!1)}function _f(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function jf(t,e,n,r){if(e===null||typeof e>"u"||_f(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ee(t,e,n,r,s,i,l){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=l}var xe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){xe[t]=new Ee(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];xe[e]=new Ee(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){xe[t]=new Ee(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){xe[t]=new Ee(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){xe[t]=new Ee(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){xe[t]=new Ee(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){xe[t]=new Ee(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){xe[t]=new Ee(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){xe[t]=new Ee(t,5,!1,t.toLowerCase(),null,!1,!1)});var Pl=/[\-:]([a-z])/g;function Al(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Pl,Al);xe[e]=new Ee(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Pl,Al);xe[e]=new Ee(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Pl,Al);xe[e]=new Ee(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){xe[t]=new Ee(t,1,!1,t.toLowerCase(),null,!1,!1)});xe.xlinkHref=new Ee("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){xe[t]=new Ee(t,1,!1,t.toLowerCase(),null,!0,!0)});function Ol(t,e,n,r){var s=xe.hasOwnProperty(e)?xe[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(jf(e,n,s,r)&&(n=null),r||s===null?wf(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var St=vf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ms=Symbol.for("react.element"),An=Symbol.for("react.portal"),On=Symbol.for("react.fragment"),$l=Symbol.for("react.strict_mode"),_a=Symbol.for("react.profiler"),_u=Symbol.for("react.provider"),ju=Symbol.for("react.context"),Rl=Symbol.for("react.forward_ref"),ja=Symbol.for("react.suspense"),ba=Symbol.for("react.suspense_list"),Il=Symbol.for("react.memo"),At=Symbol.for("react.lazy"),bu=Symbol.for("react.offscreen"),Lo=Symbol.iterator;function dr(t){return t===null||typeof t!="object"?null:(t=Lo&&t[Lo]||t["@@iterator"],typeof t=="function"?t:null)}var ie=Object.assign,zi;function wr(t){if(zi===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);zi=e&&e[1]||""}return`
`+zi+t}var Fi=!1;function Bi(t,e){if(!t||Fi)return"";Fi=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),l=s.length-1,o=i.length-1;1<=l&&0<=o&&s[l]!==i[o];)o--;for(;1<=l&&0<=o;l--,o--)if(s[l]!==i[o]){if(l!==1||o!==1)do if(l--,o--,0>o||s[l]!==i[o]){var c=`
`+s[l].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=l&&0<=o);break}}}finally{Fi=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?wr(t):""}function bf(t){switch(t.tag){case 5:return wr(t.type);case 16:return wr("Lazy");case 13:return wr("Suspense");case 19:return wr("SuspenseList");case 0:case 2:case 15:return t=Bi(t.type,!1),t;case 11:return t=Bi(t.type.render,!1),t;case 1:return t=Bi(t.type,!0),t;default:return""}}function Na(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case On:return"Fragment";case An:return"Portal";case _a:return"Profiler";case $l:return"StrictMode";case ja:return"Suspense";case ba:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case ju:return(t.displayName||"Context")+".Consumer";case _u:return(t._context.displayName||"Context")+".Provider";case Rl:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Il:return e=t.displayName||null,e!==null?e:Na(t.type)||"Memo";case At:e=t._payload,t=t._init;try{return Na(t(e))}catch{}}return null}function Nf(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Na(e);case 8:return e===$l?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function qt(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Nu(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function kf(t){var e=Nu(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(l){r=""+l,i.call(this,l)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(l){r=""+l},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ps(t){t._valueTracker||(t._valueTracker=kf(t))}function ku(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Nu(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function qs(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function ka(t,e){var n=e.checked;return ie({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Do(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=qt(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Su(t,e){e=e.checked,e!=null&&Ol(t,"checked",e,!1)}function Sa(t,e){Su(t,e);var n=qt(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Ca(t,e.type,n):e.hasOwnProperty("defaultValue")&&Ca(t,e.type,qt(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Uo(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Ca(t,e,n){(e!=="number"||qs(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var _r=Array.isArray;function Vn(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+qt(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Ea(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(P(91));return ie({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Mo(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(P(92));if(_r(n)){if(1<n.length)throw Error(P(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:qt(n)}}function Cu(t,e){var n=qt(e.value),r=qt(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function zo(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Eu(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ta(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Eu(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var gs,Tu=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(gs=gs||document.createElement("div"),gs.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=gs.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function zr(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Sr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Sf=["Webkit","ms","Moz","O"];Object.keys(Sr).forEach(function(t){Sf.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Sr[e]=Sr[t]})});function Pu(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Sr.hasOwnProperty(t)&&Sr[t]?(""+e).trim():e+"px"}function Au(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Pu(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var Cf=ie({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Pa(t,e){if(e){if(Cf[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(P(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(P(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(P(61))}if(e.style!=null&&typeof e.style!="object")throw Error(P(62))}}function Aa(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Oa=null;function Ll(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var $a=null,Wn=null,qn=null;function Fo(t){if(t=ls(t)){if(typeof $a!="function")throw Error(P(280));var e=t.stateNode;e&&(e=bi(e),$a(t.stateNode,t.type,e))}}function Ou(t){Wn?qn?qn.push(t):qn=[t]:Wn=t}function $u(){if(Wn){var t=Wn,e=qn;if(qn=Wn=null,Fo(t),e)for(t=0;t<e.length;t++)Fo(e[t])}}function Ru(t,e){return t(e)}function Iu(){}var Hi=!1;function Lu(t,e,n){if(Hi)return t(e,n);Hi=!0;try{return Ru(t,e,n)}finally{Hi=!1,(Wn!==null||qn!==null)&&(Iu(),$u())}}function Fr(t,e){var n=t.stateNode;if(n===null)return null;var r=bi(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(P(231,e,typeof n));return n}var Ra=!1;if(jt)try{var hr={};Object.defineProperty(hr,"passive",{get:function(){Ra=!0}}),window.addEventListener("test",hr,hr),window.removeEventListener("test",hr,hr)}catch{Ra=!1}function Ef(t,e,n,r,s,i,l,o,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var Cr=!1,Ks=null,Js=!1,Ia=null,Tf={onError:function(t){Cr=!0,Ks=t}};function Pf(t,e,n,r,s,i,l,o,c){Cr=!1,Ks=null,Ef.apply(Tf,arguments)}function Af(t,e,n,r,s,i,l,o,c){if(Pf.apply(this,arguments),Cr){if(Cr){var u=Ks;Cr=!1,Ks=null}else throw Error(P(198));Js||(Js=!0,Ia=u)}}function wn(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Du(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Bo(t){if(wn(t)!==t)throw Error(P(188))}function Of(t){var e=t.alternate;if(!e){if(e=wn(t),e===null)throw Error(P(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Bo(s),t;if(i===r)return Bo(s),e;i=i.sibling}throw Error(P(188))}if(n.return!==r.return)n=s,r=i;else{for(var l=!1,o=s.child;o;){if(o===n){l=!0,n=s,r=i;break}if(o===r){l=!0,r=s,n=i;break}o=o.sibling}if(!l){for(o=i.child;o;){if(o===n){l=!0,n=i,r=s;break}if(o===r){l=!0,r=i,n=s;break}o=o.sibling}if(!l)throw Error(P(189))}}if(n.alternate!==r)throw Error(P(190))}if(n.tag!==3)throw Error(P(188));return n.stateNode.current===n?t:e}function Uu(t){return t=Of(t),t!==null?Mu(t):null}function Mu(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Mu(t);if(e!==null)return e;t=t.sibling}return null}var zu=ze.unstable_scheduleCallback,Ho=ze.unstable_cancelCallback,$f=ze.unstable_shouldYield,Rf=ze.unstable_requestPaint,oe=ze.unstable_now,If=ze.unstable_getCurrentPriorityLevel,Dl=ze.unstable_ImmediatePriority,Fu=ze.unstable_UserBlockingPriority,Gs=ze.unstable_NormalPriority,Lf=ze.unstable_LowPriority,Bu=ze.unstable_IdlePriority,xi=null,ft=null;function Df(t){if(ft&&typeof ft.onCommitFiberRoot=="function")try{ft.onCommitFiberRoot(xi,t,void 0,(t.current.flags&128)===128)}catch{}}var it=Math.clz32?Math.clz32:zf,Uf=Math.log,Mf=Math.LN2;function zf(t){return t>>>=0,t===0?32:31-(Uf(t)/Mf|0)|0}var ys=64,vs=4194304;function jr(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Qs(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,l=n&268435455;if(l!==0){var o=l&~s;o!==0?r=jr(o):(i&=l,i!==0&&(r=jr(i)))}else l=n&~s,l!==0?r=jr(l):i!==0&&(r=jr(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-it(e),s=1<<n,r|=t[n],e&=~s;return r}function Ff(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Bf(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var l=31-it(i),o=1<<l,c=s[l];c===-1?(!(o&n)||o&r)&&(s[l]=Ff(o,e)):c<=e&&(t.expiredLanes|=o),i&=~o}}function La(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Hu(){var t=ys;return ys<<=1,!(ys&4194240)&&(ys=64),t}function Vi(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function is(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-it(e),t[e]=n}function Hf(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-it(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Ul(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-it(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Q=0;function Vu(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Wu,Ml,qu,Ku,Ju,Da=!1,xs=[],Ut=null,Mt=null,zt=null,Br=new Map,Hr=new Map,$t=[],Vf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Vo(t,e){switch(t){case"focusin":case"focusout":Ut=null;break;case"dragenter":case"dragleave":Mt=null;break;case"mouseover":case"mouseout":zt=null;break;case"pointerover":case"pointerout":Br.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hr.delete(e.pointerId)}}function fr(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=ls(e),e!==null&&Ml(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function Wf(t,e,n,r,s){switch(e){case"focusin":return Ut=fr(Ut,t,e,n,r,s),!0;case"dragenter":return Mt=fr(Mt,t,e,n,r,s),!0;case"mouseover":return zt=fr(zt,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Br.set(i,fr(Br.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Hr.set(i,fr(Hr.get(i)||null,t,e,n,r,s)),!0}return!1}function Gu(t){var e=cn(t.target);if(e!==null){var n=wn(e);if(n!==null){if(e=n.tag,e===13){if(e=Du(n),e!==null){t.blockedOn=e,Ju(t.priority,function(){qu(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ls(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Ua(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Oa=r,n.target.dispatchEvent(r),Oa=null}else return e=ls(n),e!==null&&Ml(e),t.blockedOn=n,!1;e.shift()}return!0}function Wo(t,e,n){Ls(t)&&n.delete(e)}function qf(){Da=!1,Ut!==null&&Ls(Ut)&&(Ut=null),Mt!==null&&Ls(Mt)&&(Mt=null),zt!==null&&Ls(zt)&&(zt=null),Br.forEach(Wo),Hr.forEach(Wo)}function mr(t,e){t.blockedOn===e&&(t.blockedOn=null,Da||(Da=!0,ze.unstable_scheduleCallback(ze.unstable_NormalPriority,qf)))}function Vr(t){function e(s){return mr(s,t)}if(0<xs.length){mr(xs[0],t);for(var n=1;n<xs.length;n++){var r=xs[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ut!==null&&mr(Ut,t),Mt!==null&&mr(Mt,t),zt!==null&&mr(zt,t),Br.forEach(e),Hr.forEach(e),n=0;n<$t.length;n++)r=$t[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<$t.length&&(n=$t[0],n.blockedOn===null);)Gu(n),n.blockedOn===null&&$t.shift()}var Kn=St.ReactCurrentBatchConfig,Ys=!0;function Kf(t,e,n,r){var s=Q,i=Kn.transition;Kn.transition=null;try{Q=1,zl(t,e,n,r)}finally{Q=s,Kn.transition=i}}function Jf(t,e,n,r){var s=Q,i=Kn.transition;Kn.transition=null;try{Q=4,zl(t,e,n,r)}finally{Q=s,Kn.transition=i}}function zl(t,e,n,r){if(Ys){var s=Ua(t,e,n,r);if(s===null)ea(t,e,r,Xs,n),Vo(t,r);else if(Wf(s,t,e,n,r))r.stopPropagation();else if(Vo(t,r),e&4&&-1<Vf.indexOf(t)){for(;s!==null;){var i=ls(s);if(i!==null&&Wu(i),i=Ua(t,e,n,r),i===null&&ea(t,e,r,Xs,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else ea(t,e,r,null,n)}}var Xs=null;function Ua(t,e,n,r){if(Xs=null,t=Ll(r),t=cn(t),t!==null)if(e=wn(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Du(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Xs=t,null}function Qu(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(If()){case Dl:return 1;case Fu:return 4;case Gs:case Lf:return 16;case Bu:return 536870912;default:return 16}default:return 16}}var Lt=null,Fl=null,Ds=null;function Yu(){if(Ds)return Ds;var t,e=Fl,n=e.length,r,s="value"in Lt?Lt.value:Lt.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var l=n-t;for(r=1;r<=l&&e[n-r]===s[i-r];r++);return Ds=s.slice(t,1<r?1-r:void 0)}function Us(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ws(){return!0}function qo(){return!1}function Be(t){function e(n,r,s,i,l){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=l,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ws:qo,this.isPropagationStopped=qo,this}return ie(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ws)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ws)},persist:function(){},isPersistent:ws}),e}var lr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bl=Be(lr),as=ie({},lr,{view:0,detail:0}),Gf=Be(as),Wi,qi,pr,wi=ie({},as,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hl,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==pr&&(pr&&t.type==="mousemove"?(Wi=t.screenX-pr.screenX,qi=t.screenY-pr.screenY):qi=Wi=0,pr=t),Wi)},movementY:function(t){return"movementY"in t?t.movementY:qi}}),Ko=Be(wi),Qf=ie({},wi,{dataTransfer:0}),Yf=Be(Qf),Xf=ie({},as,{relatedTarget:0}),Ki=Be(Xf),Zf=ie({},lr,{animationName:0,elapsedTime:0,pseudoElement:0}),em=Be(Zf),tm=ie({},lr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),nm=Be(tm),rm=ie({},lr,{data:0}),Jo=Be(rm),sm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},im={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},am={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function lm(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=am[t])?!!e[t]:!1}function Hl(){return lm}var om=ie({},as,{key:function(t){if(t.key){var e=sm[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Us(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?im[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hl,charCode:function(t){return t.type==="keypress"?Us(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Us(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),cm=Be(om),um=ie({},wi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Go=Be(um),dm=ie({},as,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hl}),hm=Be(dm),fm=ie({},lr,{propertyName:0,elapsedTime:0,pseudoElement:0}),mm=Be(fm),pm=ie({},wi,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),gm=Be(pm),ym=[9,13,27,32],Vl=jt&&"CompositionEvent"in window,Er=null;jt&&"documentMode"in document&&(Er=document.documentMode);var vm=jt&&"TextEvent"in window&&!Er,Xu=jt&&(!Vl||Er&&8<Er&&11>=Er),Qo=" ",Yo=!1;function Zu(t,e){switch(t){case"keyup":return ym.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ed(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var $n=!1;function xm(t,e){switch(t){case"compositionend":return ed(e);case"keypress":return e.which!==32?null:(Yo=!0,Qo);case"textInput":return t=e.data,t===Qo&&Yo?null:t;default:return null}}function wm(t,e){if($n)return t==="compositionend"||!Vl&&Zu(t,e)?(t=Yu(),Ds=Fl=Lt=null,$n=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Xu&&e.locale!=="ko"?null:e.data;default:return null}}var _m={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xo(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!_m[t.type]:e==="textarea"}function td(t,e,n,r){Ou(r),e=Zs(e,"onChange"),0<e.length&&(n=new Bl("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Tr=null,Wr=null;function jm(t){hd(t,0)}function _i(t){var e=Ln(t);if(ku(e))return t}function bm(t,e){if(t==="change")return e}var nd=!1;if(jt){var Ji;if(jt){var Gi="oninput"in document;if(!Gi){var Zo=document.createElement("div");Zo.setAttribute("oninput","return;"),Gi=typeof Zo.oninput=="function"}Ji=Gi}else Ji=!1;nd=Ji&&(!document.documentMode||9<document.documentMode)}function ec(){Tr&&(Tr.detachEvent("onpropertychange",rd),Wr=Tr=null)}function rd(t){if(t.propertyName==="value"&&_i(Wr)){var e=[];td(e,Wr,t,Ll(t)),Lu(jm,e)}}function Nm(t,e,n){t==="focusin"?(ec(),Tr=e,Wr=n,Tr.attachEvent("onpropertychange",rd)):t==="focusout"&&ec()}function km(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return _i(Wr)}function Sm(t,e){if(t==="click")return _i(e)}function Cm(t,e){if(t==="input"||t==="change")return _i(e)}function Em(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ot=typeof Object.is=="function"?Object.is:Em;function qr(t,e){if(ot(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!wa.call(e,s)||!ot(t[s],e[s]))return!1}return!0}function tc(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function nc(t,e){var n=tc(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=tc(n)}}function sd(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?sd(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function id(){for(var t=window,e=qs();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=qs(t.document)}return e}function Wl(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Tm(t){var e=id(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&sd(n.ownerDocument.documentElement,n)){if(r!==null&&Wl(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=nc(n,i);var l=nc(n,r);s&&l&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==l.node||t.focusOffset!==l.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(l.node,l.offset)):(e.setEnd(l.node,l.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Pm=jt&&"documentMode"in document&&11>=document.documentMode,Rn=null,Ma=null,Pr=null,za=!1;function rc(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;za||Rn==null||Rn!==qs(r)||(r=Rn,"selectionStart"in r&&Wl(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Pr&&qr(Pr,r)||(Pr=r,r=Zs(Ma,"onSelect"),0<r.length&&(e=new Bl("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Rn)))}function _s(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var In={animationend:_s("Animation","AnimationEnd"),animationiteration:_s("Animation","AnimationIteration"),animationstart:_s("Animation","AnimationStart"),transitionend:_s("Transition","TransitionEnd")},Qi={},ad={};jt&&(ad=document.createElement("div").style,"AnimationEvent"in window||(delete In.animationend.animation,delete In.animationiteration.animation,delete In.animationstart.animation),"TransitionEvent"in window||delete In.transitionend.transition);function ji(t){if(Qi[t])return Qi[t];if(!In[t])return t;var e=In[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in ad)return Qi[t]=e[n];return t}var ld=ji("animationend"),od=ji("animationiteration"),cd=ji("animationstart"),ud=ji("transitionend"),dd=new Map,sc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Qt(t,e){dd.set(t,e),xn(e,[t])}for(var Yi=0;Yi<sc.length;Yi++){var Xi=sc[Yi],Am=Xi.toLowerCase(),Om=Xi[0].toUpperCase()+Xi.slice(1);Qt(Am,"on"+Om)}Qt(ld,"onAnimationEnd");Qt(od,"onAnimationIteration");Qt(cd,"onAnimationStart");Qt("dblclick","onDoubleClick");Qt("focusin","onFocus");Qt("focusout","onBlur");Qt(ud,"onTransitionEnd");Yn("onMouseEnter",["mouseout","mouseover"]);Yn("onMouseLeave",["mouseout","mouseover"]);Yn("onPointerEnter",["pointerout","pointerover"]);Yn("onPointerLeave",["pointerout","pointerover"]);xn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));xn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));xn("onBeforeInput",["compositionend","keypress","textInput","paste"]);xn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));xn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));xn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var br="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$m=new Set("cancel close invalid load scroll toggle".split(" ").concat(br));function ic(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Af(r,e,void 0,t),t.currentTarget=null}function hd(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var l=r.length-1;0<=l;l--){var o=r[l],c=o.instance,u=o.currentTarget;if(o=o.listener,c!==i&&s.isPropagationStopped())break e;ic(s,o,u),i=c}else for(l=0;l<r.length;l++){if(o=r[l],c=o.instance,u=o.currentTarget,o=o.listener,c!==i&&s.isPropagationStopped())break e;ic(s,o,u),i=c}}}if(Js)throw t=Ia,Js=!1,Ia=null,t}function ee(t,e){var n=e[Wa];n===void 0&&(n=e[Wa]=new Set);var r=t+"__bubble";n.has(r)||(fd(e,t,2,!1),n.add(r))}function Zi(t,e,n){var r=0;e&&(r|=4),fd(n,t,r,e)}var js="_reactListening"+Math.random().toString(36).slice(2);function Kr(t){if(!t[js]){t[js]=!0,wu.forEach(function(n){n!=="selectionchange"&&($m.has(n)||Zi(n,!1,t),Zi(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[js]||(e[js]=!0,Zi("selectionchange",!1,e))}}function fd(t,e,n,r){switch(Qu(e)){case 1:var s=Kf;break;case 4:s=Jf;break;default:s=zl}n=s.bind(null,e,n,t),s=void 0,!Ra||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function ea(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var l=r.tag;if(l===3||l===4){var o=r.stateNode.containerInfo;if(o===s||o.nodeType===8&&o.parentNode===s)break;if(l===4)for(l=r.return;l!==null;){var c=l.tag;if((c===3||c===4)&&(c=l.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;l=l.return}for(;o!==null;){if(l=cn(o),l===null)return;if(c=l.tag,c===5||c===6){r=i=l;continue e}o=o.parentNode}}r=r.return}Lu(function(){var u=i,d=Ll(n),m=[];e:{var g=dd.get(t);if(g!==void 0){var x=Bl,y=t;switch(t){case"keypress":if(Us(n)===0)break e;case"keydown":case"keyup":x=cm;break;case"focusin":y="focus",x=Ki;break;case"focusout":y="blur",x=Ki;break;case"beforeblur":case"afterblur":x=Ki;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=Ko;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=Yf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=hm;break;case ld:case od:case cd:x=em;break;case ud:x=mm;break;case"scroll":x=Gf;break;case"wheel":x=gm;break;case"copy":case"cut":case"paste":x=nm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=Go}var w=(e&4)!==0,j=!w&&t==="scroll",h=w?g!==null?g+"Capture":null:g;w=[];for(var f=u,p;f!==null;){p=f;var v=p.stateNode;if(p.tag===5&&v!==null&&(p=v,h!==null&&(v=Fr(f,h),v!=null&&w.push(Jr(f,v,p)))),j)break;f=f.return}0<w.length&&(g=new x(g,y,null,n,d),m.push({event:g,listeners:w}))}}if(!(e&7)){e:{if(g=t==="mouseover"||t==="pointerover",x=t==="mouseout"||t==="pointerout",g&&n!==Oa&&(y=n.relatedTarget||n.fromElement)&&(cn(y)||y[bt]))break e;if((x||g)&&(g=d.window===d?d:(g=d.ownerDocument)?g.defaultView||g.parentWindow:window,x?(y=n.relatedTarget||n.toElement,x=u,y=y?cn(y):null,y!==null&&(j=wn(y),y!==j||y.tag!==5&&y.tag!==6)&&(y=null)):(x=null,y=u),x!==y)){if(w=Ko,v="onMouseLeave",h="onMouseEnter",f="mouse",(t==="pointerout"||t==="pointerover")&&(w=Go,v="onPointerLeave",h="onPointerEnter",f="pointer"),j=x==null?g:Ln(x),p=y==null?g:Ln(y),g=new w(v,f+"leave",x,n,d),g.target=j,g.relatedTarget=p,v=null,cn(d)===u&&(w=new w(h,f+"enter",y,n,d),w.target=p,w.relatedTarget=j,v=w),j=v,x&&y)t:{for(w=x,h=y,f=0,p=w;p;p=bn(p))f++;for(p=0,v=h;v;v=bn(v))p++;for(;0<f-p;)w=bn(w),f--;for(;0<p-f;)h=bn(h),p--;for(;f--;){if(w===h||h!==null&&w===h.alternate)break t;w=bn(w),h=bn(h)}w=null}else w=null;x!==null&&ac(m,g,x,w,!1),y!==null&&j!==null&&ac(m,j,y,w,!0)}}e:{if(g=u?Ln(u):window,x=g.nodeName&&g.nodeName.toLowerCase(),x==="select"||x==="input"&&g.type==="file")var _=bm;else if(Xo(g))if(nd)_=Cm;else{_=km;var b=Nm}else(x=g.nodeName)&&x.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(_=Sm);if(_&&(_=_(t,u))){td(m,_,n,d);break e}b&&b(t,g,u),t==="focusout"&&(b=g._wrapperState)&&b.controlled&&g.type==="number"&&Ca(g,"number",g.value)}switch(b=u?Ln(u):window,t){case"focusin":(Xo(b)||b.contentEditable==="true")&&(Rn=b,Ma=u,Pr=null);break;case"focusout":Pr=Ma=Rn=null;break;case"mousedown":za=!0;break;case"contextmenu":case"mouseup":case"dragend":za=!1,rc(m,n,d);break;case"selectionchange":if(Pm)break;case"keydown":case"keyup":rc(m,n,d)}var C;if(Vl)e:{switch(t){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else $n?Zu(t,n)&&(k="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&(Xu&&n.locale!=="ko"&&($n||k!=="onCompositionStart"?k==="onCompositionEnd"&&$n&&(C=Yu()):(Lt=d,Fl="value"in Lt?Lt.value:Lt.textContent,$n=!0)),b=Zs(u,k),0<b.length&&(k=new Jo(k,t,null,n,d),m.push({event:k,listeners:b}),C?k.data=C:(C=ed(n),C!==null&&(k.data=C)))),(C=vm?xm(t,n):wm(t,n))&&(u=Zs(u,"onBeforeInput"),0<u.length&&(d=new Jo("onBeforeInput","beforeinput",null,n,d),m.push({event:d,listeners:u}),d.data=C))}hd(m,e)})}function Jr(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Zs(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Fr(t,n),i!=null&&r.unshift(Jr(t,i,s)),i=Fr(t,e),i!=null&&r.push(Jr(t,i,s))),t=t.return}return r}function bn(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function ac(t,e,n,r,s){for(var i=e._reactName,l=[];n!==null&&n!==r;){var o=n,c=o.alternate,u=o.stateNode;if(c!==null&&c===r)break;o.tag===5&&u!==null&&(o=u,s?(c=Fr(n,i),c!=null&&l.unshift(Jr(n,c,o))):s||(c=Fr(n,i),c!=null&&l.push(Jr(n,c,o)))),n=n.return}l.length!==0&&t.push({event:e,listeners:l})}var Rm=/\r\n?/g,Im=/\u0000|\uFFFD/g;function lc(t){return(typeof t=="string"?t:""+t).replace(Rm,`
`).replace(Im,"")}function bs(t,e,n){if(e=lc(e),lc(t)!==e&&n)throw Error(P(425))}function ei(){}var Fa=null,Ba=null;function Ha(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Va=typeof setTimeout=="function"?setTimeout:void 0,Lm=typeof clearTimeout=="function"?clearTimeout:void 0,oc=typeof Promise=="function"?Promise:void 0,Dm=typeof queueMicrotask=="function"?queueMicrotask:typeof oc<"u"?function(t){return oc.resolve(null).then(t).catch(Um)}:Va;function Um(t){setTimeout(function(){throw t})}function ta(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Vr(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Vr(e)}function Ft(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function cc(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var or=Math.random().toString(36).slice(2),ht="__reactFiber$"+or,Gr="__reactProps$"+or,bt="__reactContainer$"+or,Wa="__reactEvents$"+or,Mm="__reactListeners$"+or,zm="__reactHandles$"+or;function cn(t){var e=t[ht];if(e)return e;for(var n=t.parentNode;n;){if(e=n[bt]||n[ht]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=cc(t);t!==null;){if(n=t[ht])return n;t=cc(t)}return e}t=n,n=t.parentNode}return null}function ls(t){return t=t[ht]||t[bt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ln(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(P(33))}function bi(t){return t[Gr]||null}var qa=[],Dn=-1;function Yt(t){return{current:t}}function te(t){0>Dn||(t.current=qa[Dn],qa[Dn]=null,Dn--)}function Z(t,e){Dn++,qa[Dn]=t.current,t.current=e}var Kt={},be=Yt(Kt),$e=Yt(!1),mn=Kt;function Xn(t,e){var n=t.type.contextTypes;if(!n)return Kt;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Re(t){return t=t.childContextTypes,t!=null}function ti(){te($e),te(be)}function uc(t,e,n){if(be.current!==Kt)throw Error(P(168));Z(be,e),Z($e,n)}function md(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(P(108,Nf(t)||"Unknown",s));return ie({},n,r)}function ni(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Kt,mn=be.current,Z(be,t),Z($e,$e.current),!0}function dc(t,e,n){var r=t.stateNode;if(!r)throw Error(P(169));n?(t=md(t,e,mn),r.__reactInternalMemoizedMergedChildContext=t,te($e),te(be),Z(be,t)):te($e),Z($e,n)}var vt=null,Ni=!1,na=!1;function pd(t){vt===null?vt=[t]:vt.push(t)}function Fm(t){Ni=!0,pd(t)}function Xt(){if(!na&&vt!==null){na=!0;var t=0,e=Q;try{var n=vt;for(Q=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}vt=null,Ni=!1}catch(s){throw vt!==null&&(vt=vt.slice(t+1)),zu(Dl,Xt),s}finally{Q=e,na=!1}}return null}var Un=[],Mn=0,ri=null,si=0,qe=[],Ke=0,pn=null,xt=1,wt="";function sn(t,e){Un[Mn++]=si,Un[Mn++]=ri,ri=t,si=e}function gd(t,e,n){qe[Ke++]=xt,qe[Ke++]=wt,qe[Ke++]=pn,pn=t;var r=xt;t=wt;var s=32-it(r)-1;r&=~(1<<s),n+=1;var i=32-it(e)+s;if(30<i){var l=s-s%5;i=(r&(1<<l)-1).toString(32),r>>=l,s-=l,xt=1<<32-it(e)+s|n<<s|r,wt=i+t}else xt=1<<i|n<<s|r,wt=t}function ql(t){t.return!==null&&(sn(t,1),gd(t,1,0))}function Kl(t){for(;t===ri;)ri=Un[--Mn],Un[Mn]=null,si=Un[--Mn],Un[Mn]=null;for(;t===pn;)pn=qe[--Ke],qe[Ke]=null,wt=qe[--Ke],qe[Ke]=null,xt=qe[--Ke],qe[Ke]=null}var Me=null,Ue=null,ne=!1,st=null;function yd(t,e){var n=Je(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function hc(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Me=t,Ue=Ft(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Me=t,Ue=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=pn!==null?{id:xt,overflow:wt}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Je(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Me=t,Ue=null,!0):!1;default:return!1}}function Ka(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Ja(t){if(ne){var e=Ue;if(e){var n=e;if(!hc(t,e)){if(Ka(t))throw Error(P(418));e=Ft(n.nextSibling);var r=Me;e&&hc(t,e)?yd(r,n):(t.flags=t.flags&-4097|2,ne=!1,Me=t)}}else{if(Ka(t))throw Error(P(418));t.flags=t.flags&-4097|2,ne=!1,Me=t}}}function fc(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Me=t}function Ns(t){if(t!==Me)return!1;if(!ne)return fc(t),ne=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Ha(t.type,t.memoizedProps)),e&&(e=Ue)){if(Ka(t))throw vd(),Error(P(418));for(;e;)yd(t,e),e=Ft(e.nextSibling)}if(fc(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(P(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Ue=Ft(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Ue=null}}else Ue=Me?Ft(t.stateNode.nextSibling):null;return!0}function vd(){for(var t=Ue;t;)t=Ft(t.nextSibling)}function Zn(){Ue=Me=null,ne=!1}function Jl(t){st===null?st=[t]:st.push(t)}var Bm=St.ReactCurrentBatchConfig;function gr(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(P(309));var r=n.stateNode}if(!r)throw Error(P(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(l){var o=s.refs;l===null?delete o[i]:o[i]=l},e._stringRef=i,e)}if(typeof t!="string")throw Error(P(284));if(!n._owner)throw Error(P(290,t))}return t}function ks(t,e){throw t=Object.prototype.toString.call(e),Error(P(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function mc(t){var e=t._init;return e(t._payload)}function xd(t){function e(h,f){if(t){var p=h.deletions;p===null?(h.deletions=[f],h.flags|=16):p.push(f)}}function n(h,f){if(!t)return null;for(;f!==null;)e(h,f),f=f.sibling;return null}function r(h,f){for(h=new Map;f!==null;)f.key!==null?h.set(f.key,f):h.set(f.index,f),f=f.sibling;return h}function s(h,f){return h=Wt(h,f),h.index=0,h.sibling=null,h}function i(h,f,p){return h.index=p,t?(p=h.alternate,p!==null?(p=p.index,p<f?(h.flags|=2,f):p):(h.flags|=2,f)):(h.flags|=1048576,f)}function l(h){return t&&h.alternate===null&&(h.flags|=2),h}function o(h,f,p,v){return f===null||f.tag!==6?(f=ca(p,h.mode,v),f.return=h,f):(f=s(f,p),f.return=h,f)}function c(h,f,p,v){var _=p.type;return _===On?d(h,f,p.props.children,v,p.key):f!==null&&(f.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===At&&mc(_)===f.type)?(v=s(f,p.props),v.ref=gr(h,f,p),v.return=h,v):(v=Ws(p.type,p.key,p.props,null,h.mode,v),v.ref=gr(h,f,p),v.return=h,v)}function u(h,f,p,v){return f===null||f.tag!==4||f.stateNode.containerInfo!==p.containerInfo||f.stateNode.implementation!==p.implementation?(f=ua(p,h.mode,v),f.return=h,f):(f=s(f,p.children||[]),f.return=h,f)}function d(h,f,p,v,_){return f===null||f.tag!==7?(f=fn(p,h.mode,v,_),f.return=h,f):(f=s(f,p),f.return=h,f)}function m(h,f,p){if(typeof f=="string"&&f!==""||typeof f=="number")return f=ca(""+f,h.mode,p),f.return=h,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case ms:return p=Ws(f.type,f.key,f.props,null,h.mode,p),p.ref=gr(h,null,f),p.return=h,p;case An:return f=ua(f,h.mode,p),f.return=h,f;case At:var v=f._init;return m(h,v(f._payload),p)}if(_r(f)||dr(f))return f=fn(f,h.mode,p,null),f.return=h,f;ks(h,f)}return null}function g(h,f,p,v){var _=f!==null?f.key:null;if(typeof p=="string"&&p!==""||typeof p=="number")return _!==null?null:o(h,f,""+p,v);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case ms:return p.key===_?c(h,f,p,v):null;case An:return p.key===_?u(h,f,p,v):null;case At:return _=p._init,g(h,f,_(p._payload),v)}if(_r(p)||dr(p))return _!==null?null:d(h,f,p,v,null);ks(h,p)}return null}function x(h,f,p,v,_){if(typeof v=="string"&&v!==""||typeof v=="number")return h=h.get(p)||null,o(f,h,""+v,_);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case ms:return h=h.get(v.key===null?p:v.key)||null,c(f,h,v,_);case An:return h=h.get(v.key===null?p:v.key)||null,u(f,h,v,_);case At:var b=v._init;return x(h,f,p,b(v._payload),_)}if(_r(v)||dr(v))return h=h.get(p)||null,d(f,h,v,_,null);ks(f,v)}return null}function y(h,f,p,v){for(var _=null,b=null,C=f,k=f=0,T=null;C!==null&&k<p.length;k++){C.index>k?(T=C,C=null):T=C.sibling;var N=g(h,C,p[k],v);if(N===null){C===null&&(C=T);break}t&&C&&N.alternate===null&&e(h,C),f=i(N,f,k),b===null?_=N:b.sibling=N,b=N,C=T}if(k===p.length)return n(h,C),ne&&sn(h,k),_;if(C===null){for(;k<p.length;k++)C=m(h,p[k],v),C!==null&&(f=i(C,f,k),b===null?_=C:b.sibling=C,b=C);return ne&&sn(h,k),_}for(C=r(h,C);k<p.length;k++)T=x(C,h,k,p[k],v),T!==null&&(t&&T.alternate!==null&&C.delete(T.key===null?k:T.key),f=i(T,f,k),b===null?_=T:b.sibling=T,b=T);return t&&C.forEach(function(S){return e(h,S)}),ne&&sn(h,k),_}function w(h,f,p,v){var _=dr(p);if(typeof _!="function")throw Error(P(150));if(p=_.call(p),p==null)throw Error(P(151));for(var b=_=null,C=f,k=f=0,T=null,N=p.next();C!==null&&!N.done;k++,N=p.next()){C.index>k?(T=C,C=null):T=C.sibling;var S=g(h,C,N.value,v);if(S===null){C===null&&(C=T);break}t&&C&&S.alternate===null&&e(h,C),f=i(S,f,k),b===null?_=S:b.sibling=S,b=S,C=T}if(N.done)return n(h,C),ne&&sn(h,k),_;if(C===null){for(;!N.done;k++,N=p.next())N=m(h,N.value,v),N!==null&&(f=i(N,f,k),b===null?_=N:b.sibling=N,b=N);return ne&&sn(h,k),_}for(C=r(h,C);!N.done;k++,N=p.next())N=x(C,h,k,N.value,v),N!==null&&(t&&N.alternate!==null&&C.delete(N.key===null?k:N.key),f=i(N,f,k),b===null?_=N:b.sibling=N,b=N);return t&&C.forEach(function(A){return e(h,A)}),ne&&sn(h,k),_}function j(h,f,p,v){if(typeof p=="object"&&p!==null&&p.type===On&&p.key===null&&(p=p.props.children),typeof p=="object"&&p!==null){switch(p.$$typeof){case ms:e:{for(var _=p.key,b=f;b!==null;){if(b.key===_){if(_=p.type,_===On){if(b.tag===7){n(h,b.sibling),f=s(b,p.props.children),f.return=h,h=f;break e}}else if(b.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===At&&mc(_)===b.type){n(h,b.sibling),f=s(b,p.props),f.ref=gr(h,b,p),f.return=h,h=f;break e}n(h,b);break}else e(h,b);b=b.sibling}p.type===On?(f=fn(p.props.children,h.mode,v,p.key),f.return=h,h=f):(v=Ws(p.type,p.key,p.props,null,h.mode,v),v.ref=gr(h,f,p),v.return=h,h=v)}return l(h);case An:e:{for(b=p.key;f!==null;){if(f.key===b)if(f.tag===4&&f.stateNode.containerInfo===p.containerInfo&&f.stateNode.implementation===p.implementation){n(h,f.sibling),f=s(f,p.children||[]),f.return=h,h=f;break e}else{n(h,f);break}else e(h,f);f=f.sibling}f=ua(p,h.mode,v),f.return=h,h=f}return l(h);case At:return b=p._init,j(h,f,b(p._payload),v)}if(_r(p))return y(h,f,p,v);if(dr(p))return w(h,f,p,v);ks(h,p)}return typeof p=="string"&&p!==""||typeof p=="number"?(p=""+p,f!==null&&f.tag===6?(n(h,f.sibling),f=s(f,p),f.return=h,h=f):(n(h,f),f=ca(p,h.mode,v),f.return=h,h=f),l(h)):n(h,f)}return j}var er=xd(!0),wd=xd(!1),ii=Yt(null),ai=null,zn=null,Gl=null;function Ql(){Gl=zn=ai=null}function Yl(t){var e=ii.current;te(ii),t._currentValue=e}function Ga(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Jn(t,e){ai=t,Gl=zn=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ae=!0),t.firstContext=null)}function Ye(t){var e=t._currentValue;if(Gl!==t)if(t={context:t,memoizedValue:e,next:null},zn===null){if(ai===null)throw Error(P(308));zn=t,ai.dependencies={lanes:0,firstContext:t}}else zn=zn.next=t;return e}var un=null;function Xl(t){un===null?un=[t]:un.push(t)}function _d(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Xl(e)):(n.next=s.next,s.next=n),e.interleaved=n,Nt(t,r)}function Nt(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ot=!1;function Zl(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function jd(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function _t(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Bt(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,G&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Nt(t,n)}return s=r.interleaved,s===null?(e.next=e,Xl(r)):(e.next=s.next,s.next=e),r.interleaved=e,Nt(t,n)}function Ms(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ul(t,n)}}function pc(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=l:i=i.next=l,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function li(t,e,n,r){var s=t.updateQueue;Ot=!1;var i=s.firstBaseUpdate,l=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var c=o,u=c.next;c.next=null,l===null?i=u:l.next=u,l=c;var d=t.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==l&&(o===null?d.firstBaseUpdate=u:o.next=u,d.lastBaseUpdate=c))}if(i!==null){var m=s.baseState;l=0,d=u=c=null,o=i;do{var g=o.lane,x=o.eventTime;if((r&g)===g){d!==null&&(d=d.next={eventTime:x,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var y=t,w=o;switch(g=e,x=n,w.tag){case 1:if(y=w.payload,typeof y=="function"){m=y.call(x,m,g);break e}m=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=w.payload,g=typeof y=="function"?y.call(x,m,g):y,g==null)break e;m=ie({},m,g);break e;case 2:Ot=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,g=s.effects,g===null?s.effects=[o]:g.push(o))}else x={eventTime:x,lane:g,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(u=d=x,c=m):d=d.next=x,l|=g;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;g=o,o=g.next,g.next=null,s.lastBaseUpdate=g,s.shared.pending=null}}while(!0);if(d===null&&(c=m),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do l|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);yn|=l,t.lanes=l,t.memoizedState=m}}function gc(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(P(191,s));s.call(r)}}}var os={},mt=Yt(os),Qr=Yt(os),Yr=Yt(os);function dn(t){if(t===os)throw Error(P(174));return t}function eo(t,e){switch(Z(Yr,e),Z(Qr,t),Z(mt,os),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ta(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Ta(e,t)}te(mt),Z(mt,e)}function tr(){te(mt),te(Qr),te(Yr)}function bd(t){dn(Yr.current);var e=dn(mt.current),n=Ta(e,t.type);e!==n&&(Z(Qr,t),Z(mt,n))}function to(t){Qr.current===t&&(te(mt),te(Qr))}var re=Yt(0);function oi(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ra=[];function no(){for(var t=0;t<ra.length;t++)ra[t]._workInProgressVersionPrimary=null;ra.length=0}var zs=St.ReactCurrentDispatcher,sa=St.ReactCurrentBatchConfig,gn=0,se=null,he=null,pe=null,ci=!1,Ar=!1,Xr=0,Hm=0;function we(){throw Error(P(321))}function ro(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ot(t[n],e[n]))return!1;return!0}function so(t,e,n,r,s,i){if(gn=i,se=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,zs.current=t===null||t.memoizedState===null?Km:Jm,t=n(r,s),Ar){i=0;do{if(Ar=!1,Xr=0,25<=i)throw Error(P(301));i+=1,pe=he=null,e.updateQueue=null,zs.current=Gm,t=n(r,s)}while(Ar)}if(zs.current=ui,e=he!==null&&he.next!==null,gn=0,pe=he=se=null,ci=!1,e)throw Error(P(300));return t}function io(){var t=Xr!==0;return Xr=0,t}function ut(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pe===null?se.memoizedState=pe=t:pe=pe.next=t,pe}function Xe(){if(he===null){var t=se.alternate;t=t!==null?t.memoizedState:null}else t=he.next;var e=pe===null?se.memoizedState:pe.next;if(e!==null)pe=e,he=t;else{if(t===null)throw Error(P(310));he=t,t={memoizedState:he.memoizedState,baseState:he.baseState,baseQueue:he.baseQueue,queue:he.queue,next:null},pe===null?se.memoizedState=pe=t:pe=pe.next=t}return pe}function Zr(t,e){return typeof e=="function"?e(t):e}function ia(t){var e=Xe(),n=e.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=t;var r=he,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var l=s.next;s.next=i.next,i.next=l}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var o=l=null,c=null,u=i;do{var d=u.lane;if((gn&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var m={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(o=c=m,l=r):c=c.next=m,se.lanes|=d,yn|=d}u=u.next}while(u!==null&&u!==i);c===null?l=r:c.next=o,ot(r,e.memoizedState)||(Ae=!0),e.memoizedState=r,e.baseState=l,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,se.lanes|=i,yn|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function aa(t){var e=Xe(),n=e.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var l=s=s.next;do i=t(i,l.action),l=l.next;while(l!==s);ot(i,e.memoizedState)||(Ae=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function Nd(){}function kd(t,e){var n=se,r=Xe(),s=e(),i=!ot(r.memoizedState,s);if(i&&(r.memoizedState=s,Ae=!0),r=r.queue,ao(Ed.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||pe!==null&&pe.memoizedState.tag&1){if(n.flags|=2048,es(9,Cd.bind(null,n,r,s,e),void 0,null),ge===null)throw Error(P(349));gn&30||Sd(n,e,s)}return s}function Sd(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=se.updateQueue,e===null?(e={lastEffect:null,stores:null},se.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Cd(t,e,n,r){e.value=n,e.getSnapshot=r,Td(e)&&Pd(t)}function Ed(t,e,n){return n(function(){Td(e)&&Pd(t)})}function Td(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ot(t,n)}catch{return!0}}function Pd(t){var e=Nt(t,1);e!==null&&at(e,t,1,-1)}function yc(t){var e=ut();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Zr,lastRenderedState:t},e.queue=t,t=t.dispatch=qm.bind(null,se,t),[e.memoizedState,t]}function es(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=se.updateQueue,e===null?(e={lastEffect:null,stores:null},se.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Ad(){return Xe().memoizedState}function Fs(t,e,n,r){var s=ut();se.flags|=t,s.memoizedState=es(1|e,n,void 0,r===void 0?null:r)}function ki(t,e,n,r){var s=Xe();r=r===void 0?null:r;var i=void 0;if(he!==null){var l=he.memoizedState;if(i=l.destroy,r!==null&&ro(r,l.deps)){s.memoizedState=es(e,n,i,r);return}}se.flags|=t,s.memoizedState=es(1|e,n,i,r)}function vc(t,e){return Fs(8390656,8,t,e)}function ao(t,e){return ki(2048,8,t,e)}function Od(t,e){return ki(4,2,t,e)}function $d(t,e){return ki(4,4,t,e)}function Rd(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Id(t,e,n){return n=n!=null?n.concat([t]):null,ki(4,4,Rd.bind(null,e,t),n)}function lo(){}function Ld(t,e){var n=Xe();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ro(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Dd(t,e){var n=Xe();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ro(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Ud(t,e,n){return gn&21?(ot(n,e)||(n=Hu(),se.lanes|=n,yn|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ae=!0),t.memoizedState=n)}function Vm(t,e){var n=Q;Q=n!==0&&4>n?n:4,t(!0);var r=sa.transition;sa.transition={};try{t(!1),e()}finally{Q=n,sa.transition=r}}function Md(){return Xe().memoizedState}function Wm(t,e,n){var r=Vt(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},zd(t))Fd(e,n);else if(n=_d(t,e,n,r),n!==null){var s=Se();at(n,t,r,s),Bd(n,e,r)}}function qm(t,e,n){var r=Vt(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(zd(t))Fd(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var l=e.lastRenderedState,o=i(l,n);if(s.hasEagerState=!0,s.eagerState=o,ot(o,l)){var c=e.interleaved;c===null?(s.next=s,Xl(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}n=_d(t,e,s,r),n!==null&&(s=Se(),at(n,t,r,s),Bd(n,e,r))}}function zd(t){var e=t.alternate;return t===se||e!==null&&e===se}function Fd(t,e){Ar=ci=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Bd(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ul(t,n)}}var ui={readContext:Ye,useCallback:we,useContext:we,useEffect:we,useImperativeHandle:we,useInsertionEffect:we,useLayoutEffect:we,useMemo:we,useReducer:we,useRef:we,useState:we,useDebugValue:we,useDeferredValue:we,useTransition:we,useMutableSource:we,useSyncExternalStore:we,useId:we,unstable_isNewReconciler:!1},Km={readContext:Ye,useCallback:function(t,e){return ut().memoizedState=[t,e===void 0?null:e],t},useContext:Ye,useEffect:vc,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Fs(4194308,4,Rd.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Fs(4194308,4,t,e)},useInsertionEffect:function(t,e){return Fs(4,2,t,e)},useMemo:function(t,e){var n=ut();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ut();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Wm.bind(null,se,t),[r.memoizedState,t]},useRef:function(t){var e=ut();return t={current:t},e.memoizedState=t},useState:yc,useDebugValue:lo,useDeferredValue:function(t){return ut().memoizedState=t},useTransition:function(){var t=yc(!1),e=t[0];return t=Vm.bind(null,t[1]),ut().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=se,s=ut();if(ne){if(n===void 0)throw Error(P(407));n=n()}else{if(n=e(),ge===null)throw Error(P(349));gn&30||Sd(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,vc(Ed.bind(null,r,i,t),[t]),r.flags|=2048,es(9,Cd.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=ut(),e=ge.identifierPrefix;if(ne){var n=wt,r=xt;n=(r&~(1<<32-it(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Xr++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Hm++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Jm={readContext:Ye,useCallback:Ld,useContext:Ye,useEffect:ao,useImperativeHandle:Id,useInsertionEffect:Od,useLayoutEffect:$d,useMemo:Dd,useReducer:ia,useRef:Ad,useState:function(){return ia(Zr)},useDebugValue:lo,useDeferredValue:function(t){var e=Xe();return Ud(e,he.memoizedState,t)},useTransition:function(){var t=ia(Zr)[0],e=Xe().memoizedState;return[t,e]},useMutableSource:Nd,useSyncExternalStore:kd,useId:Md,unstable_isNewReconciler:!1},Gm={readContext:Ye,useCallback:Ld,useContext:Ye,useEffect:ao,useImperativeHandle:Id,useInsertionEffect:Od,useLayoutEffect:$d,useMemo:Dd,useReducer:aa,useRef:Ad,useState:function(){return aa(Zr)},useDebugValue:lo,useDeferredValue:function(t){var e=Xe();return he===null?e.memoizedState=t:Ud(e,he.memoizedState,t)},useTransition:function(){var t=aa(Zr)[0],e=Xe().memoizedState;return[t,e]},useMutableSource:Nd,useSyncExternalStore:kd,useId:Md,unstable_isNewReconciler:!1};function tt(t,e){if(t&&t.defaultProps){e=ie({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Qa(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ie({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Si={isMounted:function(t){return(t=t._reactInternals)?wn(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Se(),s=Vt(t),i=_t(r,s);i.payload=e,n!=null&&(i.callback=n),e=Bt(t,i,s),e!==null&&(at(e,t,s,r),Ms(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Se(),s=Vt(t),i=_t(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Bt(t,i,s),e!==null&&(at(e,t,s,r),Ms(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Se(),r=Vt(t),s=_t(n,r);s.tag=2,e!=null&&(s.callback=e),e=Bt(t,s,r),e!==null&&(at(e,t,r,n),Ms(e,t,r))}};function xc(t,e,n,r,s,i,l){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,l):e.prototype&&e.prototype.isPureReactComponent?!qr(n,r)||!qr(s,i):!0}function Hd(t,e,n){var r=!1,s=Kt,i=e.contextType;return typeof i=="object"&&i!==null?i=Ye(i):(s=Re(e)?mn:be.current,r=e.contextTypes,i=(r=r!=null)?Xn(t,s):Kt),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Si,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function wc(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Si.enqueueReplaceState(e,e.state,null)}function Ya(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Zl(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Ye(i):(i=Re(e)?mn:be.current,s.context=Xn(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Qa(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Si.enqueueReplaceState(s,s.state,null),li(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function nr(t,e){try{var n="",r=e;do n+=bf(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function la(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Xa(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Qm=typeof WeakMap=="function"?WeakMap:Map;function Vd(t,e,n){n=_t(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){hi||(hi=!0,ol=r),Xa(t,e)},n}function Wd(t,e,n){n=_t(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Xa(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Xa(t,e),typeof r!="function"&&(Ht===null?Ht=new Set([this]):Ht.add(this));var l=e.stack;this.componentDidCatch(e.value,{componentStack:l!==null?l:""})}),n}function _c(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Qm;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=up.bind(null,t,e,n),e.then(t,t))}function jc(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function bc(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=_t(-1,1),e.tag=2,Bt(n,e,1))),n.lanes|=1),t)}var Ym=St.ReactCurrentOwner,Ae=!1;function ke(t,e,n,r){e.child=t===null?wd(e,null,n,r):er(e,t.child,n,r)}function Nc(t,e,n,r,s){n=n.render;var i=e.ref;return Jn(e,s),r=so(t,e,n,r,i,s),n=io(),t!==null&&!Ae?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,kt(t,e,s)):(ne&&n&&ql(e),e.flags|=1,ke(t,e,r,s),e.child)}function kc(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!go(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,qd(t,e,i,r,s)):(t=Ws(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var l=i.memoizedProps;if(n=n.compare,n=n!==null?n:qr,n(l,r)&&t.ref===e.ref)return kt(t,e,s)}return e.flags|=1,t=Wt(i,r),t.ref=e.ref,t.return=e,e.child=t}function qd(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(qr(i,r)&&t.ref===e.ref)if(Ae=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Ae=!0);else return e.lanes=t.lanes,kt(t,e,s)}return Za(t,e,n,r,s)}function Kd(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Z(Bn,De),De|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Z(Bn,De),De|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Z(Bn,De),De|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Z(Bn,De),De|=r;return ke(t,e,s,n),e.child}function Jd(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Za(t,e,n,r,s){var i=Re(n)?mn:be.current;return i=Xn(e,i),Jn(e,s),n=so(t,e,n,r,i,s),r=io(),t!==null&&!Ae?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,kt(t,e,s)):(ne&&r&&ql(e),e.flags|=1,ke(t,e,n,s),e.child)}function Sc(t,e,n,r,s){if(Re(n)){var i=!0;ni(e)}else i=!1;if(Jn(e,s),e.stateNode===null)Bs(t,e),Hd(e,n,r),Ya(e,n,r,s),r=!0;else if(t===null){var l=e.stateNode,o=e.memoizedProps;l.props=o;var c=l.context,u=n.contextType;typeof u=="object"&&u!==null?u=Ye(u):(u=Re(n)?mn:be.current,u=Xn(e,u));var d=n.getDerivedStateFromProps,m=typeof d=="function"||typeof l.getSnapshotBeforeUpdate=="function";m||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==r||c!==u)&&wc(e,l,r,u),Ot=!1;var g=e.memoizedState;l.state=g,li(e,r,l,s),c=e.memoizedState,o!==r||g!==c||$e.current||Ot?(typeof d=="function"&&(Qa(e,n,d,r),c=e.memoizedState),(o=Ot||xc(e,n,o,r,g,c,u))?(m||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(e.flags|=4194308)):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),l.props=r,l.state=c,l.context=u,r=o):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{l=e.stateNode,jd(t,e),o=e.memoizedProps,u=e.type===e.elementType?o:tt(e.type,o),l.props=u,m=e.pendingProps,g=l.context,c=n.contextType,typeof c=="object"&&c!==null?c=Ye(c):(c=Re(n)?mn:be.current,c=Xn(e,c));var x=n.getDerivedStateFromProps;(d=typeof x=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==m||g!==c)&&wc(e,l,r,c),Ot=!1,g=e.memoizedState,l.state=g,li(e,r,l,s);var y=e.memoizedState;o!==m||g!==y||$e.current||Ot?(typeof x=="function"&&(Qa(e,n,x,r),y=e.memoizedState),(u=Ot||xc(e,n,u,r,g,y,c)||!1)?(d||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(r,y,c),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(r,y,c)),typeof l.componentDidUpdate=="function"&&(e.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof l.componentDidUpdate!="function"||o===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),l.props=r,l.state=y,l.context=c,r=u):(typeof l.componentDidUpdate!="function"||o===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),r=!1)}return el(t,e,n,r,i,s)}function el(t,e,n,r,s,i){Jd(t,e);var l=(e.flags&128)!==0;if(!r&&!l)return s&&dc(e,n,!1),kt(t,e,i);r=e.stateNode,Ym.current=e;var o=l&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&l?(e.child=er(e,t.child,null,i),e.child=er(e,null,o,i)):ke(t,e,o,i),e.memoizedState=r.state,s&&dc(e,n,!0),e.child}function Gd(t){var e=t.stateNode;e.pendingContext?uc(t,e.pendingContext,e.pendingContext!==e.context):e.context&&uc(t,e.context,!1),eo(t,e.containerInfo)}function Cc(t,e,n,r,s){return Zn(),Jl(s),e.flags|=256,ke(t,e,n,r),e.child}var tl={dehydrated:null,treeContext:null,retryLane:0};function nl(t){return{baseLanes:t,cachePool:null,transitions:null}}function Qd(t,e,n){var r=e.pendingProps,s=re.current,i=!1,l=(e.flags&128)!==0,o;if((o=l)||(o=t!==null&&t.memoizedState===null?!1:(s&2)!==0),o?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Z(re,s&1),t===null)return Ja(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(l=r.children,t=r.fallback,i?(r=e.mode,i=e.child,l={mode:"hidden",children:l},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=l):i=Ti(l,r,0,null),t=fn(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=nl(n),e.memoizedState=tl,t):oo(e,l));if(s=t.memoizedState,s!==null&&(o=s.dehydrated,o!==null))return Xm(t,e,l,r,o,s,n);if(i){i=r.fallback,l=e.mode,s=t.child,o=s.sibling;var c={mode:"hidden",children:r.children};return!(l&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=Wt(s,c),r.subtreeFlags=s.subtreeFlags&14680064),o!==null?i=Wt(o,i):(i=fn(i,l,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,l=t.child.memoizedState,l=l===null?nl(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},i.memoizedState=l,i.childLanes=t.childLanes&~n,e.memoizedState=tl,r}return i=t.child,t=i.sibling,r=Wt(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function oo(t,e){return e=Ti({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ss(t,e,n,r){return r!==null&&Jl(r),er(e,t.child,null,n),t=oo(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Xm(t,e,n,r,s,i,l){if(n)return e.flags&256?(e.flags&=-257,r=la(Error(P(422))),Ss(t,e,l,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Ti({mode:"visible",children:r.children},s,0,null),i=fn(i,s,l,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&er(e,t.child,null,l),e.child.memoizedState=nl(l),e.memoizedState=tl,i);if(!(e.mode&1))return Ss(t,e,l,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var o=r.dgst;return r=o,i=Error(P(419)),r=la(i,r,void 0),Ss(t,e,l,r)}if(o=(l&t.childLanes)!==0,Ae||o){if(r=ge,r!==null){switch(l&-l){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|l)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Nt(t,s),at(r,t,s,-1))}return po(),r=la(Error(P(421))),Ss(t,e,l,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=dp.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Ue=Ft(s.nextSibling),Me=e,ne=!0,st=null,t!==null&&(qe[Ke++]=xt,qe[Ke++]=wt,qe[Ke++]=pn,xt=t.id,wt=t.overflow,pn=e),e=oo(e,r.children),e.flags|=4096,e)}function Ec(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Ga(t.return,e,n)}function oa(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Yd(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(ke(t,e,r.children,n),r=re.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ec(t,n,e);else if(t.tag===19)Ec(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Z(re,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&oi(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),oa(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&oi(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}oa(e,!0,n,null,i);break;case"together":oa(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Bs(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function kt(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),yn|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(P(153));if(e.child!==null){for(t=e.child,n=Wt(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Wt(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Zm(t,e,n){switch(e.tag){case 3:Gd(e),Zn();break;case 5:bd(e);break;case 1:Re(e.type)&&ni(e);break;case 4:eo(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Z(ii,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Z(re,re.current&1),e.flags|=128,null):n&e.child.childLanes?Qd(t,e,n):(Z(re,re.current&1),t=kt(t,e,n),t!==null?t.sibling:null);Z(re,re.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Yd(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Z(re,re.current),r)break;return null;case 22:case 23:return e.lanes=0,Kd(t,e,n)}return kt(t,e,n)}var Xd,rl,Zd,eh;Xd=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};rl=function(){};Zd=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,dn(mt.current);var i=null;switch(n){case"input":s=ka(t,s),r=ka(t,r),i=[];break;case"select":s=ie({},s,{value:void 0}),r=ie({},r,{value:void 0}),i=[];break;case"textarea":s=Ea(t,s),r=Ea(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=ei)}Pa(n,r);var l;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var o=s[u];for(l in o)o.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Mr.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(o=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==o&&(c!=null||o!=null))if(u==="style")if(o){for(l in o)!o.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in c)c.hasOwnProperty(l)&&o[l]!==c[l]&&(n||(n={}),n[l]=c[l])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Mr.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&ee("scroll",t),i||o===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};eh=function(t,e,n,r){n!==r&&(e.flags|=4)};function yr(t,e){if(!ne)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function _e(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function ep(t,e,n){var r=e.pendingProps;switch(Kl(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _e(e),null;case 1:return Re(e.type)&&ti(),_e(e),null;case 3:return r=e.stateNode,tr(),te($e),te(be),no(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ns(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,st!==null&&(dl(st),st=null))),rl(t,e),_e(e),null;case 5:to(e);var s=dn(Yr.current);if(n=e.type,t!==null&&e.stateNode!=null)Zd(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(P(166));return _e(e),null}if(t=dn(mt.current),Ns(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[ht]=e,r[Gr]=i,t=(e.mode&1)!==0,n){case"dialog":ee("cancel",r),ee("close",r);break;case"iframe":case"object":case"embed":ee("load",r);break;case"video":case"audio":for(s=0;s<br.length;s++)ee(br[s],r);break;case"source":ee("error",r);break;case"img":case"image":case"link":ee("error",r),ee("load",r);break;case"details":ee("toggle",r);break;case"input":Do(r,i),ee("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},ee("invalid",r);break;case"textarea":Mo(r,i),ee("invalid",r)}Pa(n,i),s=null;for(var l in i)if(i.hasOwnProperty(l)){var o=i[l];l==="children"?typeof o=="string"?r.textContent!==o&&(i.suppressHydrationWarning!==!0&&bs(r.textContent,o,t),s=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&bs(r.textContent,o,t),s=["children",""+o]):Mr.hasOwnProperty(l)&&o!=null&&l==="onScroll"&&ee("scroll",r)}switch(n){case"input":ps(r),Uo(r,i,!0);break;case"textarea":ps(r),zo(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=ei)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{l=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Eu(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=l.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=l.createElement(n,{is:r.is}):(t=l.createElement(n),n==="select"&&(l=t,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):t=l.createElementNS(t,n),t[ht]=e,t[Gr]=r,Xd(t,e,!1,!1),e.stateNode=t;e:{switch(l=Aa(n,r),n){case"dialog":ee("cancel",t),ee("close",t),s=r;break;case"iframe":case"object":case"embed":ee("load",t),s=r;break;case"video":case"audio":for(s=0;s<br.length;s++)ee(br[s],t);s=r;break;case"source":ee("error",t),s=r;break;case"img":case"image":case"link":ee("error",t),ee("load",t),s=r;break;case"details":ee("toggle",t),s=r;break;case"input":Do(t,r),s=ka(t,r),ee("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=ie({},r,{value:void 0}),ee("invalid",t);break;case"textarea":Mo(t,r),s=Ea(t,r),ee("invalid",t);break;default:s=r}Pa(n,s),o=s;for(i in o)if(o.hasOwnProperty(i)){var c=o[i];i==="style"?Au(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Tu(t,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&zr(t,c):typeof c=="number"&&zr(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Mr.hasOwnProperty(i)?c!=null&&i==="onScroll"&&ee("scroll",t):c!=null&&Ol(t,i,c,l))}switch(n){case"input":ps(t),Uo(t,r,!1);break;case"textarea":ps(t),zo(t);break;case"option":r.value!=null&&t.setAttribute("value",""+qt(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Vn(t,!!r.multiple,i,!1):r.defaultValue!=null&&Vn(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=ei)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return _e(e),null;case 6:if(t&&e.stateNode!=null)eh(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(P(166));if(n=dn(Yr.current),dn(mt.current),Ns(e)){if(r=e.stateNode,n=e.memoizedProps,r[ht]=e,(i=r.nodeValue!==n)&&(t=Me,t!==null))switch(t.tag){case 3:bs(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&bs(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ht]=e,e.stateNode=r}return _e(e),null;case 13:if(te(re),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ne&&Ue!==null&&e.mode&1&&!(e.flags&128))vd(),Zn(),e.flags|=98560,i=!1;else if(i=Ns(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(P(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(P(317));i[ht]=e}else Zn(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;_e(e),i=!1}else st!==null&&(dl(st),st=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||re.current&1?fe===0&&(fe=3):po())),e.updateQueue!==null&&(e.flags|=4),_e(e),null);case 4:return tr(),rl(t,e),t===null&&Kr(e.stateNode.containerInfo),_e(e),null;case 10:return Yl(e.type._context),_e(e),null;case 17:return Re(e.type)&&ti(),_e(e),null;case 19:if(te(re),i=e.memoizedState,i===null)return _e(e),null;if(r=(e.flags&128)!==0,l=i.rendering,l===null)if(r)yr(i,!1);else{if(fe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(l=oi(t),l!==null){for(e.flags|=128,yr(i,!1),r=l.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,l=i.alternate,l===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,t=l.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Z(re,re.current&1|2),e.child}t=t.sibling}i.tail!==null&&oe()>rr&&(e.flags|=128,r=!0,yr(i,!1),e.lanes=4194304)}else{if(!r)if(t=oi(l),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),yr(i,!0),i.tail===null&&i.tailMode==="hidden"&&!l.alternate&&!ne)return _e(e),null}else 2*oe()-i.renderingStartTime>rr&&n!==1073741824&&(e.flags|=128,r=!0,yr(i,!1),e.lanes=4194304);i.isBackwards?(l.sibling=e.child,e.child=l):(n=i.last,n!==null?n.sibling=l:e.child=l,i.last=l)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=oe(),e.sibling=null,n=re.current,Z(re,r?n&1|2:n&1),e):(_e(e),null);case 22:case 23:return mo(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?De&1073741824&&(_e(e),e.subtreeFlags&6&&(e.flags|=8192)):_e(e),null;case 24:return null;case 25:return null}throw Error(P(156,e.tag))}function tp(t,e){switch(Kl(e),e.tag){case 1:return Re(e.type)&&ti(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return tr(),te($e),te(be),no(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return to(e),null;case 13:if(te(re),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(P(340));Zn()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return te(re),null;case 4:return tr(),null;case 10:return Yl(e.type._context),null;case 22:case 23:return mo(),null;case 24:return null;default:return null}}var Cs=!1,je=!1,np=typeof WeakSet=="function"?WeakSet:Set,R=null;function Fn(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){le(t,e,r)}else n.current=null}function sl(t,e,n){try{n()}catch(r){le(t,e,r)}}var Tc=!1;function rp(t,e){if(Fa=Ys,t=id(),Wl(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var l=0,o=-1,c=-1,u=0,d=0,m=t,g=null;t:for(;;){for(var x;m!==n||s!==0&&m.nodeType!==3||(o=l+s),m!==i||r!==0&&m.nodeType!==3||(c=l+r),m.nodeType===3&&(l+=m.nodeValue.length),(x=m.firstChild)!==null;)g=m,m=x;for(;;){if(m===t)break t;if(g===n&&++u===s&&(o=l),g===i&&++d===r&&(c=l),(x=m.nextSibling)!==null)break;m=g,g=m.parentNode}m=x}n=o===-1||c===-1?null:{start:o,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ba={focusedElem:t,selectionRange:n},Ys=!1,R=e;R!==null;)if(e=R,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,R=t;else for(;R!==null;){e=R;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var w=y.memoizedProps,j=y.memoizedState,h=e.stateNode,f=h.getSnapshotBeforeUpdate(e.elementType===e.type?w:tt(e.type,w),j);h.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var p=e.stateNode.containerInfo;p.nodeType===1?p.textContent="":p.nodeType===9&&p.documentElement&&p.removeChild(p.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(P(163))}}catch(v){le(e,e.return,v)}if(t=e.sibling,t!==null){t.return=e.return,R=t;break}R=e.return}return y=Tc,Tc=!1,y}function Or(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&sl(e,n,i)}s=s.next}while(s!==r)}}function Ci(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function il(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function th(t){var e=t.alternate;e!==null&&(t.alternate=null,th(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ht],delete e[Gr],delete e[Wa],delete e[Mm],delete e[zm])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function nh(t){return t.tag===5||t.tag===3||t.tag===4}function Pc(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||nh(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function al(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=ei));else if(r!==4&&(t=t.child,t!==null))for(al(t,e,n),t=t.sibling;t!==null;)al(t,e,n),t=t.sibling}function ll(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(ll(t,e,n),t=t.sibling;t!==null;)ll(t,e,n),t=t.sibling}var ye=null,nt=!1;function Et(t,e,n){for(n=n.child;n!==null;)rh(t,e,n),n=n.sibling}function rh(t,e,n){if(ft&&typeof ft.onCommitFiberUnmount=="function")try{ft.onCommitFiberUnmount(xi,n)}catch{}switch(n.tag){case 5:je||Fn(n,e);case 6:var r=ye,s=nt;ye=null,Et(t,e,n),ye=r,nt=s,ye!==null&&(nt?(t=ye,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ye.removeChild(n.stateNode));break;case 18:ye!==null&&(nt?(t=ye,n=n.stateNode,t.nodeType===8?ta(t.parentNode,n):t.nodeType===1&&ta(t,n),Vr(t)):ta(ye,n.stateNode));break;case 4:r=ye,s=nt,ye=n.stateNode.containerInfo,nt=!0,Et(t,e,n),ye=r,nt=s;break;case 0:case 11:case 14:case 15:if(!je&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,l=i.destroy;i=i.tag,l!==void 0&&(i&2||i&4)&&sl(n,e,l),s=s.next}while(s!==r)}Et(t,e,n);break;case 1:if(!je&&(Fn(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){le(n,e,o)}Et(t,e,n);break;case 21:Et(t,e,n);break;case 22:n.mode&1?(je=(r=je)||n.memoizedState!==null,Et(t,e,n),je=r):Et(t,e,n);break;default:Et(t,e,n)}}function Ac(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new np),e.forEach(function(r){var s=hp.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Ze(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,l=e,o=l;e:for(;o!==null;){switch(o.tag){case 5:ye=o.stateNode,nt=!1;break e;case 3:ye=o.stateNode.containerInfo,nt=!0;break e;case 4:ye=o.stateNode.containerInfo,nt=!0;break e}o=o.return}if(ye===null)throw Error(P(160));rh(i,l,s),ye=null,nt=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){le(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)sh(e,t),e=e.sibling}function sh(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ze(e,t),ct(t),r&4){try{Or(3,t,t.return),Ci(3,t)}catch(w){le(t,t.return,w)}try{Or(5,t,t.return)}catch(w){le(t,t.return,w)}}break;case 1:Ze(e,t),ct(t),r&512&&n!==null&&Fn(n,n.return);break;case 5:if(Ze(e,t),ct(t),r&512&&n!==null&&Fn(n,n.return),t.flags&32){var s=t.stateNode;try{zr(s,"")}catch(w){le(t,t.return,w)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,l=n!==null?n.memoizedProps:i,o=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&Su(s,i),Aa(o,l);var u=Aa(o,i);for(l=0;l<c.length;l+=2){var d=c[l],m=c[l+1];d==="style"?Au(s,m):d==="dangerouslySetInnerHTML"?Tu(s,m):d==="children"?zr(s,m):Ol(s,d,m,u)}switch(o){case"input":Sa(s,i);break;case"textarea":Cu(s,i);break;case"select":var g=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var x=i.value;x!=null?Vn(s,!!i.multiple,x,!1):g!==!!i.multiple&&(i.defaultValue!=null?Vn(s,!!i.multiple,i.defaultValue,!0):Vn(s,!!i.multiple,i.multiple?[]:"",!1))}s[Gr]=i}catch(w){le(t,t.return,w)}}break;case 6:if(Ze(e,t),ct(t),r&4){if(t.stateNode===null)throw Error(P(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(w){le(t,t.return,w)}}break;case 3:if(Ze(e,t),ct(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Vr(e.containerInfo)}catch(w){le(t,t.return,w)}break;case 4:Ze(e,t),ct(t);break;case 13:Ze(e,t),ct(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(ho=oe())),r&4&&Ac(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(je=(u=je)||d,Ze(e,t),je=u):Ze(e,t),ct(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(R=t,d=t.child;d!==null;){for(m=R=d;R!==null;){switch(g=R,x=g.child,g.tag){case 0:case 11:case 14:case 15:Or(4,g,g.return);break;case 1:Fn(g,g.return);var y=g.stateNode;if(typeof y.componentWillUnmount=="function"){r=g,n=g.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(w){le(r,n,w)}}break;case 5:Fn(g,g.return);break;case 22:if(g.memoizedState!==null){$c(m);continue}}x!==null?(x.return=g,R=x):$c(m)}d=d.sibling}e:for(d=null,m=t;;){if(m.tag===5){if(d===null){d=m;try{s=m.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=m.stateNode,c=m.memoizedProps.style,l=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=Pu("display",l))}catch(w){le(t,t.return,w)}}}else if(m.tag===6){if(d===null)try{m.stateNode.nodeValue=u?"":m.memoizedProps}catch(w){le(t,t.return,w)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===t)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;d===m&&(d=null),m=m.return}d===m&&(d=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:Ze(e,t),ct(t),r&4&&Ac(t);break;case 21:break;default:Ze(e,t),ct(t)}}function ct(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(nh(n)){var r=n;break e}n=n.return}throw Error(P(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(zr(s,""),r.flags&=-33);var i=Pc(t);ll(t,i,s);break;case 3:case 4:var l=r.stateNode.containerInfo,o=Pc(t);al(t,o,l);break;default:throw Error(P(161))}}catch(c){le(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function sp(t,e,n){R=t,ih(t)}function ih(t,e,n){for(var r=(t.mode&1)!==0;R!==null;){var s=R,i=s.child;if(s.tag===22&&r){var l=s.memoizedState!==null||Cs;if(!l){var o=s.alternate,c=o!==null&&o.memoizedState!==null||je;o=Cs;var u=je;if(Cs=l,(je=c)&&!u)for(R=s;R!==null;)l=R,c=l.child,l.tag===22&&l.memoizedState!==null?Rc(s):c!==null?(c.return=l,R=c):Rc(s);for(;i!==null;)R=i,ih(i),i=i.sibling;R=s,Cs=o,je=u}Oc(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,R=i):Oc(t)}}function Oc(t){for(;R!==null;){var e=R;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:je||Ci(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!je)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:tt(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&gc(e,i,r);break;case 3:var l=e.updateQueue;if(l!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}gc(e,l,n)}break;case 5:var o=e.stateNode;if(n===null&&e.flags&4){n=o;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var m=d.dehydrated;m!==null&&Vr(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(P(163))}je||e.flags&512&&il(e)}catch(g){le(e,e.return,g)}}if(e===t){R=null;break}if(n=e.sibling,n!==null){n.return=e.return,R=n;break}R=e.return}}function $c(t){for(;R!==null;){var e=R;if(e===t){R=null;break}var n=e.sibling;if(n!==null){n.return=e.return,R=n;break}R=e.return}}function Rc(t){for(;R!==null;){var e=R;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Ci(4,e)}catch(c){le(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(c){le(e,s,c)}}var i=e.return;try{il(e)}catch(c){le(e,i,c)}break;case 5:var l=e.return;try{il(e)}catch(c){le(e,l,c)}}}catch(c){le(e,e.return,c)}if(e===t){R=null;break}var o=e.sibling;if(o!==null){o.return=e.return,R=o;break}R=e.return}}var ip=Math.ceil,di=St.ReactCurrentDispatcher,co=St.ReactCurrentOwner,Ge=St.ReactCurrentBatchConfig,G=0,ge=null,ce=null,ve=0,De=0,Bn=Yt(0),fe=0,ts=null,yn=0,Ei=0,uo=0,$r=null,Te=null,ho=0,rr=1/0,gt=null,hi=!1,ol=null,Ht=null,Es=!1,Dt=null,fi=0,Rr=0,cl=null,Hs=-1,Vs=0;function Se(){return G&6?oe():Hs!==-1?Hs:Hs=oe()}function Vt(t){return t.mode&1?G&2&&ve!==0?ve&-ve:Bm.transition!==null?(Vs===0&&(Vs=Hu()),Vs):(t=Q,t!==0||(t=window.event,t=t===void 0?16:Qu(t.type)),t):1}function at(t,e,n,r){if(50<Rr)throw Rr=0,cl=null,Error(P(185));is(t,n,r),(!(G&2)||t!==ge)&&(t===ge&&(!(G&2)&&(Ei|=n),fe===4&&Rt(t,ve)),Ie(t,r),n===1&&G===0&&!(e.mode&1)&&(rr=oe()+500,Ni&&Xt()))}function Ie(t,e){var n=t.callbackNode;Bf(t,e);var r=Qs(t,t===ge?ve:0);if(r===0)n!==null&&Ho(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Ho(n),e===1)t.tag===0?Fm(Ic.bind(null,t)):pd(Ic.bind(null,t)),Dm(function(){!(G&6)&&Xt()}),n=null;else{switch(Vu(r)){case 1:n=Dl;break;case 4:n=Fu;break;case 16:n=Gs;break;case 536870912:n=Bu;break;default:n=Gs}n=fh(n,ah.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function ah(t,e){if(Hs=-1,Vs=0,G&6)throw Error(P(327));var n=t.callbackNode;if(Gn()&&t.callbackNode!==n)return null;var r=Qs(t,t===ge?ve:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=mi(t,r);else{e=r;var s=G;G|=2;var i=oh();(ge!==t||ve!==e)&&(gt=null,rr=oe()+500,hn(t,e));do try{op();break}catch(o){lh(t,o)}while(!0);Ql(),di.current=i,G=s,ce!==null?e=0:(ge=null,ve=0,e=fe)}if(e!==0){if(e===2&&(s=La(t),s!==0&&(r=s,e=ul(t,s))),e===1)throw n=ts,hn(t,0),Rt(t,r),Ie(t,oe()),n;if(e===6)Rt(t,r);else{if(s=t.current.alternate,!(r&30)&&!ap(s)&&(e=mi(t,r),e===2&&(i=La(t),i!==0&&(r=i,e=ul(t,i))),e===1))throw n=ts,hn(t,0),Rt(t,r),Ie(t,oe()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(P(345));case 2:an(t,Te,gt);break;case 3:if(Rt(t,r),(r&130023424)===r&&(e=ho+500-oe(),10<e)){if(Qs(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Se(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Va(an.bind(null,t,Te,gt),e);break}an(t,Te,gt);break;case 4:if(Rt(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var l=31-it(r);i=1<<l,l=e[l],l>s&&(s=l),r&=~i}if(r=s,r=oe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ip(r/1960))-r,10<r){t.timeoutHandle=Va(an.bind(null,t,Te,gt),r);break}an(t,Te,gt);break;case 5:an(t,Te,gt);break;default:throw Error(P(329))}}}return Ie(t,oe()),t.callbackNode===n?ah.bind(null,t):null}function ul(t,e){var n=$r;return t.current.memoizedState.isDehydrated&&(hn(t,e).flags|=256),t=mi(t,e),t!==2&&(e=Te,Te=n,e!==null&&dl(e)),t}function dl(t){Te===null?Te=t:Te.push.apply(Te,t)}function ap(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!ot(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Rt(t,e){for(e&=~uo,e&=~Ei,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-it(e),r=1<<n;t[n]=-1,e&=~r}}function Ic(t){if(G&6)throw Error(P(327));Gn();var e=Qs(t,0);if(!(e&1))return Ie(t,oe()),null;var n=mi(t,e);if(t.tag!==0&&n===2){var r=La(t);r!==0&&(e=r,n=ul(t,r))}if(n===1)throw n=ts,hn(t,0),Rt(t,e),Ie(t,oe()),n;if(n===6)throw Error(P(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,an(t,Te,gt),Ie(t,oe()),null}function fo(t,e){var n=G;G|=1;try{return t(e)}finally{G=n,G===0&&(rr=oe()+500,Ni&&Xt())}}function vn(t){Dt!==null&&Dt.tag===0&&!(G&6)&&Gn();var e=G;G|=1;var n=Ge.transition,r=Q;try{if(Ge.transition=null,Q=1,t)return t()}finally{Q=r,Ge.transition=n,G=e,!(G&6)&&Xt()}}function mo(){De=Bn.current,te(Bn)}function hn(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Lm(n)),ce!==null)for(n=ce.return;n!==null;){var r=n;switch(Kl(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ti();break;case 3:tr(),te($e),te(be),no();break;case 5:to(r);break;case 4:tr();break;case 13:te(re);break;case 19:te(re);break;case 10:Yl(r.type._context);break;case 22:case 23:mo()}n=n.return}if(ge=t,ce=t=Wt(t.current,null),ve=De=e,fe=0,ts=null,uo=Ei=yn=0,Te=$r=null,un!==null){for(e=0;e<un.length;e++)if(n=un[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var l=i.next;i.next=s,r.next=l}n.pending=r}un=null}return t}function lh(t,e){do{var n=ce;try{if(Ql(),zs.current=ui,ci){for(var r=se.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}ci=!1}if(gn=0,pe=he=se=null,Ar=!1,Xr=0,co.current=null,n===null||n.return===null){fe=1,ts=e,ce=null;break}e:{var i=t,l=n.return,o=n,c=e;if(e=ve,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=o,m=d.tag;if(!(d.mode&1)&&(m===0||m===11||m===15)){var g=d.alternate;g?(d.updateQueue=g.updateQueue,d.memoizedState=g.memoizedState,d.lanes=g.lanes):(d.updateQueue=null,d.memoizedState=null)}var x=jc(l);if(x!==null){x.flags&=-257,bc(x,l,o,i,e),x.mode&1&&_c(i,u,e),e=x,c=u;var y=e.updateQueue;if(y===null){var w=new Set;w.add(c),e.updateQueue=w}else y.add(c);break e}else{if(!(e&1)){_c(i,u,e),po();break e}c=Error(P(426))}}else if(ne&&o.mode&1){var j=jc(l);if(j!==null){!(j.flags&65536)&&(j.flags|=256),bc(j,l,o,i,e),Jl(nr(c,o));break e}}i=c=nr(c,o),fe!==4&&(fe=2),$r===null?$r=[i]:$r.push(i),i=l;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var h=Vd(i,c,e);pc(i,h);break e;case 1:o=c;var f=i.type,p=i.stateNode;if(!(i.flags&128)&&(typeof f.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Ht===null||!Ht.has(p)))){i.flags|=65536,e&=-e,i.lanes|=e;var v=Wd(i,o,e);pc(i,v);break e}}i=i.return}while(i!==null)}uh(n)}catch(_){e=_,ce===n&&n!==null&&(ce=n=n.return);continue}break}while(!0)}function oh(){var t=di.current;return di.current=ui,t===null?ui:t}function po(){(fe===0||fe===3||fe===2)&&(fe=4),ge===null||!(yn&268435455)&&!(Ei&268435455)||Rt(ge,ve)}function mi(t,e){var n=G;G|=2;var r=oh();(ge!==t||ve!==e)&&(gt=null,hn(t,e));do try{lp();break}catch(s){lh(t,s)}while(!0);if(Ql(),G=n,di.current=r,ce!==null)throw Error(P(261));return ge=null,ve=0,fe}function lp(){for(;ce!==null;)ch(ce)}function op(){for(;ce!==null&&!$f();)ch(ce)}function ch(t){var e=hh(t.alternate,t,De);t.memoizedProps=t.pendingProps,e===null?uh(t):ce=e,co.current=null}function uh(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=tp(n,e),n!==null){n.flags&=32767,ce=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{fe=6,ce=null;return}}else if(n=ep(n,e,De),n!==null){ce=n;return}if(e=e.sibling,e!==null){ce=e;return}ce=e=t}while(e!==null);fe===0&&(fe=5)}function an(t,e,n){var r=Q,s=Ge.transition;try{Ge.transition=null,Q=1,cp(t,e,n,r)}finally{Ge.transition=s,Q=r}return null}function cp(t,e,n,r){do Gn();while(Dt!==null);if(G&6)throw Error(P(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(P(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(Hf(t,i),t===ge&&(ce=ge=null,ve=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Es||(Es=!0,fh(Gs,function(){return Gn(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Ge.transition,Ge.transition=null;var l=Q;Q=1;var o=G;G|=4,co.current=null,rp(t,n),sh(n,t),Tm(Ba),Ys=!!Fa,Ba=Fa=null,t.current=n,sp(n),Rf(),G=o,Q=l,Ge.transition=i}else t.current=n;if(Es&&(Es=!1,Dt=t,fi=s),i=t.pendingLanes,i===0&&(Ht=null),Df(n.stateNode),Ie(t,oe()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(hi)throw hi=!1,t=ol,ol=null,t;return fi&1&&t.tag!==0&&Gn(),i=t.pendingLanes,i&1?t===cl?Rr++:(Rr=0,cl=t):Rr=0,Xt(),null}function Gn(){if(Dt!==null){var t=Vu(fi),e=Ge.transition,n=Q;try{if(Ge.transition=null,Q=16>t?16:t,Dt===null)var r=!1;else{if(t=Dt,Dt=null,fi=0,G&6)throw Error(P(331));var s=G;for(G|=4,R=t.current;R!==null;){var i=R,l=i.child;if(R.flags&16){var o=i.deletions;if(o!==null){for(var c=0;c<o.length;c++){var u=o[c];for(R=u;R!==null;){var d=R;switch(d.tag){case 0:case 11:case 15:Or(8,d,i)}var m=d.child;if(m!==null)m.return=d,R=m;else for(;R!==null;){d=R;var g=d.sibling,x=d.return;if(th(d),d===u){R=null;break}if(g!==null){g.return=x,R=g;break}R=x}}}var y=i.alternate;if(y!==null){var w=y.child;if(w!==null){y.child=null;do{var j=w.sibling;w.sibling=null,w=j}while(w!==null)}}R=i}}if(i.subtreeFlags&2064&&l!==null)l.return=i,R=l;else e:for(;R!==null;){if(i=R,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Or(9,i,i.return)}var h=i.sibling;if(h!==null){h.return=i.return,R=h;break e}R=i.return}}var f=t.current;for(R=f;R!==null;){l=R;var p=l.child;if(l.subtreeFlags&2064&&p!==null)p.return=l,R=p;else e:for(l=f;R!==null;){if(o=R,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Ci(9,o)}}catch(_){le(o,o.return,_)}if(o===l){R=null;break e}var v=o.sibling;if(v!==null){v.return=o.return,R=v;break e}R=o.return}}if(G=s,Xt(),ft&&typeof ft.onPostCommitFiberRoot=="function")try{ft.onPostCommitFiberRoot(xi,t)}catch{}r=!0}return r}finally{Q=n,Ge.transition=e}}return!1}function Lc(t,e,n){e=nr(n,e),e=Vd(t,e,1),t=Bt(t,e,1),e=Se(),t!==null&&(is(t,1,e),Ie(t,e))}function le(t,e,n){if(t.tag===3)Lc(t,t,n);else for(;e!==null;){if(e.tag===3){Lc(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ht===null||!Ht.has(r))){t=nr(n,t),t=Wd(e,t,1),e=Bt(e,t,1),t=Se(),e!==null&&(is(e,1,t),Ie(e,t));break}}e=e.return}}function up(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Se(),t.pingedLanes|=t.suspendedLanes&n,ge===t&&(ve&n)===n&&(fe===4||fe===3&&(ve&130023424)===ve&&500>oe()-ho?hn(t,0):uo|=n),Ie(t,e)}function dh(t,e){e===0&&(t.mode&1?(e=vs,vs<<=1,!(vs&130023424)&&(vs=4194304)):e=1);var n=Se();t=Nt(t,e),t!==null&&(is(t,e,n),Ie(t,n))}function dp(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),dh(t,n)}function hp(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(P(314))}r!==null&&r.delete(e),dh(t,n)}var hh;hh=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||$e.current)Ae=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Ae=!1,Zm(t,e,n);Ae=!!(t.flags&131072)}else Ae=!1,ne&&e.flags&1048576&&gd(e,si,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Bs(t,e),t=e.pendingProps;var s=Xn(e,be.current);Jn(e,n),s=so(null,e,r,t,s,n);var i=io();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Re(r)?(i=!0,ni(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Zl(e),s.updater=Si,e.stateNode=s,s._reactInternals=e,Ya(e,r,t,n),e=el(null,e,r,!0,i,n)):(e.tag=0,ne&&i&&ql(e),ke(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Bs(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=mp(r),t=tt(r,t),s){case 0:e=Za(null,e,r,t,n);break e;case 1:e=Sc(null,e,r,t,n);break e;case 11:e=Nc(null,e,r,t,n);break e;case 14:e=kc(null,e,r,tt(r.type,t),n);break e}throw Error(P(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:tt(r,s),Za(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:tt(r,s),Sc(t,e,r,s,n);case 3:e:{if(Gd(e),t===null)throw Error(P(387));r=e.pendingProps,i=e.memoizedState,s=i.element,jd(t,e),li(e,r,null,n);var l=e.memoizedState;if(r=l.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=nr(Error(P(423)),e),e=Cc(t,e,r,n,s);break e}else if(r!==s){s=nr(Error(P(424)),e),e=Cc(t,e,r,n,s);break e}else for(Ue=Ft(e.stateNode.containerInfo.firstChild),Me=e,ne=!0,st=null,n=wd(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Zn(),r===s){e=kt(t,e,n);break e}ke(t,e,r,n)}e=e.child}return e;case 5:return bd(e),t===null&&Ja(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,l=s.children,Ha(r,s)?l=null:i!==null&&Ha(r,i)&&(e.flags|=32),Jd(t,e),ke(t,e,l,n),e.child;case 6:return t===null&&Ja(e),null;case 13:return Qd(t,e,n);case 4:return eo(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=er(e,null,r,n):ke(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:tt(r,s),Nc(t,e,r,s,n);case 7:return ke(t,e,e.pendingProps,n),e.child;case 8:return ke(t,e,e.pendingProps.children,n),e.child;case 12:return ke(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,l=s.value,Z(ii,r._currentValue),r._currentValue=l,i!==null)if(ot(i.value,l)){if(i.children===s.children&&!$e.current){e=kt(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var o=i.dependencies;if(o!==null){l=i.child;for(var c=o.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=_t(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),Ga(i.return,n,e),o.lanes|=n;break}c=c.next}}else if(i.tag===10)l=i.type===e.type?null:i.child;else if(i.tag===18){if(l=i.return,l===null)throw Error(P(341));l.lanes|=n,o=l.alternate,o!==null&&(o.lanes|=n),Ga(l,n,e),l=i.sibling}else l=i.child;if(l!==null)l.return=i;else for(l=i;l!==null;){if(l===e){l=null;break}if(i=l.sibling,i!==null){i.return=l.return,l=i;break}l=l.return}i=l}ke(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Jn(e,n),s=Ye(s),r=r(s),e.flags|=1,ke(t,e,r,n),e.child;case 14:return r=e.type,s=tt(r,e.pendingProps),s=tt(r.type,s),kc(t,e,r,s,n);case 15:return qd(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:tt(r,s),Bs(t,e),e.tag=1,Re(r)?(t=!0,ni(e)):t=!1,Jn(e,n),Hd(e,r,s),Ya(e,r,s,n),el(null,e,r,!0,t,n);case 19:return Yd(t,e,n);case 22:return Kd(t,e,n)}throw Error(P(156,e.tag))};function fh(t,e){return zu(t,e)}function fp(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Je(t,e,n,r){return new fp(t,e,n,r)}function go(t){return t=t.prototype,!(!t||!t.isReactComponent)}function mp(t){if(typeof t=="function")return go(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Rl)return 11;if(t===Il)return 14}return 2}function Wt(t,e){var n=t.alternate;return n===null?(n=Je(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Ws(t,e,n,r,s,i){var l=2;if(r=t,typeof t=="function")go(t)&&(l=1);else if(typeof t=="string")l=5;else e:switch(t){case On:return fn(n.children,s,i,e);case $l:l=8,s|=8;break;case _a:return t=Je(12,n,e,s|2),t.elementType=_a,t.lanes=i,t;case ja:return t=Je(13,n,e,s),t.elementType=ja,t.lanes=i,t;case ba:return t=Je(19,n,e,s),t.elementType=ba,t.lanes=i,t;case bu:return Ti(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case _u:l=10;break e;case ju:l=9;break e;case Rl:l=11;break e;case Il:l=14;break e;case At:l=16,r=null;break e}throw Error(P(130,t==null?t:typeof t,""))}return e=Je(l,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function fn(t,e,n,r){return t=Je(7,t,r,e),t.lanes=n,t}function Ti(t,e,n,r){return t=Je(22,t,r,e),t.elementType=bu,t.lanes=n,t.stateNode={isHidden:!1},t}function ca(t,e,n){return t=Je(6,t,null,e),t.lanes=n,t}function ua(t,e,n){return e=Je(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function pp(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Vi(0),this.expirationTimes=Vi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vi(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function yo(t,e,n,r,s,i,l,o,c){return t=new pp(t,e,n,o,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Je(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Zl(i),t}function gp(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:An,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function mh(t){if(!t)return Kt;t=t._reactInternals;e:{if(wn(t)!==t||t.tag!==1)throw Error(P(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Re(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(P(171))}if(t.tag===1){var n=t.type;if(Re(n))return md(t,n,e)}return e}function ph(t,e,n,r,s,i,l,o,c){return t=yo(n,r,!0,t,s,i,l,o,c),t.context=mh(null),n=t.current,r=Se(),s=Vt(n),i=_t(r,s),i.callback=e??null,Bt(n,i,s),t.current.lanes=s,is(t,s,r),Ie(t,r),t}function Pi(t,e,n,r){var s=e.current,i=Se(),l=Vt(s);return n=mh(n),e.context===null?e.context=n:e.pendingContext=n,e=_t(i,l),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Bt(s,e,l),t!==null&&(at(t,s,l,i),Ms(t,s,l)),l}function pi(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Dc(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function vo(t,e){Dc(t,e),(t=t.alternate)&&Dc(t,e)}function yp(){return null}var gh=typeof reportError=="function"?reportError:function(t){console.error(t)};function xo(t){this._internalRoot=t}Ai.prototype.render=xo.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(P(409));Pi(t,e,null,null)};Ai.prototype.unmount=xo.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;vn(function(){Pi(null,t,null,null)}),e[bt]=null}};function Ai(t){this._internalRoot=t}Ai.prototype.unstable_scheduleHydration=function(t){if(t){var e=Ku();t={blockedOn:null,target:t,priority:e};for(var n=0;n<$t.length&&e!==0&&e<$t[n].priority;n++);$t.splice(n,0,t),n===0&&Gu(t)}};function wo(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Oi(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Uc(){}function vp(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=pi(l);i.call(u)}}var l=ph(e,r,t,0,null,!1,!1,"",Uc);return t._reactRootContainer=l,t[bt]=l.current,Kr(t.nodeType===8?t.parentNode:t),vn(),l}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var o=r;r=function(){var u=pi(c);o.call(u)}}var c=yo(t,0,!1,null,null,!1,!1,"",Uc);return t._reactRootContainer=c,t[bt]=c.current,Kr(t.nodeType===8?t.parentNode:t),vn(function(){Pi(e,c,n,r)}),c}function $i(t,e,n,r,s){var i=n._reactRootContainer;if(i){var l=i;if(typeof s=="function"){var o=s;s=function(){var c=pi(l);o.call(c)}}Pi(e,l,t,s)}else l=vp(n,e,t,s,r);return pi(l)}Wu=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=jr(e.pendingLanes);n!==0&&(Ul(e,n|1),Ie(e,oe()),!(G&6)&&(rr=oe()+500,Xt()))}break;case 13:vn(function(){var r=Nt(t,1);if(r!==null){var s=Se();at(r,t,1,s)}}),vo(t,1)}};Ml=function(t){if(t.tag===13){var e=Nt(t,134217728);if(e!==null){var n=Se();at(e,t,134217728,n)}vo(t,134217728)}};qu=function(t){if(t.tag===13){var e=Vt(t),n=Nt(t,e);if(n!==null){var r=Se();at(n,t,e,r)}vo(t,e)}};Ku=function(){return Q};Ju=function(t,e){var n=Q;try{return Q=t,e()}finally{Q=n}};$a=function(t,e,n){switch(e){case"input":if(Sa(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=bi(r);if(!s)throw Error(P(90));ku(r),Sa(r,s)}}}break;case"textarea":Cu(t,n);break;case"select":e=n.value,e!=null&&Vn(t,!!n.multiple,e,!1)}};Ru=fo;Iu=vn;var xp={usingClientEntryPoint:!1,Events:[ls,Ln,bi,Ou,$u,fo]},vr={findFiberByHostInstance:cn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},wp={bundleType:vr.bundleType,version:vr.version,rendererPackageName:vr.rendererPackageName,rendererConfig:vr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:St.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Uu(t),t===null?null:t.stateNode},findFiberByHostInstance:vr.findFiberByHostInstance||yp,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ts=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ts.isDisabled&&Ts.supportsFiber)try{xi=Ts.inject(wp),ft=Ts}catch{}}Fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xp;Fe.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!wo(e))throw Error(P(200));return gp(t,e,null,n)};Fe.createRoot=function(t,e){if(!wo(t))throw Error(P(299));var n=!1,r="",s=gh;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=yo(t,1,!1,null,null,n,!1,r,s),t[bt]=e.current,Kr(t.nodeType===8?t.parentNode:t),new xo(e)};Fe.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(P(188)):(t=Object.keys(t).join(","),Error(P(268,t)));return t=Uu(e),t=t===null?null:t.stateNode,t};Fe.flushSync=function(t){return vn(t)};Fe.hydrate=function(t,e,n){if(!Oi(e))throw Error(P(200));return $i(null,t,e,!0,n)};Fe.hydrateRoot=function(t,e,n){if(!wo(t))throw Error(P(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",l=gh;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),e=ph(e,null,t,1,n??null,s,!1,i,l),t[bt]=e.current,Kr(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Ai(e)};Fe.render=function(t,e,n){if(!Oi(e))throw Error(P(200));return $i(null,t,e,!1,n)};Fe.unmountComponentAtNode=function(t){if(!Oi(t))throw Error(P(40));return t._reactRootContainer?(vn(function(){$i(null,null,t,!1,function(){t._reactRootContainer=null,t[bt]=null})}),!0):!1};Fe.unstable_batchedUpdates=fo;Fe.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Oi(n))throw Error(P(200));if(t==null||t._reactInternals===void 0)throw Error(P(38));return $i(t,e,n,!1,r)};Fe.version="18.3.1-next-f1338f8080-20240426";function yh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(yh)}catch(t){console.error(t)}}yh(),yu.exports=Fe;var _p=yu.exports,vh,Mc=_p;vh=Mc.createRoot,Mc.hydrateRoot;const jp="modulepreload",bp=function(t){return"/"+t},zc={},cs=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),o=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));s=Promise.allSettled(n.map(c=>{if(c=bp(c),c in zc)return;zc[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const m=document.createElement("link");if(m.rel=u?"stylesheet":jp,u||(m.as="script"),m.crossOrigin="",m.href=c,o&&m.setAttribute("nonce",o),document.head.appendChild(m),u)return new Promise((g,x)=>{m.addEventListener("load",g),m.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(l){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=l,window.dispatchEvent(o),!o.defaultPrevented)throw l}return s.then(l=>{for(const o of l||[])o.status==="rejected"&&i(o.reason);return e().catch(i)})},Np=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>cs(async()=>{const{default:r}=await Promise.resolve().then(()=>cr);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class _o extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class kp extends _o{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Fc extends _o{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Bc extends _o{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var hl;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(hl||(hl={}));var Sp=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(l){l(i)})}return new(n||(n=Promise))(function(i,l){function o(d){try{u(r.next(d))}catch(m){l(m)}}function c(d){try{u(r.throw(d))}catch(m){l(m)}}function u(d){d.done?i(d.value):s(d.value).then(o,c)}u((r=r.apply(t,e||[])).next())})};class Cp{constructor(e,{headers:n={},customFetch:r,region:s=hl.Any}={}){this.url=e,this.headers=n,this.region=s,this.fetch=Np(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return Sp(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:l}=n;let o={},{region:c}=n;c||(c=this.region);const u=new URL(`${this.url}/${e}`);c&&c!=="any"&&(o["x-region"]=c,u.searchParams.set("forceFunctionRegion",c));let d;l&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",d=l):typeof l=="string"?(o["Content-Type"]="text/plain",d=l):typeof FormData<"u"&&l instanceof FormData?d=l:(o["Content-Type"]="application/json",d=JSON.stringify(l)));const m=yield this.fetch(u.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),s),body:d}).catch(w=>{throw new kp(w)}),g=m.headers.get("x-relay-error");if(g&&g==="true")throw new Fc(m);if(!m.ok)throw new Bc(m);let x=((r=m.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),y;return x==="application/json"?y=yield m.json():x==="application/octet-stream"?y=yield m.blob():x==="text/event-stream"?y=m:x==="multipart/form-data"?y=yield m.formData():y=yield m.text(),{data:y,error:null,response:m}}catch(s){return{data:null,error:s,response:s instanceof Bc||s instanceof Fc?s.context:void 0}}})}}var Pe={},jo={},Ri={},us={},Ii={},Li={},Ep=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},sr=Ep();const Tp=sr.fetch,xh=sr.fetch.bind(sr),wh=sr.Headers,Pp=sr.Request,Ap=sr.Response,cr=Object.freeze(Object.defineProperty({__proto__:null,Headers:wh,Request:Pp,Response:Ap,default:xh,fetch:Tp},Symbol.toStringTag,{value:"Module"})),Op=Jh(cr);var Di={};Object.defineProperty(Di,"__esModule",{value:!0});let $p=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Di.default=$p;var _h=Qe&&Qe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Li,"__esModule",{value:!0});const Rp=_h(Op),Ip=_h(Di);let Lp=class{constructor(e){var n,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(n=e.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=Rp.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=new Headers(this.headers),this.headers.set(e,n),this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var l,o,c,u;let d=null,m=null,g=null,x=i.status,y=i.statusText;if(i.ok){if(this.method!=="HEAD"){const f=await i.text();f===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((l=this.headers.get("Accept"))===null||l===void 0)&&l.includes("application/vnd.pgrst.plan+text"))?m=f:m=JSON.parse(f))}const j=(o=this.headers.get("Prefer"))===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),h=(c=i.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");j&&h&&h.length>1&&(g=parseInt(h[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(m)&&(m.length>1?(d={code:"PGRST116",details:`Results contain ${m.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},m=null,g=null,x=406,y="Not Acceptable"):m.length===1?m=m[0]:m=null)}else{const j=await i.text();try{d=JSON.parse(j),Array.isArray(d)&&i.status===404&&(m=[],d=null,x=200,y="OK")}catch{i.status===404&&j===""?(x=204,y="No Content"):d={message:j}}if(d&&this.isMaybeSingle&&(!((u=d==null?void 0:d.details)===null||u===void 0)&&u.includes("0 rows"))&&(d=null,x=200,y="OK"),d&&this.shouldThrowOnError)throw new Ip.default(d)}return{error:d,data:m,count:g,status:x,statusText:y}});return this.shouldThrowOnError||(s=s.catch(i=>{var l,o,c;return{error:{message:`${(l=i==null?void 0:i.name)!==null&&l!==void 0?l:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(o=i==null?void 0:i.stack)!==null&&o!==void 0?o:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,n)}returns(){return this}overrideTypes(){return this}};Li.default=Lp;var Dp=Qe&&Qe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ii,"__esModule",{value:!0});const Up=Dp(Li);let Mp=class extends Up.default{select(e){let n=!1;const r=(e??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:i=s}={}){const l=i?`${i}.order`:"order",o=this.url.searchParams.get(l);return this.url.searchParams.set(l,`${o?`${o},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:s=r}={}){const i=typeof s>"u"?"offset":`${s}.offset`,l=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(l,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:i=!1,format:l="text"}={}){var o;const c=[e?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${l}; for="${u}"; options=${c};`),l==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};Ii.default=Mp;var zp=Qe&&Qe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(us,"__esModule",{value:!0});const Fp=zp(Ii);let Bp=class extends Fp.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const l=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${l}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};us.default=Bp;var Hp=Qe&&Qe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ri,"__esModule",{value:!0});const xr=Hp(us);let Vp=class{constructor(e,{headers:n={},schema:r,fetch:s}){this.url=e,this.headers=new Headers(n),this.schema=r,this.fetch=s}select(e,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let i=!1;const l=(e??"*").split("").map(o=>/\s/.test(o)&&!i?"":(o==='"'&&(i=!i),o)).join("");return this.url.searchParams.set("select",l),r&&this.headers.append("Prefer",`count=${r}`),new xr.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:n,defaultToNull:r=!0}={}){var s;const i="POST";if(n&&this.headers.append("Prefer",`count=${n}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const l=e.reduce((o,c)=>o.concat(Object.keys(c)),[]);if(l.length>0){const o=[...new Set(l)].map(c=>`"${c}"`);this.url.searchParams.set("columns",o.join(","))}}return new xr.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:i=!0}={}){var l;const o="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),n!==void 0&&this.url.searchParams.set("on_conflict",n),s&&this.headers.append("Prefer",`count=${s}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const c=e.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new xr.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}update(e,{count:n}={}){var r;const s="PATCH";return n&&this.headers.append("Prefer",`count=${n}`),new xr.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var n;const r="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new xr.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}};Ri.default=Vp;var jh=Qe&&Qe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(jo,"__esModule",{value:!0});const Wp=jh(Ri),qp=jh(us);let Kp=class bh{constructor(e,{headers:n={},schema:r,fetch:s}={}){this.url=e,this.headers=new Headers(n),this.schemaName=r,this.fetch=s}from(e){const n=new URL(`${this.url}/${e}`);return new Wp.default(n,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new bh(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:s=!1,count:i}={}){var l;let o;const c=new URL(`${this.url}/rpc/${e}`);let u;r||s?(o=r?"HEAD":"GET",Object.entries(n).filter(([m,g])=>g!==void 0).map(([m,g])=>[m,Array.isArray(g)?`{${g.join(",")}}`:`${g}`]).forEach(([m,g])=>{c.searchParams.append(m,g)})):(o="POST",u=n);const d=new Headers(this.headers);return i&&d.set("Prefer",`count=${i}`),new qp.default({method:o,url:c,headers:d,schema:this.schemaName,body:u,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}};jo.default=Kp;var ur=Qe&&Qe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Pe,"__esModule",{value:!0});Pe.PostgrestError=Pe.PostgrestBuilder=Pe.PostgrestTransformBuilder=Pe.PostgrestFilterBuilder=Pe.PostgrestQueryBuilder=Pe.PostgrestClient=void 0;const Nh=ur(jo);Pe.PostgrestClient=Nh.default;const kh=ur(Ri);Pe.PostgrestQueryBuilder=kh.default;const Sh=ur(us);Pe.PostgrestFilterBuilder=Sh.default;const Ch=ur(Ii);Pe.PostgrestTransformBuilder=Ch.default;const Eh=ur(Li);Pe.PostgrestBuilder=Eh.default;const Th=ur(Di);Pe.PostgrestError=Th.default;var Jp=Pe.default={PostgrestClient:Nh.default,PostgrestQueryBuilder:kh.default,PostgrestFilterBuilder:Sh.default,PostgrestTransformBuilder:Ch.default,PostgrestBuilder:Eh.default,PostgrestError:Th.default};const{PostgrestClient:Gp,PostgrestQueryBuilder:Ny,PostgrestFilterBuilder:ky,PostgrestTransformBuilder:Sy,PostgrestBuilder:Cy,PostgrestError:Ey}=Jp;class Qp{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,s=parseInt(r.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const Yp="2.15.5",Xp=`realtime-js/${Yp}`,Zp="1.0.0",fl=1e4,e0=1e3,t0=100;var Ir;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Ir||(Ir={}));var ue;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(ue||(ue={}));var rt;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(rt||(rt={}));var ml;(function(t){t.websocket="websocket"})(ml||(ml={}));var on;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(on||(on={}));class n0{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const s=n.getUint8(1),i=n.getUint8(2);let l=this.HEADER_LENGTH+2;const o=r.decode(e.slice(l,l+s));l=l+s;const c=r.decode(e.slice(l,l+i));l=l+i;const u=JSON.parse(r.decode(e.slice(l,e.byteLength)));return{ref:null,topic:o,event:c,payload:u}}}class Ph{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var X;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(X||(X={}));const Hc=(t,e,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((i,l)=>(i[l]=r0(l,t,e,s),i),{})},r0=(t,e,n,r)=>{const s=e.find(o=>o.name===t),i=s==null?void 0:s.type,l=n[t];return i&&!r.includes(i)?Ah(i,l):pl(l)},Ah=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return l0(e,n)}switch(t){case X.bool:return s0(e);case X.float4:case X.float8:case X.int2:case X.int4:case X.int8:case X.numeric:case X.oid:return i0(e);case X.json:case X.jsonb:return a0(e);case X.timestamp:return o0(e);case X.abstime:case X.date:case X.daterange:case X.int4range:case X.int8range:case X.money:case X.reltime:case X.text:case X.time:case X.timestamptz:case X.timetz:case X.tsrange:case X.tstzrange:return pl(e);default:return pl(e)}},pl=t=>t,s0=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},i0=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},a0=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},l0=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let i;const l=t.slice(1,n);try{i=JSON.parse("["+l+"]")}catch{i=l?l.split(","):[]}return i.map(o=>Ah(e,o))}return t},o0=t=>typeof t=="string"?t.replace(" ","T"):t,Oh=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class da{constructor(e,n,r={},s=fl){this.channel=e,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Vc;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Vc||(Vc={}));class Lr{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:l,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Lr.syncState(this.state,s,i,l),this.pendingDiffs.forEach(c=>{this.state=Lr.syncDiff(this.state,c,i,l)}),this.pendingDiffs=[],o()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:l,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Lr.syncDiff(this.state,s,i,l),o())}),this.onJoin((s,i,l)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:l})}),this.onLeave((s,i,l)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,s){const i=this.cloneDeep(e),l=this.transformState(n),o={},c={};return this.map(i,(u,d)=>{l[u]||(c[u]=d)}),this.map(l,(u,d)=>{const m=i[u];if(m){const g=d.map(j=>j.presence_ref),x=m.map(j=>j.presence_ref),y=d.filter(j=>x.indexOf(j.presence_ref)<0),w=m.filter(j=>g.indexOf(j.presence_ref)<0);y.length>0&&(o[u]=y),w.length>0&&(c[u]=w)}else o[u]=d}),this.syncDiff(i,{joins:o,leaves:c},r,s)}static syncDiff(e,n,r,s){const{joins:i,leaves:l}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(o,c)=>{var u;const d=(u=e[o])!==null&&u!==void 0?u:[];if(e[o]=this.cloneDeep(c),d.length>0){const m=e[o].map(x=>x.presence_ref),g=d.filter(x=>m.indexOf(x.presence_ref)<0);e[o].unshift(...g)}r(o,d,c)}),this.map(l,(o,c)=>{let u=e[o];if(!u)return;const d=c.map(m=>m.presence_ref);u=u.filter(m=>d.indexOf(m.presence_ref)<0),e[o]=u,s(o,u,c),u.length===0&&delete e[o]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const s=e[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Wc;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Wc||(Wc={}));var Dr;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Dr||(Dr={}));var yt;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(yt||(yt={}));class bo{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=ue.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new da(this,rt.join,this.params,this.timeout),this.rejoinTimer=new Ph(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ue.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ue.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=ue.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ue.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=ue.errored,this.rejoinTimer.scheduleTimeout())}),this._on(rt.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new Lr(this),this.broadcastEndpointURL=Oh(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var r,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==ue.closed){const{config:{broadcast:l,presence:o,private:c}}=this.params,u=(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(x=>x.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[Dr.PRESENCE]&&this.bindings[Dr.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,m={},g={broadcast:l,presence:Object.assign(Object.assign({},o),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(m.access_token=this.socket.accessTokenValue),this._onError(x=>e==null?void 0:e(yt.CHANNEL_ERROR,x)),this._onClose(()=>e==null?void 0:e(yt.CLOSED)),this.updateJoinPayload(Object.assign({config:g},m)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:x})=>{var y;if(this.socket.setAuth(),x===void 0){e==null||e(yt.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,j=(y=w==null?void 0:w.length)!==null&&y!==void 0?y:0,h=[];for(let f=0;f<j;f++){const p=w[f],{filter:{event:v,schema:_,table:b,filter:C}}=p,k=x&&x[f];if(k&&k.event===v&&k.schema===_&&k.table===b&&k.filter===C)h.push(Object.assign(Object.assign({},p),{id:k.id}));else{this.unsubscribe(),this.state=ue.errored,e==null||e(yt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=h,e&&e(yt.SUBSCRIBED);return}}).receive("error",x=>{this.state=ue.errored,e==null||e(yt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(x).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(yt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===ue.joined&&e===Dr.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,r)}async send(e,n={}){var r,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:l}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:l,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var l,o,c;const u=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(o=(l=this.params)===null||l===void 0?void 0:l.config)===null||o===void 0?void 0:o.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ue.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(rt.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new da(this,rt.leave,{},e),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ue.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),l=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),l}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new da(this,e,n,r);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>t0){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var s,i;const l=e.toLocaleLowerCase(),{close:o,error:c,leave:u,join:d}=rt;if(r&&[o,c,u,d].indexOf(l)>=0&&r!==this._joinRef())return;let g=this._onMessage(l,n,r);if(n&&!g)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(x=>{var y,w,j;return((y=x.filter)===null||y===void 0?void 0:y.event)==="*"||((j=(w=x.filter)===null||w===void 0?void 0:w.event)===null||j===void 0?void 0:j.toLocaleLowerCase())===l}).map(x=>x.callback(g,r)):(i=this.bindings[l])===null||i===void 0||i.filter(x=>{var y,w,j,h,f,p;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in x){const v=x.id,_=(y=x.filter)===null||y===void 0?void 0:y.event;return v&&((w=n.ids)===null||w===void 0?void 0:w.includes(v))&&(_==="*"||(_==null?void 0:_.toLocaleLowerCase())===((j=n.data)===null||j===void 0?void 0:j.type.toLocaleLowerCase()))}else{const v=(f=(h=x==null?void 0:x.filter)===null||h===void 0?void 0:h.event)===null||f===void 0?void 0:f.toLocaleLowerCase();return v==="*"||v===((p=n==null?void 0:n.event)===null||p===void 0?void 0:p.toLocaleLowerCase())}else return x.type.toLocaleLowerCase()===l}).map(x=>{if(typeof g=="object"&&"ids"in g){const y=g.data,{schema:w,table:j,commit_timestamp:h,type:f,errors:p}=y;g=Object.assign(Object.assign({},{schema:w,table:j,commit_timestamp:h,eventType:f,new:{},old:{},errors:p}),this._getPayloadRecords(y))}x.callback(g,r)})}_isClosed(){return this.state===ue.closed}_isJoined(){return this.state===ue.joined}_isJoining(){return this.state===ue.joining}_isLeaving(){return this.state===ue.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const s=e.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&bo.isEqual(s.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(rt.close,{},e)}_onError(e){this._on(rt.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ue.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=Hc(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=Hc(e.columns,e.old_record)),n}}const ha=()=>{},Ps={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},c0=[1e3,2e3,5e3,1e4],u0=1e4,d0=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class h0{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=fl,this.transport=null,this.heartbeatIntervalMs=Ps.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=ha,this.ref=0,this.reconnectTimer=null,this.logger=ha,this.conn=null,this.sendBuffer=[],this.serializer=new n0,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let i;return s?i=s:typeof fetch>"u"?i=(...l)=>cs(async()=>{const{default:o}=await Promise.resolve().then(()=>cr);return{default:o}},void 0).then(({default:o})=>o(...l)).catch(o=>{throw new Error(`Failed to load @supabase/node-fetch: ${o.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...l)=>i(...l)},!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${ml.websocket}`,this.httpEndpoint=Oh(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Qp.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Zp}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},e?this.conn.close(e,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Ir.connecting:return on.Connecting;case Ir.open:return on.Open;case Ir.closing:return on.Closing;default:return on.Closed}}isConnected(){return this.connectionState()===on.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===r);if(s)return s;{const i=new bo(`realtime:${e}`,n,this);return this.channels.push(i),i}}push(e){const{topic:n,event:r,payload:s,ref:i}=e,l=()=>{this.encode(e,o=>{var c;(c=this.conn)===null||c===void 0||c.send(o)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(e0,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Ps.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:s,payload:i,ref:l}=n,o=l?`(${l})`:"",c=i.status||"";this.log("receive",`${c} ${r} ${s} ${o}`.trim(),i),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(s,i,l)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(rt.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${e}${r}${s}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([d0],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const s={access_token:n,version:Xp};n&&r.updateJoinPayload(s),r.joinedOnce&&r._isJoined()&&r._push(rt.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new Ph(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Ps.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,s,i,l,o,c,u,d;if(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:fl,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:Ps.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(l=e==null?void 0:e.accessToken)!==null&&l!==void 0?l:null,this.heartbeatCallback=(o=e==null?void 0:e.heartbeatCallback)!==null&&o!==void 0?o:ha,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=e==null?void 0:e.reconnectAfterMs)!==null&&c!==void 0?c:m=>c0[m-1]||u0,this.encode=(u=e==null?void 0:e.encode)!==null&&u!==void 0?u:(m,g)=>g(JSON.stringify(m)),this.decode=(d=e==null?void 0:e.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class No extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function de(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class f0 extends No{constructor(e,n,r){super(e),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class gl extends No{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var m0=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(l){l(i)})}return new(n||(n=Promise))(function(i,l){function o(d){try{u(r.next(d))}catch(m){l(m)}}function c(d){try{u(r.throw(d))}catch(m){l(m)}}function u(d){d.done?i(d.value):s(d.value).then(o,c)}u((r=r.apply(t,e||[])).next())})};const $h=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>cs(async()=>{const{default:r}=await Promise.resolve().then(()=>cr);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},p0=()=>m0(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield cs(()=>Promise.resolve().then(()=>cr),void 0)).Response:Response}),yl=t=>{if(Array.isArray(t))return t.map(n=>yl(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=yl(r)}),e},g0=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var _n=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(l){l(i)})}return new(n||(n=Promise))(function(i,l){function o(d){try{u(r.next(d))}catch(m){l(m)}}function c(d){try{u(r.throw(d))}catch(m){l(m)}}function u(d){d.done?i(d.value):s(d.value).then(o,c)}u((r=r.apply(t,e||[])).next())})};const fa=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),y0=(t,e,n)=>_n(void 0,void 0,void 0,function*(){const r=yield p0();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(s=>{const i=t.status||500,l=(s==null?void 0:s.statusCode)||i+"";e(new f0(fa(s),i,l))}).catch(s=>{e(new gl(fa(s),s))}):e(new gl(fa(t),t))}),v0=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!r?s:(g0(r)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(r)):s.body=r,e!=null&&e.duplex&&(s.duplex=e.duplex),Object.assign(Object.assign({},s),n))};function ds(t,e,n,r,s,i){return _n(this,void 0,void 0,function*(){return new Promise((l,o)=>{t(n,v0(e,r,s,i)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>l(c)).catch(c=>y0(c,o,r))})})}function gi(t,e,n,r){return _n(this,void 0,void 0,function*(){return ds(t,"GET",e,n,r)})}function dt(t,e,n,r,s){return _n(this,void 0,void 0,function*(){return ds(t,"POST",e,r,s,n)})}function vl(t,e,n,r,s){return _n(this,void 0,void 0,function*(){return ds(t,"PUT",e,r,s,n)})}function x0(t,e,n,r){return _n(this,void 0,void 0,function*(){return ds(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function Rh(t,e,n,r,s){return _n(this,void 0,void 0,function*(){return ds(t,"DELETE",e,r,s,n)})}var Ne=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(l){l(i)})}return new(n||(n=Promise))(function(i,l){function o(d){try{u(r.next(d))}catch(m){l(m)}}function c(d){try{u(r.throw(d))}catch(m){l(m)}}function u(d){d.done?i(d.value):s(d.value).then(o,c)}u((r=r.apply(t,e||[])).next())})};const w0={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},qc={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class _0{constructor(e,n={},r,s){this.url=e,this.headers=n,this.bucketId=r,this.fetch=$h(s)}uploadOrUpdate(e,n,r,s){return Ne(this,void 0,void 0,function*(){try{let i;const l=Object.assign(Object.assign({},qc),s);let o=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(l.upsert)});const c=l.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",l.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",l.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=r,o["cache-control"]=`max-age=${l.cacheControl}`,o["content-type"]=l.contentType,c&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(o=Object.assign(Object.assign({},o),s.headers));const u=this._removeEmptyFolders(n),d=this._getFinalPath(u),m=yield(e=="PUT"?vl:dt)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:o},l!=null&&l.duplex?{duplex:l.duplex}:{}));return{data:{path:u,id:m.Id,fullPath:m.Key},error:null}}catch(i){if(de(i))return{data:null,error:i};throw i}})}upload(e,n,r){return Ne(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,s){return Ne(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),l=this._getFinalPath(i),o=new URL(this.url+`/object/upload/sign/${l}`);o.searchParams.set("token",n);try{let c;const u=Object.assign({upsert:qc.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const m=yield vl(this.fetch,o.toString(),c,{headers:d});return{data:{path:i,fullPath:m.Key},error:null}}catch(c){if(de(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,n){return Ne(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield dt(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),l=new URL(this.url+i.url),o=l.searchParams.get("token");if(!o)throw new No("No token returned by API");return{data:{signedUrl:l.toString(),path:e,token:o},error:null}}catch(r){if(de(r))return{data:null,error:r};throw r}})}update(e,n,r){return Ne(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return Ne(this,void 0,void 0,function*(){try{return{data:yield dt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(de(s))return{data:null,error:s};throw s}})}copy(e,n,r){return Ne(this,void 0,void 0,function*(){try{return{data:{path:(yield dt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(de(s))return{data:null,error:s};throw s}})}createSignedUrl(e,n,r){return Ne(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield dt(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const l=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${l}`)},{data:i,error:null}}catch(s){if(de(s))return{data:null,error:s};throw s}})}createSignedUrls(e,n,r){return Ne(this,void 0,void 0,function*(){try{const s=yield dt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(l=>Object.assign(Object.assign({},l),{signedUrl:l.signedURL?encodeURI(`${this.url}${l.signedURL}${i}`):null})),error:null}}catch(s){if(de(s))return{data:null,error:s};throw s}})}download(e,n){return Ne(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),l=i?`?${i}`:"";try{const o=this._getFinalPath(e);return{data:yield(yield gi(this.fetch,`${this.url}/${s}/${o}${l}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(o){if(de(o))return{data:null,error:o};throw o}})}info(e){return Ne(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield gi(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:yl(r),error:null}}catch(r){if(de(r))return{data:null,error:r};throw r}})}exists(e){return Ne(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield x0(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(de(r)&&r instanceof gl){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const o=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${r}${u}`)}}}remove(e){return Ne(this,void 0,void 0,function*(){try{return{data:yield Rh(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(de(n))return{data:null,error:n};throw n}})}list(e,n,r){return Ne(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},w0),n),{prefix:e||""});return{data:yield dt(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(de(s))return{data:null,error:s};throw s}})}listV2(e,n){return Ne(this,void 0,void 0,function*(){try{const r=Object.assign({},e);return{data:yield dt(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(de(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const j0="2.11.1",b0={"X-Client-Info":`storage-js/${j0}`};var Nn=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(l){l(i)})}return new(n||(n=Promise))(function(i,l){function o(d){try{u(r.next(d))}catch(m){l(m)}}function c(d){try{u(r.throw(d))}catch(m){l(m)}}function u(d){d.done?i(d.value):s(d.value).then(o,c)}u((r=r.apply(t,e||[])).next())})};class N0{constructor(e,n={},r,s){const i=new URL(e);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},b0),n),this.fetch=$h(r)}listBuckets(){return Nn(this,void 0,void 0,function*(){try{return{data:yield gi(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(de(e))return{data:null,error:e};throw e}})}getBucket(e){return Nn(this,void 0,void 0,function*(){try{return{data:yield gi(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(de(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return Nn(this,void 0,void 0,function*(){try{return{data:yield dt(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(de(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return Nn(this,void 0,void 0,function*(){try{return{data:yield vl(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(de(r))return{data:null,error:r};throw r}})}emptyBucket(e){return Nn(this,void 0,void 0,function*(){try{return{data:yield dt(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(de(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Nn(this,void 0,void 0,function*(){try{return{data:yield Rh(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(de(n))return{data:null,error:n};throw n}})}}class k0 extends N0{constructor(e,n={},r,s){super(e,n,r,s)}from(e){return new _0(this.url,this.headers,e,this.fetch)}}const S0="2.57.2";let Nr="";typeof Deno<"u"?Nr="deno":typeof document<"u"?Nr="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Nr="react-native":Nr="node";const C0={"X-Client-Info":`supabase-js-${Nr}/${S0}`},E0={headers:C0},T0={schema:"public"},P0={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},A0={};var O0=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(l){l(i)})}return new(n||(n=Promise))(function(i,l){function o(d){try{u(r.next(d))}catch(m){l(m)}}function c(d){try{u(r.throw(d))}catch(m){l(m)}}function u(d){d.done?i(d.value):s(d.value).then(o,c)}u((r=r.apply(t,e||[])).next())})};const $0=t=>{let e;return t?e=t:typeof fetch>"u"?e=xh:e=fetch,(...n)=>e(...n)},R0=()=>typeof Headers>"u"?wh:Headers,I0=(t,e,n)=>{const r=$0(n),s=R0();return(i,l)=>O0(void 0,void 0,void 0,function*(){var o;const c=(o=yield e())!==null&&o!==void 0?o:t;let u=new s(l==null?void 0:l.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),r(i,Object.assign(Object.assign({},l),{headers:u}))})};var L0=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(l){l(i)})}return new(n||(n=Promise))(function(i,l){function o(d){try{u(r.next(d))}catch(m){l(m)}}function c(d){try{u(r.throw(d))}catch(m){l(m)}}function u(d){d.done?i(d.value):s(d.value).then(o,c)}u((r=r.apply(t,e||[])).next())})};function D0(t){return t.endsWith("/")?t:t+"/"}function U0(t,e){var n,r;const{db:s,auth:i,realtime:l,global:o}=t,{db:c,auth:u,realtime:d,global:m}=e,g={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},d),l),storage:{},global:Object.assign(Object.assign(Object.assign({},m),o),{headers:Object.assign(Object.assign({},(n=m==null?void 0:m.headers)!==null&&n!==void 0?n:{}),(r=o==null?void 0:o.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>L0(this,void 0,void 0,function*(){return""})};return t.accessToken?g.accessToken=t.accessToken:delete g.accessToken,g}const Ih="2.71.1",Tn=30*1e3,xl=3,ma=xl*Tn,M0="http://localhost:9999",z0="supabase.auth.token",F0={"X-Client-Info":`gotrue-js/${Ih}`},wl="X-Supabase-Api-Version",Lh={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},B0=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,H0=10*60*1e3;class ko extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function B(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class V0 extends ko{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function W0(t){return B(t)&&t.name==="AuthApiError"}class Dh extends ko{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Zt extends ko{constructor(e,n,r,s){super(e,r,s),this.name=n,this.status=r}}class Pt extends Zt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function q0(t){return B(t)&&t.name==="AuthSessionMissingError"}class As extends Zt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Os extends Zt{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class $s extends Zt{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function K0(t){return B(t)&&t.name==="AuthImplicitGrantRedirectError"}class Kc extends Zt{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class _l extends Zt{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function pa(t){return B(t)&&t.name==="AuthRetryableFetchError"}class Jc extends Zt{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class jl extends Zt{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const yi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Gc=` 	
\r=`.split(""),J0=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Gc.length;e+=1)t[Gc[e].charCodeAt(0)]=-2;for(let e=0;e<yi.length;e+=1)t[yi[e].charCodeAt(0)]=e;return t})();function Qc(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(yi[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(yi[r]),e.queuedBits-=6}}function Uh(t,e,n){const r=J0[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Yc(t){const e=[],n=l=>{e.push(String.fromCodePoint(l))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=l=>{Y0(l,r,n)};for(let l=0;l<t.length;l+=1)Uh(t.charCodeAt(l),s,i);return e.join("")}function G0(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function Q0(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}G0(r,e)}}function Y0(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function X0(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)Uh(t.charCodeAt(s),n,r);return new Uint8Array(e)}function Z0(t){const e=[];return Q0(t,n=>e.push(n)),new Uint8Array(e)}function eg(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};return t.forEach(s=>Qc(s,n,r)),Qc(null,n,r),e.join("")}function tg(t){return Math.round(Date.now()/1e3)+t}function ng(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const et=()=>typeof window<"u"&&typeof document<"u",nn={tested:!1,writable:!1},Mh=()=>{if(!et())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(nn.tested)return nn.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),nn.tested=!0,nn.writable=!0}catch{nn.tested=!0,nn.writable=!1}return nn.writable};function rg(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{e[s]=r}),e}const zh=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>cs(async()=>{const{default:r}=await Promise.resolve().then(()=>cr);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},sg=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Pn=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},rn=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Tt=async(t,e)=>{await t.removeItem(e)};class Ui{constructor(){this.promise=new Ui.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Ui.promiseConstructor=Promise;function ga(t){const e=t.split(".");if(e.length!==3)throw new jl("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!B0.test(e[r]))throw new jl("JWT not in base64url format");return{header:JSON.parse(Yc(e[0])),payload:JSON.parse(Yc(e[1])),signature:X0(e[2]),raw:{header:e[0],payload:e[1]}}}async function ig(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function ag(t,e){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const l=await t(i);if(!e(i,null,l)){r(l);return}}catch(l){if(!e(i,l)){s(l);return}}})()})}function lg(t){return("0"+t.toString(16)).substr(-2)}function og(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(e),Array.from(e,lg).join("")}async function cg(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function ug(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await cg(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function kn(t,e,n=!1){const r=og();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await Pn(t,`${e}-code-verifier`,s);const i=await ug(r);return[i,r===i?"plain":"s256"]}const dg=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function hg(t){const e=t.headers.get(wl);if(!e||!e.match(dg))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function fg(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function mg(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const pg=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Sn(t){if(!pg.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function ya(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Xc(t){return JSON.parse(JSON.stringify(t))}var gg=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};const ln=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),yg=[502,503,504];async function Zc(t){var e;if(!sg(t))throw new _l(ln(t),0);if(yg.includes(t.status))throw new _l(ln(t),t.status);let n;try{n=await t.json()}catch(i){throw new Dh(ln(i),i)}let r;const s=hg(t);if(s&&s.getTime()>=Lh["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Jc(ln(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new Pt}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,l)=>i&&typeof l=="string",!0))throw new Jc(ln(n),t.status,n.weak_password.reasons);throw new V0(ln(n),t.status||500,r)}const vg=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function W(t,e,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[wl]||(i[wl]=Lh["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const l=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(l.redirect_to=r.redirectTo);const o=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",c=await xg(t,e,n+o,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function xg(t,e,n,r,s,i){const l=vg(e,r,s,i);let o;try{o=await t(n,Object.assign({},l))}catch(c){throw console.error(c),new _l(ln(c),0)}if(o.ok||await Zc(o),r!=null&&r.noResolveJson)return o;try{return await o.json()}catch(c){await Zc(c)}}function pt(t){var e;let n=null;bg(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=tg(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function eu(t){const e=pt(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function It(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function wg(t){return{data:t,error:null}}function _g(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=t,l=gg(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},c=Object.assign({},l);return{data:{properties:o,user:c},error:null}}function jg(t){return t}function bg(t){return t.access_token&&t.refresh_token&&t.expires_in}const va=["global","local","others"];var Ng=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};class kg{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=zh(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n=va[0]){if(va.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${va.join(", ")}`);try{return await W(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(B(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await W(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:It})}catch(r){if(B(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=Ng(e,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await W(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:_g,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(B(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await W(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:It})}catch(n){if(B(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,s,i,l,o,c;try{const u={nextPage:null,lastPage:0,total:0},d=await W(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:jg});if(d.error)throw d.error;const m=await d.json(),g=(l=d.headers.get("x-total-count"))!==null&&l!==void 0?l:0,x=(c=(o=d.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&c!==void 0?c:[];return x.length>0&&(x.forEach(y=>{const w=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(y.split(";")[1].split("=")[1]);u[`${j}Page`]=w}),u.total=parseInt(g)),{data:Object.assign(Object.assign({},m),u),error:null}}catch(u){if(B(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){Sn(e);try{return await W(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:It})}catch(n){if(B(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){Sn(e);try{return await W(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:It})}catch(r){if(B(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){Sn(e);try{return await W(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:It})}catch(r){if(B(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){Sn(e.userId);try{const{data:n,error:r}=await W(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(B(n))return{data:null,error:n};throw n}}async _deleteFactor(e){Sn(e.userId),Sn(e.id);try{return{data:await W(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(B(n))return{data:null,error:n};throw n}}}function tu(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function Sg(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Cn={debug:!!(globalThis&&Mh()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Fh extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Cg extends Fh{}async function Eg(t,e,n){Cn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Cn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){Cn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await n()}finally{Cn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw Cn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new Cg(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Cn.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}Sg();const Tg={url:M0,storageKey:z0,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:F0,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function nu(t,e,n){return await n()}const En={};class ns{constructor(e){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ns.nextInstanceID,ns.nextInstanceID+=1,this.instanceID>0&&et()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},Tg),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new kg({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=zh(s.fetch),this.lock=s.lock||nu,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:et()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=Eg:this.lock=nu,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:Mh()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=tu(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=tu(this.memoryStorage)),et()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var e,n;return(n=(e=En[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){En[this.storageKey]=Object.assign(Object.assign({},En[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=En[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){En[this.storageKey]=Object.assign(Object.assign({},En[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Ih}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=rg(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),et()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),K0(i)){const c=(e=i.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:l,redirectType:o}=s;return this._debug("#_initialize()","detected session in URL",l,"redirect type",o),await this._saveSession(l),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return B(n)?{error:n}:{error:new Dh("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,s;try{const i=await W(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:pt}),{data:l,error:o}=i;if(o||!l)return{data:{user:null,session:null},error:o};const c=l.session,u=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(B(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var n,r,s;try{let i;if("email"in e){const{email:d,password:m,options:g}=e;let x=null,y=null;this.flowType==="pkce"&&([x,y]=await kn(this.storage,this.storageKey)),i=await W(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:g==null?void 0:g.emailRedirectTo,body:{email:d,password:m,data:(n=g==null?void 0:g.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},code_challenge:x,code_challenge_method:y},xform:pt})}else if("phone"in e){const{phone:d,password:m,options:g}=e;i=await W(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:m,data:(r=g==null?void 0:g.data)!==null&&r!==void 0?r:{},channel:(s=g==null?void 0:g.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}},xform:pt})}else throw new Os("You must provide either an email or phone number and a password");const{data:l,error:o}=i;if(o||!l)return{data:{user:null,session:null},error:o};const c=l.session,u=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(B(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let n;if("email"in e){const{email:i,password:l,options:o}=e;n=await W(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:l,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:eu})}else if("phone"in e){const{phone:i,password:l,options:o}=e;n=await W(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:l,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:eu})}else throw new Os("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new As}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(B(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;if(n==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(e){var n,r,s,i,l,o,c,u,d,m,g,x;let y,w;if("message"in e)y=e.message,w=e.signature;else{const{chain:j,wallet:h,statement:f,options:p}=e;let v;if(et())if(typeof h=="object")v=h;else{const b=window;if("solana"in b&&typeof b.solana=="object"&&("signIn"in b.solana&&typeof b.solana.signIn=="function"||"signMessage"in b.solana&&typeof b.solana.signMessage=="function"))v=b.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof h!="object"||!(p!=null&&p.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");v=h}const _=new URL((n=p==null?void 0:p.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in v&&v.signIn){const b=await v.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},p==null?void 0:p.signInWithSolana),{version:"1",domain:_.host,uri:_.href}),f?{statement:f}:null));let C;if(Array.isArray(b)&&b[0]&&typeof b[0]=="object")C=b[0];else if(b&&typeof b=="object"&&"signedMessage"in b&&"signature"in b)C=b;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in C&&"signature"in C&&(typeof C.signedMessage=="string"||C.signedMessage instanceof Uint8Array)&&C.signature instanceof Uint8Array)y=typeof C.signedMessage=="string"?C.signedMessage:new TextDecoder().decode(C.signedMessage),w=C.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in v)||typeof v.signMessage!="function"||!("publicKey"in v)||typeof v!="object"||!v.publicKey||!("toBase58"in v.publicKey)||typeof v.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${_.host} wants you to sign in with your Solana account:`,v.publicKey.toBase58(),...f?["",f,""]:[""],"Version: 1",`URI: ${_.href}`,`Issued At: ${(s=(r=p==null?void 0:p.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=p==null?void 0:p.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${p.signInWithSolana.notBefore}`]:[],...!((l=p==null?void 0:p.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${p.signInWithSolana.expirationTime}`]:[],...!((o=p==null?void 0:p.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${p.signInWithSolana.chainId}`]:[],...!((c=p==null?void 0:p.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${p.signInWithSolana.nonce}`]:[],...!((u=p==null?void 0:p.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${p.signInWithSolana.requestId}`]:[],...!((m=(d=p==null?void 0:p.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||m===void 0)&&m.length?["Resources",...p.signInWithSolana.resources.map(C=>`- ${C}`)]:[]].join(`
`);const b=await v.signMessage(new TextEncoder().encode(y),"utf8");if(!b||!(b instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=b}}try{const{data:j,error:h}=await W(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:eg(w)},!((g=e.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(x=e.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:pt});if(h)throw h;return!j||!j.session||!j.user?{data:{user:null,session:null},error:new As}:(j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("SIGNED_IN",j.session)),{data:Object.assign({},j),error:h})}catch(j){if(B(j))return{data:{user:null,session:null},error:j};throw j}}async _exchangeCodeForSession(e){const n=await rn(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:l}=await W(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:pt});if(await Tt(this.storage,`${this.storageKey}-code-verifier`),l)throw l;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new As}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:l})}catch(i){if(B(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:n,provider:r,token:s,access_token:i,nonce:l}=e,o=await W(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:l,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:pt}),{data:c,error:u}=o;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new As}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(n){if(B(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,s,i,l;try{if("email"in e){const{email:o,options:c}=e;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await kn(this.storage,this.storageKey));const{error:m}=await W(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:m}}if("phone"in e){const{phone:o,options:c}=e,{data:u,error:d}=await W(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(l=c==null?void 0:c.channel)!==null&&l!==void 0?l:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new Os("You must provide either an email or phone number.")}catch(o){if(B(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(e){var n,r;try{let s,i;"options"in e&&(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:l,error:o}=await W(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:pt});if(o)throw o;if(!l)throw new Error("An error occurred on token verification.");const c=l.session,u=l.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(B(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var n,r,s;try{let i=null,l=null;return this.flowType==="pkce"&&([i,l]=await kn(this.storage,this.storageKey)),await W(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:l}),headers:this.headers,xform:wg})}catch(i){if(B(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new Pt;const{error:s}=await W(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(B(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:s,options:i}=e,{error:l}=await W(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:l}}else if("phone"in e){const{phone:r,type:s,options:i}=e,{data:l,error:o}=await W(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:o}}throw new Os("You must provide either an email or phone number and a type")}catch(n){if(B(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await rn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<ma:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const l=await rn(this.userStorage,this.storageKey+"-user");l!=null&&l.user?e.user=l.user:e.user=ya()}if(this.storage.isServer&&e.user){let l=this.suppressGetSessionWarning;e=new Proxy(e,{get:(c,u,d)=>(!l&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),l=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:e},error:null}}const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await W(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:It}):await this._useSession(async n=>{var r,s,i;const{data:l,error:o}=n;if(o)throw o;return!(!((r=l.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Pt}:await W(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=l.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:It})})}catch(n){if(B(n))return q0(n)&&(await this._removeSession(),await Tt(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new Pt;const l=s.session;let o=null,c=null;this.flowType==="pkce"&&e.email!=null&&([o,c]=await kn(this.storage,this.storageKey));const{data:u,error:d}=await W(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:o,code_challenge_method:c}),jwt:l.access_token,xform:It});if(d)throw d;return l.user=u.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),{data:{user:l.user},error:null}})}catch(r){if(B(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Pt;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:l}=ga(e.access_token);if(l.exp&&(r=l.exp,s=r<=n),s){const{session:o,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!o)return{data:{user:null,session:null},error:null};i=o}else{const{data:o,error:c}=await this._getUser(e.access_token);if(c)throw c;i={access_token:e.access_token,refresh_token:e.refresh_token,user:o.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(B(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:l,error:o}=n;if(o)throw o;e=(r=l.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new Pt;const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(B(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!et())throw new $s("No browser detected.");if(e.error||e.error_description||e.error_code)throw new $s(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Kc("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new $s("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Kc("No code detected.");const{data:f,error:p}=await this._exchangeCodeForSession(e.code);if(p)throw p;const v=new URL(window.location.href);return v.searchParams.delete("code"),window.history.replaceState(window.history.state,"",v.toString()),{data:{session:f.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:l,expires_in:o,expires_at:c,token_type:u}=e;if(!i||!o||!l||!u)throw new $s("No session defined in URL");const d=Math.round(Date.now()/1e3),m=parseInt(o);let g=d+m;c&&(g=parseInt(c));const x=g-d;x*1e3<=Tn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${x}s, should have been closer to ${m}s`);const y=g-m;d-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,g,d):d-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,g,d);const{data:w,error:j}=await this._getUser(i);if(j)throw j;const h={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:m,expires_at:g,refresh_token:l,token_type:u,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:h,redirectType:e.type},error:null}}catch(r){if(B(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await rn(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const l=(r=s.session)===null||r===void 0?void 0:r.access_token;if(l){const{error:o}=await this.admin.signOut(l,e);if(o&&!(W0(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return e!=="others"&&(await this._removeSession(),await Tt(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=ng(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:l}=n;if(l)throw l;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await kn(this.storage,this.storageKey,!0));try{return await W(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(B(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(B(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var l,o,c,u,d;const{data:m,error:g}=i;if(g)throw g;const x=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(l=e.options)===null||l===void 0?void 0:l.redirectTo,scopes:(o=e.options)===null||o===void 0?void 0:o.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await W(this.fetch,"GET",x,{headers:this.headers,jwt:(d=(u=m.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return et()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(B(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:l}=n;if(l)throw l;return await W(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(B(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await ag(async s=>(s>0&&await ig(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await W(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:pt})),(s,i)=>{const l=200*Math.pow(2,s);return i&&pa(i)&&Date.now()+l-r<Tn})}catch(r){if(this._debug(n,"error",r),B(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),et()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await rn(this.storage,this.storageKey);if(s&&this.userStorage){let l=await rn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!l&&(l={user:s.user},await Pn(this.userStorage,this.storageKey+"-user",l)),s.user=(e=l==null?void 0:l.user)!==null&&e!==void 0?e:ya()}else if(s&&!s.user&&!s.user){const l=await rn(this.storage,this.storageKey+"-user");l&&(l!=null&&l.user)?(s.user=l.user,await Tt(this.storage,this.storageKey+"-user"),await Pn(this.storage,this.storageKey,s)):s.user=ya()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const i=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<ma;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${ma}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:l}=await this._callRefreshToken(s.refresh_token);l&&(console.error(l),pa(l)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:l,error:o}=await this._getUser(s.access_token);!o&&(l!=null&&l.user)?(s.user=l.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(l){console.error("Error getting user data:",l),this._debug(r,"error getting user data, skipping SIGNED_IN notification",l)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new Pt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Ui;const{data:i,error:l}=await this._refreshAccessToken(e);if(l)throw l;if(!i.session)throw new Pt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const o={session:i.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(i){if(this._debug(s,"error",i),B(i)){const l={session:null,error:i};return pa(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(l),l}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,n,r=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const i=[],l=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(e,n)}catch(c){i.push(c)}});if(await Promise.all(l),i.length>0){for(let o=0;o<i.length;o+=1)console.error(i[o]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Pn(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const i=Xc(s);await Pn(this.storage,this.storageKey,i)}else{const s=Xc(n);await Pn(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await Tt(this.storage,this.storageKey),await Tt(this.storage,this.storageKey+"-code-verifier"),await Tt(this.storage,this.storageKey+"-user"),this.userStorage&&await Tt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&et()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Tn);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-e)/Tn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Tn}ms, refresh threshold is ${xl} ticks`),s<=xl&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Fh)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!et()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,l]=await kn(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(l)}`});s.push(o.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await W(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(B(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:l}=n;if(l)return{data:null,error:l};const o=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:c,error:u}=await W(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(n){if(B(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const{data:l,error:o}=await W(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:o})})}catch(n){if(B(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await W(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(B(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(e==null?void 0:e.factors)||[],s=r.filter(l=>l.factor_type==="totp"&&l.status==="verified"),i=r.filter(l=>l.factor_type==="phone"&&l.status==="verified");return{data:{all:r,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=ga(s.access_token);let o=null;l.aal&&(o=l.aal);let c=o;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(m=>m.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");const d=l.amr||[];return{data:{currentLevel:o,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(o=>o.kid===e);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(o=>o.kid===e),r&&this.jwks_cached_at+H0>s)return r;const{data:i,error:l}=await W(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,r=i.keys.find(o=>o.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:x,error:y}=await this.getSession();if(y||!x.session)return{data:null,error:y};r=x.session.access_token}const{header:s,payload:i,signature:l,raw:{header:o,payload:c}}=ga(r);n!=null&&n.allowExpired||fg(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:x}=await this.getUser(r);if(x)throw x;return{data:{claims:i,header:s,signature:l},error:null}}const d=mg(s.alg),m=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,m,l,Z0(`${o}.${c}`)))throw new jl("Invalid JWT signature");return{data:{claims:i,header:s,signature:l},error:null}}catch(r){if(B(r))return{data:null,error:r};throw r}}}ns.nextInstanceID=0;const Pg=ns;class Ag extends Pg{constructor(e){super(e)}}var Og=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(l){l(i)})}return new(n||(n=Promise))(function(i,l){function o(d){try{u(r.next(d))}catch(m){l(m)}}function c(d){try{u(r.throw(d))}catch(m){l(m)}}function u(d){d.done?i(d.value):s(d.value).then(o,c)}u((r=r.apply(t,e||[])).next())})};class $g{constructor(e,n,r){var s,i,l;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const o=D0(e),c=new URL(o);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const u=`sb-${c.hostname.split(".")[0]}-auth-token`,d={db:T0,realtime:A0,auth:Object.assign(Object.assign({},P0),{storageKey:u}),global:E0},m=U0(r??{},d);this.storageKey=(s=m.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=m.global.headers)!==null&&i!==void 0?i:{},m.accessToken?(this.accessToken=m.accessToken,this.auth=new Proxy({},{get:(g,x)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(x)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((l=m.auth)!==null&&l!==void 0?l:{},this.headers,m.global.fetch),this.fetch=I0(n,this._getAccessToken.bind(this),m.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},m.realtime)),this.rest=new Gp(new URL("rest/v1",c).href,{headers:this.headers,schema:m.db.schema,fetch:this.fetch}),this.storage=new k0(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),m.accessToken||this._listenForAuthEvents()}get functions(){return new Cp(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return Og(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:i,storageKey:l,flowType:o,lock:c,debug:u},d,m){const g={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Ag({url:this.authUrl.href,headers:Object.assign(Object.assign({},g),d),storageKey:l,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:i,flowType:o,lock:c,debug:u,fetch:m,hasCustomAuthorizationHeader:Object.keys(this.headers).some(x=>x.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new h0(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Rg=(t,e,n)=>new $g(t,e,n);function Ig(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}Ig()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Lg="https://sayvujudnipdunikpnhb.supabase.co",Dg="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InNheXZ1anVkbmlwZHVuaWtwbmhiIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTcwNzk3MjEsImV4cCI6MjA3MjY1NTcyMX0.EXls7nlV6HAKzAdlGIK8yYK_U1VLIa3Aldd1d-9Y0tc",M=Rg(Lg,Dg),Bh=$.createContext(void 0);function Ug({children:t}){const[e,n]=$.useState(null),[r,s]=$.useState(null),[i,l]=$.useState(null),[o,c]=$.useState(!0);$.useEffect(()=>{M.auth.getSession().then(({data:{session:f}})=>{l(f),n((f==null?void 0:f.user)??null),f!=null&&f.user?u(f.user.id):c(!1)});const{data:{subscription:h}}=M.auth.onAuthStateChange(async(f,p)=>{l(p),n((p==null?void 0:p.user)??null),p!=null&&p.user?await u(p.user.id):(s(null),c(!1))});return()=>h.unsubscribe()},[]);const u=async h=>{try{const{data:f,error:p}=await M.from("user_profiles").select("*").eq("user_id",h).single();p?console.error("Error fetching user profile:",p):s(f)}catch(f){console.error("Error fetching user profile:",f)}finally{c(!1)}},d=async(h,f)=>{const{error:p}=await M.auth.signInWithPassword({email:h,password:f});return{error:p}},m=async(h,f,p)=>{const{error:v}=await M.auth.signUp({email:h,password:f,options:{data:{full_name:p}}});return{error:v}},g=async()=>{await M.auth.signOut()},x=(r==null?void 0:r.role)==="admin"||(r==null?void 0:r.role)==="super_admin",y=(r==null?void 0:r.role)==="super_admin",w=(r==null?void 0:r.is_approved)===!0,j={user:e,profile:r,session:i,loading:o,signIn:d,signUp:m,signOut:g,isAdmin:x,isSuperAdmin:y,isApproved:w};return a.jsx(Bh.Provider,{value:j,children:t})}function jn(){const t=$.useContext(Bh);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Mg={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zg=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),V=(t,e)=>{const n=$.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:l,className:o="",children:c,...u},d)=>$.createElement("svg",{ref:d,...Mg,width:s,height:s,stroke:r,strokeWidth:l?Number(i)*24/Number(s):i,className:["lucide",`lucide-${zg(t)}`,o].join(" "),...u},[...e.map(([m,g])=>$.createElement(m,g)),...Array.isArray(c)?c:[c]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const So=V("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fg=V("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bg=V("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bl=V("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qn=V("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Co=V("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hg=V("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ir=V("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xa=V("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vg=V("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eo=V("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wg=V("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qg=V("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kg=V("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jg=V("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hh=V("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gg=V("Maximize",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qg=V("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yg=V("Minimize",[["path",{d:"M8 3v3a2 2 0 0 1-2 2H3",key:"hohbtr"}],["path",{d:"M21 8h-3a2 2 0 0 1-2-2V3",key:"5jw1f3"}],["path",{d:"M3 16h3a2 2 0 0 1 2 2v3",key:"198tvr"}],["path",{d:"M16 21v-3a2 2 0 0 1 2-2h3",key:"ph8mxp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xg=V("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jt=V("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zg=V("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ur=V("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nl=V("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ey=V("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const To=V("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rs=V("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ty=V("SkipForward",[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kl=V("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ny=V("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hn=V("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gt=V("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Po=V("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vh=V("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ry=V("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sy=V("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lt=V("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wh=V("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function iy(){const{signIn:t,signUp:e}=jn(),[n,r]=$.useState(!1),[s,i]=$.useState(!1),[l,o]=$.useState(null),[c,u]=$.useState({email:"",password:"",fullName:""}),d=async g=>{g.preventDefault(),i(!0),o(null);try{if(n){const{error:x}=await e(c.email,c.password,c.fullName);x?o({type:"error",text:x.message}):(o({type:"success",text:"Account created successfully! Please wait for admin approval before logging in."}),r(!1),u({email:"",password:"",fullName:""}))}else{const{error:x}=await t(c.email,c.password);x&&o({type:"error",text:x.message})}}catch{o({type:"error",text:"An unexpected error occurred"})}finally{i(!1)}},m=g=>{u(x=>({...x,[g.target.name]:g.target.value}))};return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:a.jsxs("div",{className:"max-w-md w-full",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-blue-600 rounded-full mb-4",children:a.jsx(rs,{className:"w-8 h-8 text-white"})}),a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Sales Dashboard"}),a.jsx("p",{className:"text-gray-600 mt-2",children:n?"Create your account":"Sign in to your account"})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[l&&a.jsxs("div",{className:`mb-6 p-4 rounded-lg flex items-center space-x-2 ${l.type==="success"?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"}`,children:[l.type==="success"?a.jsx(Co,{className:"w-5 h-5 text-green-500"}):a.jsx(So,{className:"w-5 h-5 text-red-500"}),a.jsx("span",{className:l.type==="success"?"text-green-700":"text-red-700",children:l.text})]}),a.jsxs("form",{onSubmit:d,className:"space-y-6",children:[n&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name"}),a.jsxs("div",{className:"relative",children:[a.jsx(sy,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx("input",{type:"text",name:"fullName",value:c.fullName,onChange:m,required:n,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your full name"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),a.jsxs("div",{className:"relative",children:[a.jsx(Hh,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx("input",{type:"email",name:"email",value:c.email,onChange:m,required:!0,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your email"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),a.jsxs("div",{className:"relative",children:[a.jsx(qg,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx("input",{type:"password",name:"password",value:c.password,onChange:m,required:!0,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your password",minLength:6})]})]}),a.jsx("button",{type:"submit",disabled:s,className:"w-full flex items-center justify-center space-x-2 bg-blue-600 text-white py-3 px-4 rounded-lg hover:bg-blue-700 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:s?a.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):a.jsxs(a.Fragment,{children:[n?a.jsx(Vh,{className:"w-5 h-5"}):a.jsx(Kg,{className:"w-5 h-5"}),a.jsx("span",{children:n?"Create Account":"Sign In"})]})})]}),a.jsx("div",{className:"mt-6 text-center",children:a.jsx("button",{onClick:()=>{r(!n),o(null),u({email:"",password:"",fullName:""})},className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:n?"Already have an account? Sign in":"Don't have an account? Sign up"})}),!n&&a.jsx("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:a.jsx("p",{className:"text-xs text-gray-600 text-center",children:"New accounts require admin approval before access is granted."})})]})]})})}function ay(){const{signOut:t,profile:e}=jn();return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-yellow-50 to-orange-100 flex items-center justify-center p-4",children:a.jsxs("div",{className:"max-w-md w-full",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-yellow-500 rounded-full mb-4",children:a.jsx(ir,{className:"w-8 h-8 text-white"})}),a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Account Pending Approval"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Your account is waiting for administrator approval"})]}),a.jsx("div",{className:"bg-white rounded-xl shadow-lg p-8",children:a.jsxs("div",{className:"text-center space-y-4",children:[a.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 bg-yellow-100 rounded-full",children:a.jsx(rs,{className:"w-6 h-6 text-yellow-600"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Account Created Successfully"}),a.jsxs("p",{className:"text-gray-600 mt-2",children:["Welcome, ",(e==null?void 0:e.full_name)||(e==null?void 0:e.email),"!"]})]}),a.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx(Hh,{className:"w-5 h-5 text-yellow-600 mt-0.5"}),a.jsxs("div",{className:"text-left",children:[a.jsx("p",{className:"text-sm font-medium text-yellow-800",children:"Waiting for Admin Approval"}),a.jsx("p",{className:"text-sm text-yellow-700 mt-1",children:"An administrator needs to approve your account before you can access the dashboard. You'll receive an email notification once your account is approved."})]})]})}),a.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Account Email:"})," ",e==null?void 0:e.email]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Account Role:"})," ",e==null?void 0:e.role]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Status:"})," Pending Approval"]})]}),a.jsx("button",{onClick:t,className:"w-full bg-gray-600 text-white py-3 px-4 rounded-lg hover:bg-gray-700 transition-colors",children:"Sign Out"})]})}),a.jsx("div",{className:"mt-6 text-center",children:a.jsx("p",{className:"text-sm text-gray-600",children:"Need help? Contact your system administrator."})})]})})}function hs(){const{profile:t}=jn(),[e,n]=$.useState([]),[r,s]=$.useState([]),[i,l]=$.useState([]),[o,c]=$.useState([]),[u,d]=$.useState(!0),[m,g]=$.useState(null);$.useEffect(()=>{if(!(t!=null&&t.is_approved))return;const N=setInterval(()=>{x()},3e5);return()=>clearInterval(N)},[t==null?void 0:t.is_approved]);const x=async()=>{if(!(t!=null&&t.is_approved)){d(!1);return}try{d(!0),g(null);const[N,S,A,F]=await Promise.all([M.from("campaigns").select("*").order("name"),M.from("campaign_teams").select("*").order("name"),M.from("agents").select("*").order("name"),M.from("call_data").select("*").order("date",{ascending:!1})]);if(N.error)throw N.error;if(S.error)throw S.error;if(A.error)throw A.error;if(F.error)throw F.error;n(N.data||[]),s(S.data||[]),l(A.data||[]),c(F.data||[])}catch(N){g(N instanceof Error?N.message:"An error occurred")}finally{d(!1)}};$.useEffect(()=>{if(!(t!=null&&t.is_approved))return;const N=M.channel("campaigns-changes").on("postgres_changes",{event:"*",schema:"public",table:"campaigns"},D=>{D.eventType==="INSERT"?n(H=>[...H,D.new].sort((L,K)=>L.name.localeCompare(K.name))):D.eventType==="UPDATE"?n(H=>H.map(L=>L.id===D.new.id?D.new:L).sort((L,K)=>L.name.localeCompare(K.name))):D.eventType==="DELETE"&&n(H=>H.filter(L=>L.id!==D.old.id))}).subscribe(),S=M.channel("campaign-teams-changes").on("postgres_changes",{event:"*",schema:"public",table:"campaign_teams"},D=>{D.eventType==="INSERT"?s(H=>[...H,D.new].sort((L,K)=>L.name.localeCompare(K.name))):D.eventType==="UPDATE"?s(H=>H.map(L=>L.id===D.new.id?D.new:L).sort((L,K)=>L.name.localeCompare(K.name))):D.eventType==="DELETE"&&s(H=>H.filter(L=>L.id!==D.old.id))}).subscribe(),A=M.channel("agents-changes").on("postgres_changes",{event:"*",schema:"public",table:"agents"},D=>{D.eventType==="INSERT"?l(H=>[...H,D.new].sort((L,K)=>L.name.localeCompare(K.name))):D.eventType==="UPDATE"?l(H=>H.map(L=>L.id===D.new.id?D.new:L).sort((L,K)=>L.name.localeCompare(K.name))):D.eventType==="DELETE"&&l(H=>H.filter(L=>L.id!==D.old.id))}).subscribe(),F=M.channel("call-data-changes").on("postgres_changes",{event:"*",schema:"public",table:"call_data"},D=>{D.eventType==="INSERT"?c(H=>[D.new,...H].sort((L,K)=>new Date(K.date).getTime()-new Date(L.date).getTime())):D.eventType==="UPDATE"?c(H=>H.map(L=>L.id===D.new.id?D.new:L).sort((L,K)=>new Date(K.date).getTime()-new Date(L.date).getTime())):D.eventType==="DELETE"&&c(H=>H.filter(L=>L.id!==D.old.id))}).subscribe();return()=>{N.unsubscribe(),S.unsubscribe(),A.unsubscribe(),F.unsubscribe()}},[t==null?void 0:t.is_approved]);const y=async N=>{const{data:S,error:A}=await M.from("campaigns").insert(N).select().single();if(A)throw A;return S},w=async(N,S)=>{const{data:A,error:F}=await M.from("campaigns").update(S).eq("id",N).select().single();if(F)throw F;return A},j=async N=>{const{error:S}=await M.from("campaigns").delete().eq("id",N);if(S)throw S},h=async N=>{const{data:S,error:A}=await M.from("campaign_teams").insert(N).select().single();if(A)throw A;return S},f=async(N,S)=>{const{data:A,error:F}=await M.from("campaign_teams").update(S).eq("id",N).select().single();if(F)throw F;return A},p=async N=>{const{error:S}=await M.from("campaign_teams").delete().eq("id",N);if(S)throw S},v=async N=>{const{data:S,error:A}=await M.from("agents").insert(N).select().single();if(A)throw A;return S},_=async N=>{const{data:S,error:A}=await M.from("agents").insert(N).select();if(A)throw A;return S},b=async(N,S)=>{const{data:A,error:F}=await M.from("agents").update(S).eq("id",N).select().single();if(F)throw F;return A},C=async N=>{const{error:S}=await M.from("agents").delete().eq("id",N);if(S)throw S},k=async N=>{const{data:S,error:A}=await M.from("call_data").upsert(N,{onConflict:"agent_id,date,hour"}).select();if(A)throw A;return S},T=async()=>{try{d(!0),await Promise.all([M.from("call_data").delete().neq("id","00000000-0000-0000-0000-000000000000"),M.from("agent_notes").delete().neq("id","00000000-0000-0000-0000-000000000000"),M.from("agents").delete().neq("id","00000000-0000-0000-0000-000000000000"),M.from("campaign_teams").delete().neq("id","00000000-0000-0000-0000-000000000000"),M.from("campaigns").delete().neq("id","00000000-0000-0000-0000-000000000000")])}catch(N){g(N instanceof Error?N.message:"Failed to clear data")}finally{d(!1)}};return $.useEffect(()=>{x()},[t==null?void 0:t.is_approved]),{campaigns:e,campaignTeams:r,agents:i,callData:o,loading:u,error:m,fetchData:x,createCampaign:y,updateCampaign:w,deleteCampaign:j,createCampaignTeam:h,updateCampaignTeam:f,deleteCampaignTeam:p,createAgent:v,createAgents:_,updateAgent:b,deleteAgent:C,upsertCallData:k,clearAllData:T}}function ly(){const{isSuperAdmin:t}=jn(),{campaigns:e,campaignTeams:n,createCampaign:r,updateCampaign:s,deleteCampaign:i,createCampaignTeam:l,updateCampaignTeam:o,deleteCampaignTeam:c}=hs(),[u,d]=$.useState("users"),[m,g]=$.useState([]),[x,y]=$.useState([]),[w,j]=$.useState(!0),[h,f]=$.useState(!1),[p,v]=$.useState(!1),[_,b]=$.useState(null),[C,k]=$.useState(null),[T,N]=$.useState({name:"",description:"",color:"#3b82f6"}),[S,A]=$.useState({name:"",campaign_id:"",color:"#10b981"}),[F,D]=$.useState(!1),[H,L]=$.useState({user_id:"",campaign_id:""});$.useEffect(()=>{K()},[]);const K=async()=>{try{const[E,I]=await Promise.all([M.from("user_profiles").select("*").order("created_at",{ascending:!1}),M.from("user_permissions").select(`
            *,
            user_profiles!inner(email),
            campaigns!inner(name)
          `)]);if(E.data&&g(E.data),I.data){const J=I.data.map(me=>({...me,user_email:me.user_profiles.email,campaign_name:me.campaigns.name}));y(J)}}catch(E){console.error("Error fetching admin data:",E)}finally{j(!1)}},O=async(E,I)=>{try{const{error:J}=await M.from("user_profiles").update({is_approved:I}).eq("user_id",E);if(J)throw J;g(me=>me.map(Le=>Le.user_id===E?{...Le,is_approved:I}:Le))}catch(J){console.error("Error updating user approval:",J)}},U=async(E,I)=>{try{const{error:J}=await M.from("user_profiles").update({role:I}).eq("user_id",E);if(J)throw J;g(me=>me.map(Le=>Le.user_id===E?{...Le,role:I}:Le))}catch(J){console.error("Error updating user role:",J)}},z=async(E,I)=>{try{const{error:J}=await M.from("user_permissions").insert({user_id:E,campaign_id:I,can_view:!0,can_edit:!1,can_delete:!1});if(J)throw J;K()}catch(J){console.error("Error creating user permission:",J)}},Y=async(E,I)=>{try{const{error:J}=await M.from("user_permissions").update(I).eq("id",E);if(J)throw J;y(me=>me.map(Le=>Le.id===E?{...Le,...I}:Le))}catch(J){console.error("Error updating permission:",J)}},ae=async()=>{if(T.name)try{await r(T),N({name:"",description:"",color:"#3b82f6"}),f(!1)}catch(E){console.error("Error creating campaign:",E)}},Ct=async()=>{if(!(!S.name||!S.campaign_id))try{await l(S),A({name:"",campaign_id:"",color:"#10b981"}),v(!1)}catch(E){console.error("Error creating team:",E)}},He=async E=>{if(confirm("Are you sure you want to delete this campaign? This will also delete all associated teams and data."))try{await i(E)}catch(I){console.error("Error deleting campaign:",I)}},en=async E=>{if(confirm("Are you sure you want to delete this team?"))try{await c(E)}catch(I){console.error("Error deleting team:",I)}},Ve=async E=>{if(confirm("Are you sure you want to permanently delete this user? This action cannot be undone and will remove all their data."))try{await M.from("user_permissions").delete().eq("user_id",E),await M.from("user_profiles").delete().eq("user_id",E);const{error:I}=await M.auth.admin.deleteUser(E);if(I)throw I;g(J=>J.filter(me=>me.user_id!==E)),y(J=>J.filter(me=>me.user_id!==E)),alert("User deleted successfully")}catch(I){console.error("Error deleting user:",I),alert("Error deleting user. You may not have sufficient permissions.")}},We=async()=>{if(!(!H.user_id||!H.campaign_id))try{await z(H.user_id,H.campaign_id),L({user_id:"",campaign_id:""}),D(!1)}catch(E){console.error("Error creating permission:",E),alert("Error creating permission. This user may already have access to this campaign.")}},tn=async(E,I,J)=>{if(confirm(`Remove ${I}'s access to ${J}?`))try{const{error:me}=await M.from("user_permissions").delete().eq("id",E);if(me)throw me;y(Le=>Le.filter(Kh=>Kh.id!==E))}catch(me){console.error("Error deleting permission:",me),alert("Error removing permission.")}},qh=async()=>{if(confirm("Are you sure you want to clear ALL data? This action cannot be undone."))try{await Promise.all([M.from("call_data").delete().neq("id","00000000-0000-0000-0000-000000000000"),M.from("agent_notes").delete().neq("id","00000000-0000-0000-0000-000000000000"),M.from("agents").delete().neq("id","00000000-0000-0000-0000-000000000000"),M.from("campaign_teams").delete().neq("id","00000000-0000-0000-0000-000000000000"),M.from("campaigns").delete().neq("id","00000000-0000-0000-0000-000000000000")]),alert("All data cleared successfully"),K()}catch(E){console.error("Error clearing data:",E),alert("Error clearing data")}};return w?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:[a.jsxs("h2",{className:"text-2xl font-bold text-gray-900 flex items-center",children:[a.jsx(rs,{className:"w-6 h-6 mr-2 text-blue-600"}),"Admin Panel"]}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Manage users, permissions, and system settings"})]}),a.jsx("div",{className:"flex space-x-1 bg-gray-100 p-1 rounded-lg",children:[{id:"users",label:"User Management",icon:lt},{id:"permissions",label:"Permissions",icon:rs},{id:"settings",label:"Campaigns & Settings",icon:To}].map(E=>a.jsxs("button",{onClick:()=>d(E.id),className:`flex items-center space-x-2 px-4 py-2 rounded-md font-medium transition-all ${u===E.id?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:[a.jsx(E.icon,{className:"w-4 h-4"}),a.jsx("span",{children:E.label})]},E.id))}),u==="users"&&a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[a.jsxs("div",{className:"p-6 border-b border-gray-100",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"User Management"}),a.jsx("p",{className:"text-gray-600",children:"Approve users and manage their roles"})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-sm font-medium text-gray-600",children:"User"}),a.jsx("th",{className:"px-6 py-3 text-left text-sm font-medium text-gray-600",children:"Role"}),a.jsx("th",{className:"px-6 py-3 text-left text-sm font-medium text-gray-600",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-sm font-medium text-gray-600",children:"Created"}),a.jsx("th",{className:"px-6 py-3 text-left text-sm font-medium text-gray-600",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-100",children:m.map(E=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-gray-900",children:E.full_name||"No name"}),a.jsx("div",{className:"text-sm text-gray-600",children:E.email})]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("select",{value:E.role,onChange:I=>U(E.user_id,I.target.value),className:"text-sm border border-gray-300 rounded px-2 py-1",disabled:!t,children:[a.jsx("option",{value:"standard",children:"Standard User"}),a.jsx("option",{value:"admin",children:"Admin User"}),t&&a.jsx("option",{value:"super_admin",children:"Super Admin"})]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${E.is_approved?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:E.is_approved?"Approved":"Pending"})}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:new Date(E.created_at).toLocaleDateString()}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex space-x-2",children:[!E.is_approved&&a.jsx("button",{onClick:()=>O(E.user_id,!0),className:"text-green-600 hover:text-green-800",title:"Approve User",children:a.jsx(Hg,{className:"w-4 h-4"})}),E.is_approved&&E.role!=="super_admin"&&a.jsx("button",{onClick:()=>O(E.user_id,!1),className:"text-red-600 hover:text-red-800",title:"Revoke Approval",children:a.jsx(Wh,{className:"w-4 h-4"})}),E.role!=="super_admin"&&a.jsx("button",{onClick:()=>Ve(E.user_id),className:"text-red-600 hover:text-red-800",title:"Delete User",children:a.jsx(ry,{className:"w-4 h-4"})})]})})]},E.id))})]})})]}),u==="permissions"&&a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[a.jsx("div",{className:"p-6 border-b border-gray-100",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Campaign Permissions"}),a.jsx("p",{className:"text-gray-600",children:"Manage user access to campaigns"})]}),a.jsxs("button",{onClick:()=>D(!0),className:"flex items-center space-x-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:[a.jsx(Ur,{className:"w-4 h-4"}),a.jsx("span",{children:"Add Permission"})]})]})}),a.jsx("div",{className:"p-6",children:a.jsxs("div",{className:"space-y-4",children:[x.map(E=>a.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-gray-900",children:E.user_email}),a.jsx("div",{className:"text-sm text-gray-600",children:E.campaign_name})]}),a.jsx("button",{onClick:()=>tn(E.id,E.user_email,E.campaign_name),className:"text-red-600 hover:text-red-800 p-1",title:"Remove Permission",children:a.jsx(Hn,{className:"w-4 h-4"})})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("label",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"checkbox",checked:E.can_view,onChange:I=>Y(E.id,{can_view:I.target.checked}),className:"rounded border-gray-300"}),a.jsx("span",{className:"text-sm text-gray-700",children:"Can View"})]}),a.jsxs("label",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"checkbox",checked:E.can_edit,onChange:I=>Y(E.id,{can_edit:I.target.checked}),className:"rounded border-gray-300"}),a.jsx("span",{className:"text-sm text-gray-700",children:"Can Edit"})]}),a.jsxs("label",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"checkbox",checked:E.can_delete,onChange:I=>Y(E.id,{can_delete:I.target.checked}),className:"rounded border-gray-300"}),a.jsx("span",{className:"text-sm text-gray-700",children:"Can Delete"})]})]})]},E.id)),x.length===0&&a.jsxs("div",{className:"text-center py-8",children:[a.jsx(Wg,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"No campaign permissions configured"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Add permissions to grant users access to specific campaigns"})]})]})})]}),u==="settings"&&a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[a.jsxs("div",{className:"p-6 border-b border-gray-100",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Campaigns & System Settings"}),a.jsx("p",{className:"text-gray-600",children:"Manage campaigns, teams, and system-wide settings"})]}),a.jsx("div",{className:"p-6",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h4",{className:"font-medium text-gray-900",children:"Campaign Management"}),a.jsxs("button",{onClick:()=>f(!0),className:"flex items-center space-x-2 bg-blue-600 text-white px-3 py-1 rounded text-sm hover:bg-blue-700",children:[a.jsx(Ur,{className:"w-4 h-4"}),a.jsx("span",{children:"Add Campaign"})]})]}),a.jsx("div",{className:"space-y-2",children:e.map(E=>a.jsxs("div",{className:"flex items-center justify-between p-3 border border-gray-100 rounded",children:[_===E.id?a.jsxs("div",{className:"flex items-center space-x-2 flex-1",children:[a.jsx("input",{type:"text",defaultValue:E.name,className:"border border-gray-300 rounded px-2 py-1 text-sm",onBlur:I=>{s(E.id,{name:I.target.value}),b(null)}}),a.jsx("input",{type:"color",defaultValue:E.color,className:"w-8 h-8 border border-gray-300 rounded",onChange:I=>s(E.id,{color:I.target.value})})]}):a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-4 h-4 rounded",style:{backgroundColor:E.color}}),a.jsx("span",{className:"font-medium",children:E.name}),a.jsxs("span",{className:"text-sm text-gray-500",children:["(",n.filter(I=>I.campaign_id===E.id).length," teams)"]})]}),a.jsxs("div",{className:"flex space-x-2",children:[_===E.id?a.jsx("button",{onClick:()=>b(null),className:"text-green-600 hover:text-green-800",children:a.jsx(Nl,{className:"w-4 h-4"})}):a.jsx("button",{onClick:()=>b(E.id),className:"text-blue-600 hover:text-blue-800",children:a.jsx(kl,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>He(E.id),className:"text-red-600 hover:text-red-800",children:a.jsx(Hn,{className:"w-4 h-4"})})]})]},E.id))})]}),a.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h4",{className:"font-medium text-gray-900",children:"Team Management"}),a.jsxs("button",{onClick:()=>v(!0),className:"flex items-center space-x-2 bg-green-600 text-white px-3 py-1 rounded text-sm hover:bg-green-700",children:[a.jsx(Ur,{className:"w-4 h-4"}),a.jsx("span",{children:"Add Team"})]})]}),a.jsx("div",{className:"space-y-2",children:n.map(E=>{const I=e.find(J=>J.id===E.campaign_id);return a.jsxs("div",{className:"flex items-center justify-between p-3 border border-gray-100 rounded",children:[C===E.id?a.jsxs("div",{className:"flex items-center space-x-2 flex-1",children:[a.jsx("input",{type:"text",defaultValue:E.name,className:"border border-gray-300 rounded px-2 py-1 text-sm",onBlur:J=>{o(E.id,{name:J.target.value}),k(null)}}),a.jsx("input",{type:"color",defaultValue:E.color,className:"w-8 h-8 border border-gray-300 rounded",onChange:J=>o(E.id,{color:J.target.value})})]}):a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-4 h-4 rounded",style:{backgroundColor:E.color}}),a.jsx("span",{className:"font-medium",children:E.name}),a.jsxs("span",{className:"text-sm text-gray-500",children:["(",I==null?void 0:I.name,")"]})]}),a.jsxs("div",{className:"flex space-x-2",children:[C===E.id?a.jsx("button",{onClick:()=>k(null),className:"text-green-600 hover:text-green-800",children:a.jsx(Nl,{className:"w-4 h-4"})}):a.jsx("button",{onClick:()=>k(E.id),className:"text-blue-600 hover:text-blue-800",children:a.jsx(kl,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>en(E.id),className:"text-red-600 hover:text-red-800",children:a.jsx(Hn,{className:"w-4 h-4"})})]})]},E.id)})})]}),a.jsxs("div",{className:"border border-red-200 rounded-lg p-4 bg-red-50",children:[a.jsx("h4",{className:"font-medium text-red-900 mb-2",children:"Danger Zone"}),a.jsx("p",{className:"text-sm text-red-700 mb-4",children:"This action will permanently delete all campaigns, teams, agents, and call data. This cannot be undone."}),a.jsxs("button",{onClick:qh,className:"flex items-center space-x-2 bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors",children:[a.jsx(Hn,{className:"w-4 h-4"}),a.jsx("span",{children:"Clear All Data"})]})]})]})})]}),h&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-md",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Add New Campaign"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),a.jsx("input",{type:"text",value:T.name,onChange:E=>N(I=>({...I,name:E.target.value})),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),a.jsx("textarea",{value:T.description,onChange:E=>N(I=>({...I,description:E.target.value})),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Color"}),a.jsx("input",{type:"color",value:T.color,onChange:E=>N(I=>({...I,color:E.target.value})),className:"w-full h-10 border border-gray-300 rounded-lg"})]})]}),a.jsxs("div",{className:"flex space-x-3 mt-6",children:[a.jsx("button",{onClick:ae,className:"flex-1 bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors",children:"Add Campaign"}),a.jsx("button",{onClick:()=>f(!1),className:"flex-1 bg-gray-300 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-400 transition-colors",children:"Cancel"})]})]})}),p&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-md",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Add New Team"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),a.jsx("input",{type:"text",value:S.name,onChange:E=>A(I=>({...I,name:E.target.value})),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Campaign"}),a.jsxs("select",{value:S.campaign_id,onChange:E=>A(I=>({...I,campaign_id:E.target.value})),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"",children:"Select Campaign"}),e.map(E=>a.jsx("option",{value:E.id,children:E.name},E.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Color"}),a.jsx("input",{type:"color",value:S.color,onChange:E=>A(I=>({...I,color:E.target.value})),className:"w-full h-10 border border-gray-300 rounded-lg"})]})]}),a.jsxs("div",{className:"flex space-x-3 mt-6",children:[a.jsx("button",{onClick:Ct,className:"flex-1 bg-green-600 text-white py-2 px-4 rounded-lg hover:bg-green-700 transition-colors",children:"Add Team"}),a.jsx("button",{onClick:()=>v(!1),className:"flex-1 bg-gray-300 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-400 transition-colors",children:"Cancel"})]})]})}),F&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-md",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Add Campaign Permission"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"User"}),a.jsxs("select",{value:H.user_id,onChange:E=>L(I=>({...I,user_id:E.target.value})),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"",children:"Select User"}),m.filter(E=>E.is_approved).map(E=>a.jsxs("option",{value:E.user_id,children:[E.full_name||E.email," (",E.email,")"]},E.user_id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Campaign"}),a.jsxs("select",{value:H.campaign_id,onChange:E=>L(I=>({...I,campaign_id:E.target.value})),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"",children:"Select Campaign"}),e.map(E=>a.jsx("option",{value:E.id,children:E.name},E.id))]})]})]}),a.jsxs("div",{className:"flex space-x-3 mt-6",children:[a.jsx("button",{onClick:We,className:"flex-1 bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors",children:"Add Permission"}),a.jsx("button",{onClick:()=>D(!1),className:"flex-1 bg-gray-300 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-400 transition-colors",children:"Cancel"})]})]})})]})}function Oe(t){const e=Math.floor(t/60),n=Math.round(t%60);return e>0?`${e}h ${n}m`:`${n}m`}function kr(t){const e=t>=12?"PM":"AM";return`${t>12?t-12:t===0?12:t}:00 ${e}`}function oy({campaigns:t,agents:e,campaignTeams:n,callData:r,date:s}){const[i,l]=$.useState(""),[o,c]=$.useState(""),[u,d]=$.useState(null),[m,g]=$.useState(new Date(Date.now()-7*24*60*60*1e3).toISOString().split("T")[0]),[x,y]=$.useState(new Date().toISOString().split("T")[0]),w=e.map(_=>{const b=r.filter(N=>N.agent_id===_.id&&N.date===s),C=b.reduce((N,S)=>N+S.calls_made,0),k=b.reduce((N,S)=>N+S.total_call_time,0),T=b.reduce((N,S)=>N+S.sales_made,0);return{agentId:_.id,date:s,totalCalls:C,totalCallTime:k,totalSales:T,averageCallTime:C>0?k/C:0}}),j=e.filter(_=>{const b=_.name.toLowerCase().includes(i.toLowerCase())||_.email.toLowerCase().includes(i.toLowerCase()),C=!o||_.campaign_team_id===o;return b&&C}),h=_=>{var b;return((b=n.find(C=>C.id===_))==null?void 0:b.name)||"No Team"},f=_=>{var b;return((b=n.find(C=>C.id===_))==null?void 0:b.color)||"#6b7280"},p=_=>{var C;const b=n.find(k=>k.id===_);return((C=t.find(k=>k.id===(b==null?void 0:b.campaign_id)))==null?void 0:C.name)||"No Campaign"},v=_=>{const b=r.filter(k=>k.agent_id===_&&k.date>=m&&k.date<=x),C=new Map;return b.forEach(k=>{const T=C.get(k.date)||{calls:0,callTime:0,sales:0};C.set(k.date,{calls:T.calls+k.calls_made,callTime:T.callTime+k.total_call_time,sales:T.sales+k.sales_made})}),Array.from(C.entries()).map(([k,T])=>({date:k,...T})).sort((k,T)=>k.date.localeCompare(T.date))};return a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"relative",children:[a.jsx(ey,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),a.jsx("input",{type:"text",placeholder:"Search agents...",value:i,onChange:_=>l(_.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Eo,{className:"w-4 h-4 text-gray-400"}),a.jsxs("select",{value:o,onChange:_=>c(_.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"",children:"All Teams"}),n.map(_=>a.jsx("option",{value:_.id,children:_.name},_.id))]})]})]})}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:j.map(_=>{const b=w.find(k=>k.agentId===_.id),C=f(_.team_id);return a.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden hover:shadow-md transition-shadow",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:_.name}),a.jsx("p",{className:"text-sm text-gray-600",children:_.email}),a.jsxs("div",{className:"flex items-center mt-2",children:[a.jsx("div",{className:"w-3 h-3 rounded-full mr-2",style:{backgroundColor:C}}),a.jsxs("div",{className:"text-xs",children:[a.jsx("div",{className:"font-medium text-gray-700",children:p(_.campaign_team_id)}),a.jsx("div",{className:"text-gray-500",children:h(_.campaign_team_id)})]})]})]}),a.jsxs("div",{className:"flex flex-col items-end space-y-2",children:[a.jsx("div",{className:`w-2 h-2 rounded-full ${_.is_active?"bg-green-500":"bg-gray-300"}`}),a.jsx("button",{onClick:()=>d(_),className:"text-blue-600 hover:text-blue-800 p-1",title:"View History",children:a.jsx(bl,{className:"w-4 h-4"})})]})]}),b&&a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Jt,{className:"w-4 h-4 text-blue-500"}),a.jsx("span",{className:"text-sm font-medium",children:"Calls"})]}),a.jsx("span",{className:"text-lg font-bold",children:b.totalCalls})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(ir,{className:"w-4 h-4 text-green-500"}),a.jsx("span",{className:"text-sm font-medium",children:"Call Time"})]}),a.jsx("span",{className:"text-lg font-bold",children:Oe(b.totalCallTime)})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Gt,{className:"w-4 h-4 text-orange-500"}),a.jsx("span",{className:"text-sm font-medium",children:"Sales"})]}),a.jsx("span",{className:"text-lg font-bold",children:b.totalSales})]}),a.jsx("div",{className:"pt-3 border-t border-gray-100",children:a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:"Avg Call Time"}),a.jsx("span",{className:"font-medium",children:Oe(b.averageCallTime)})]})})]}),!b&&a.jsx("div",{className:"text-center py-4",children:a.jsx("p",{className:"text-gray-500 text-sm",children:"No data for today"})})]})},_.id)})}),j.length===0&&a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-gray-500",children:"No agents found matching your criteria."})}),u&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-4xl max-h-[80vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{children:[a.jsxs("h3",{className:"text-xl font-semibold text-gray-900",children:[u.name," - Performance History"]}),a.jsxs("p",{className:"text-gray-600",children:[p(u.campaign_team_id)," - ",h(u.campaign_team_id)]})]}),a.jsx("button",{onClick:()=>d(null),className:"text-gray-400 hover:text-gray-600",children:""})]}),a.jsx("div",{className:"flex items-center space-x-4 mb-6",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Qn,{className:"w-4 h-4 text-gray-400"}),a.jsx("input",{type:"date",value:m,onChange:_=>g(_.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),a.jsx("span",{className:"text-gray-500",children:"to"}),a.jsx("input",{type:"date",value:x,onChange:_=>y(_.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),a.jsx("div",{className:"space-y-6",children:(()=>{const _=v(u.id),b=Math.max(..._.map(T=>T.calls),1),C=Math.max(..._.map(T=>T.sales),1),k=Math.max(..._.map(T=>T.callTime),1);return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsx("div",{className:"bg-blue-50 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-blue-600",children:"Total Calls"}),a.jsx("p",{className:"text-2xl font-bold text-blue-700",children:_.reduce((T,N)=>T+N.calls,0)})]}),a.jsx(Jt,{className:"w-8 h-8 text-blue-500"})]})}),a.jsx("div",{className:"bg-green-50 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-green-600",children:"Total Sales"}),a.jsx("p",{className:"text-2xl font-bold text-green-700",children:_.reduce((T,N)=>T+N.sales,0)})]}),a.jsx(Gt,{className:"w-8 h-8 text-green-500"})]})}),a.jsx("div",{className:"bg-purple-50 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-purple-600",children:"Total Call Time"}),a.jsx("p",{className:"text-2xl font-bold text-purple-700",children:Oe(_.reduce((T,N)=>T+N.callTime,0))})]}),a.jsx(ir,{className:"w-8 h-8 text-purple-500"})]})})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Daily Calls"}),a.jsx("div",{className:"space-y-2",children:_.map(T=>a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("span",{className:"text-sm text-gray-600 w-20",children:new Date(T.date).toLocaleDateString()}),a.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-4",children:a.jsx("div",{className:"bg-blue-500 h-4 rounded-full flex items-center justify-end pr-2",style:{width:`${T.calls/b*100}%`},children:a.jsx("span",{className:"text-xs text-white font-medium",children:T.calls})})})]},T.date))})]}),a.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Daily Sales"}),a.jsx("div",{className:"space-y-2",children:_.map(T=>a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("span",{className:"text-sm text-gray-600 w-20",children:new Date(T.date).toLocaleDateString()}),a.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-4",children:a.jsx("div",{className:"bg-green-500 h-4 rounded-full flex items-center justify-end pr-2",style:{width:`${C>0?T.sales/C*100:0}%`},children:a.jsx("span",{className:"text-xs text-white font-medium",children:T.sales})})})]},T.date))})]}),a.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Daily Call Time"}),a.jsx("div",{className:"space-y-2",children:_.map(T=>a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("span",{className:"text-sm text-gray-600 w-20",children:new Date(T.date).toLocaleDateString()}),a.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-4",children:a.jsx("div",{className:"bg-purple-500 h-4 rounded-full flex items-center justify-end pr-2",style:{width:`${T.callTime/k*100}%`},children:a.jsx("span",{className:"text-xs text-white font-medium",children:Oe(T.callTime)})})})]},T.date))})]})]}),_.length===0&&a.jsx("div",{className:"text-center py-8",children:a.jsx("p",{className:"text-gray-500",children:"No data available for the selected date range"})})]})})()})]})})]})}function ru({campaigns:t,campaignTeams:e,agents:n,callData:r,date:s,detailed:i=!1}){const l=t.map(o=>{const c=e.filter(y=>y.campaign_id===o.id).map(y=>y.id),u=n.filter(y=>c.includes(y.campaign_team_id||"")),d=r.filter(y=>{const w=n.find(j=>j.id===y.agent_id);return w&&c.includes(w.campaign_team_id||"")&&y.date===s}),m=d.reduce((y,w)=>y+w.calls_made,0),g=d.reduce((y,w)=>y+w.total_call_time,0),x=d.reduce((y,w)=>y+w.sales_made,0);return{campaignId:o.id,totalCalls:m,totalCallTime:g,totalSales:x,agentCount:u.length,teamCount:c.length,averageCallTime:m>0?g/m:0,averageCallsPerAgent:u.length>0?m/u.length:0}});return i?a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:l.map(o=>{const c=t.find(d=>d.id===o.campaignId);if(!c)return null;const u=o.totalCalls>0?o.totalSales/o.totalCalls*100:0;return a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[a.jsx("div",{className:"h-2",style:{backgroundColor:c.color}}),a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:c.name}),a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(lt,{className:"w-4 h-4 text-gray-400"}),a.jsx("span",{className:"text-sm text-gray-600",children:o.agentCount})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[a.jsx(Jt,{className:"w-5 h-5 text-blue-500 mx-auto mb-1"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Total Calls"}),a.jsx("p",{className:"text-xl font-bold text-blue-600",children:o.totalCalls})]}),a.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[a.jsx(Gt,{className:"w-5 h-5 text-green-500 mx-auto mb-1"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Sales"}),a.jsx("p",{className:"text-xl font-bold text-green-600",children:o.totalSales})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Teams"}),a.jsx("span",{className:"text-sm font-medium",children:o.teamCount})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Call Time"}),a.jsx("span",{className:"text-sm font-medium",children:Oe(o.totalCallTime)})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Avg Call Time"}),a.jsx("span",{className:"text-sm font-medium",children:Oe(o.averageCallTime)})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Calls/Agent"}),a.jsx("span",{className:"text-sm font-medium",children:o.averageCallsPerAgent.toFixed(1)})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Conversion Rate"}),a.jsxs("span",{className:"text-sm font-medium",children:[u.toFixed(1),"%"]})]})]})]})]})]},c.id)})}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[a.jsx(Bg,{className:"w-5 h-5 mr-2 text-yellow-500"}),"Campaign Rankings"]}),a.jsx("div",{className:"space-y-3",children:l.sort((o,c)=>c.totalCalls-o.totalCalls).map((o,c)=>{const u=t.find(d=>d.id===o.campaignId);return u?a.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border border-gray-100",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-gray-100",children:a.jsxs("span",{className:"text-sm font-bold text-gray-600",children:["#",c+1]})}),a.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:u.color}}),a.jsx("span",{className:"font-medium text-gray-900",children:u.name})]}),a.jsxs("div",{className:"flex items-center space-x-6 text-sm",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"font-bold text-gray-900",children:o.totalCalls}),a.jsx("p",{className:"text-gray-600",children:"Calls"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"font-bold text-gray-900",children:o.totalSales}),a.jsx("p",{className:"text-gray-600",children:"Sales"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"font-bold text-gray-900",children:Oe(o.totalCallTime)}),a.jsx("p",{className:"text-gray-600",children:"Time"})]})]})]},u.id):null})})]})]}):a.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Campaign Performance"}),a.jsx("div",{className:"space-y-4",children:l.slice(0,4).map(o=>{const c=t.find(u=>u.id===o.campaignId);return c?a.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border border-gray-100",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:c.color}}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900",children:c.name}),a.jsxs("p",{className:"text-sm text-gray-600",children:[o.teamCount," teams, ",o.agentCount," agents"]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"font-bold text-gray-900",children:o.totalCalls}),a.jsx("p",{className:"text-sm text-gray-600",children:"calls"})]})]},c.id):null})})]})}function su({campaigns:t,campaignTeams:e,agents:n,callData:r,detailed:s=!1}){const[i,l]=$.useState(""),[o,c]=$.useState(new Date().toISOString().split("T")[0]),[u,d]=$.useState(new Date().toISOString().split("T")[0]),m=r.filter(y=>{const w=y.date>=o&&y.date<=u;if(!i)return w;const j=n.find(f=>f.id===y.agent_id),h=e.find(f=>f.id===(j==null?void 0:j.campaign_team_id));return w&&(h==null?void 0:h.campaign_id)===i}),g=[];for(let y=8;y<=17;y++){const w=m.filter(v=>v.hour===y),j=w.reduce((v,_)=>v+_.calls_made,0),h=w.reduce((v,_)=>v+_.total_call_time,0),f=w.reduce((v,_)=>v+_.sales_made,0),p=new Set(w.map(v=>v.agent_id)).size;g.push({hour:y,totalCalls:j,totalCallTime:h,totalSales:f,activeAgents:p,averageCallTime:j>0?h/j:0})}const x=Math.max(...g.map(y=>y.totalCalls));return s?a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Eo,{className:"w-4 h-4 text-gray-400"}),a.jsxs("select",{value:i,onChange:y=>l(y.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"",children:"All Campaigns"}),t.map(y=>a.jsx("option",{value:y.id,children:y.name},y.id))]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Qn,{className:"w-4 h-4 text-gray-400"}),a.jsx("input",{type:"date",value:o,onChange:y=>c(y.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),a.jsx("span",{className:"text-gray-500",children:"to"}),a.jsx("input",{type:"date",value:u,onChange:y=>d(y.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Hourly Performance Breakdown"}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"text-left border-b border-gray-200",children:[a.jsx("th",{className:"pb-3 text-sm font-medium text-gray-600",children:"Time"}),a.jsx("th",{className:"pb-3 text-sm font-medium text-gray-600",children:"Active Agents"}),a.jsx("th",{className:"pb-3 text-sm font-medium text-gray-600",children:"Total Calls"}),a.jsx("th",{className:"pb-3 text-sm font-medium text-gray-600",children:"Call Time"}),a.jsx("th",{className:"pb-3 text-sm font-medium text-gray-600",children:"Sales"}),a.jsx("th",{className:"pb-3 text-sm font-medium text-gray-600",children:"Avg Call Time"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-100",children:g.map(y=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"py-4 text-sm font-medium text-gray-900",children:kr(y.hour)}),a.jsx("td",{className:"py-4 text-sm text-gray-600",children:y.activeAgents}),a.jsx("td",{className:"py-4 text-sm font-bold text-blue-600",children:y.totalCalls}),a.jsx("td",{className:"py-4 text-sm text-gray-600",children:Oe(y.totalCallTime)}),a.jsx("td",{className:"py-4 text-sm font-bold text-green-600",children:y.totalSales}),a.jsx("td",{className:"py-4 text-sm text-gray-600",children:Oe(y.averageCallTime)})]},y.hour))})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:[a.jsxs("h4",{className:"font-semibold text-gray-900 mb-4 flex items-center",children:[a.jsx(Jt,{className:"w-4 h-4 mr-2 text-blue-500"}),"Calls by Hour"]}),a.jsx("div",{className:"space-y-3",children:g.map(y=>a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600",children:kr(y.hour)}),a.jsx("div",{className:"flex items-center space-x-3 flex-1 mx-4",children:a.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:`${x>0?y.totalCalls/x*100:0}%`}})})}),a.jsx("span",{className:"text-sm font-bold text-gray-900",children:y.totalCalls})]},y.hour))})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:[a.jsxs("h4",{className:"font-semibold text-gray-900 mb-4 flex items-center",children:[a.jsx(Gt,{className:"w-4 h-4 mr-2 text-green-500"}),"Sales by Hour"]}),a.jsx("div",{className:"space-y-3",children:g.map(y=>{const w=Math.max(...g.map(j=>j.totalSales));return a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600",children:kr(y.hour)}),a.jsx("div",{className:"flex items-center space-x-3 flex-1 mx-4",children:a.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:`${w>0?y.totalSales/w*100:0}%`}})})}),a.jsx("span",{className:"text-sm font-bold text-gray-900",children:y.totalSales})]},y.hour)})})]})]})]}):a.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Hourly Activity"}),a.jsx("div",{className:"space-y-2",children:g.map(y=>a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("span",{className:"text-sm font-medium text-gray-600 w-16",children:kr(y.hour)}),a.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"bg-blue-500 h-2 rounded-full transition-all",style:{width:`${x>0?y.totalCalls/x*100:0}%`}})}),a.jsx("span",{className:"text-sm font-bold text-gray-900 w-8",children:y.totalCalls})]},y.hour))})]})}function iu(t,e){if(t.length===0)return;const n=Object.keys(t[0]),r=[n.join(","),...t.map(o=>n.map(c=>o[c]).join(","))].join(`
`),s=new Blob([r],{type:"text/csv;charset=utf-8;"}),i=document.createElement("a"),l=URL.createObjectURL(s);i.setAttribute("href",l),i.setAttribute("download",e),i.style.visibility="hidden",document.body.appendChild(i),i.click(),document.body.removeChild(i)}function cy(){const{agents:t,campaignTeams:e,callData:n,upsertCallData:r}=hs(),[s,i]=$.useState(null),[l,o]=$.useState([]),c=new Date().toISOString().split("T")[0],u=h=>{const f=h.trim().split(`
`);if(f.length<2)return[];const p=f[0].split(",").map(_=>_.trim().toLowerCase()),v=[];for(let _=1;_<f.length;_++){const b=f[_].split(",").map(k=>k.trim()),C={};p.forEach((k,T)=>{b[T]&&b[T]!==""&&(C[k]=b[T])}),Object.keys(C).length>0&&v.push(C)}return v},d=h=>t.find(f=>f.name.toLowerCase().trim()===h.toLowerCase().trim()),m=h=>{var v;const f=(v=h.target.files)==null?void 0:v[0];if(!f)return;const p=new FileReader;p.onload=async _=>{var b;try{const C=(b=_.target)==null?void 0:b.result,k=u(C);if(k.length===0){i({type:"error",message:"No data found in CSV file"});return}const T=k[0],N=Object.keys(T).find(O=>O.includes("agent")&&O.includes("name")||O==="name"||O==="agent"),S=Object.keys(T).find(O=>O.includes("call")||O==="calls"),A=Object.keys(T).find(O=>O.includes("second")||O.includes("time"));if(!N){i({type:"error",message:"Missing agent name column. Please include a column with agent names."});return}if(!S){i({type:"error",message:"Missing calls column. Please include a column with call counts."});return}const F=[],D=[];let H=0;for(const O of k){const U=O[N];if(!U)continue;const z=d(U);if(!z){D.push(`Agent "${U}" not found`);continue}const Y=parseInt(O[S])||0,ae=A&&parseInt(O[A])||0,Ct=Math.round(ae/60),He=Object.keys(O).find(tn=>tn.includes("sale")||tn.includes("conversion")),en=He&&parseInt(O[He])||0,Ve=Object.keys(O).find(tn=>tn.includes("hour")||tn==="time");let We=Ve?parseInt(O[Ve]):new Date().getHours();(We<8||We>17)&&(We=Math.max(8,Math.min(17,We))),F.push({agent_id:z.id,date:c,hour:We,calls_made:Y,total_call_time:Ct,sales_made:en}),H++}const L=l.length>0?F.filter(O=>l.includes(O.hour)):F;L.length>0&&await r(L);let K=`Successfully imported ${L.length} records`;D.length>0&&(K+=`. Skipped ${D.length} rows: ${D.slice(0,3).join(", ")}`,D.length>3&&(K+=` and ${D.length-3} more`)),i({type:L.length>0?"success":"error",message:K})}catch{i({type:"error",message:"Error parsing CSV file. Please check the format."})}},p.readAsText(f),h.target.value=""},g=()=>{const h=t.map(f=>{const p=n.filter(k=>k.agent_id===f.id&&k.date===c),v=p.reduce((k,T)=>k+T.calls_made,0),_=p.reduce((k,T)=>k+T.total_call_time,0),b=p.reduce((k,T)=>k+T.sales_made,0),C=e.find(k=>k.id===f.campaign_team_id);return{"Agent ID":f.id,"Agent Name":f.name,Team:(C==null?void 0:C.name)||"No Team",Date:c,"Total Calls":v,"Total Call Time (minutes)":_,"Total Sales":b,"Average Call Time (minutes)":v>0?(_/v).toFixed(2):"0.00"}});iu(h,`sales-report-${c}.csv`)},x=()=>{const h=n.filter(f=>f.date===c);iu(h,`sales-data-${c}.csv`)},y=()=>{const h=["Agent Name,Calls,Seconds,Sales,Hour","John Smith,15,3600,3,9","Jane Doe,12,2700,2,9","Mike Johnson,18,4200,4,10","Sarah Wilson,10,2400,1,10"].join(`
`),f=new Blob([h],{type:"text/csv;charset=utf-8;"}),p=document.createElement("a"),v=URL.createObjectURL(f);p.setAttribute("href",v),p.setAttribute("download","sample-call-data.csv"),p.style.visibility="hidden",document.body.appendChild(p),p.click(),document.body.removeChild(p)},w=h=>{o(f=>f.includes(h)?f.filter(p=>p!==h):[...f,h].sort())},j=Array.from({length:10},(h,f)=>f+8);return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[a.jsx(Po,{className:"w-5 h-5 mr-2 text-blue-500"}),"Import Call Data"]}),s&&a.jsxs("div",{className:`mb-4 p-4 rounded-lg flex items-center space-x-2 ${s.type==="success"?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"}`,children:[s.type==="success"?a.jsx(Co,{className:"w-5 h-5 text-green-500"}):a.jsx(So,{className:"w-5 h-5 text-red-500"}),a.jsx("span",{className:s.type==="success"?"text-green-700":"text-red-700",children:s.message})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Hours to Import (optional - leave empty to replace all data)"}),a.jsx("div",{className:"grid grid-cols-5 gap-2",children:j.map(h=>a.jsxs("button",{onClick:()=>w(h),className:`px-3 py-2 text-sm rounded-lg border transition-colors ${l.includes(h)?"bg-blue-500 text-white border-blue-500":"bg-gray-50 text-gray-700 border-gray-300 hover:bg-gray-100"}`,children:[h,":00"]},h))}),l.length>0&&a.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:["Selected hours: ",l.map(h=>`${h}:00`).join(", ")]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Upload CSV File"}),a.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-blue-400 transition-colors",children:[a.jsx(Vg,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Drop your CSV file here or click to browse"}),a.jsx("input",{type:"file",accept:".csv",onChange:m,className:"hidden",id:"csv-upload"}),a.jsx("label",{htmlFor:"csv-upload",className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 cursor-pointer",children:"Choose File"})]}),a.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Required: Agent Name, Calls. Optional: Seconds, Sales, Hour"}),a.jsx("button",{onClick:y,className:"text-xs text-blue-600 hover:text-blue-800 underline mt-1",children:"Download Sample Import CSV"})]})]})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[a.jsx(xa,{className:"w-5 h-5 mr-2 text-green-500"}),"Export Data"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("button",{onClick:g,className:"flex items-center justify-center space-x-2 px-4 py-3 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:[a.jsx(xa,{className:"w-4 h-4"}),a.jsx("span",{children:"Export Daily Report"})]}),a.jsxs("button",{onClick:x,className:"flex items-center justify-center space-x-2 px-4 py-3 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors",children:[a.jsx(xa,{className:"w-4 h-4"}),a.jsx("span",{children:"Export Raw Data"})]})]}),a.jsxs("div",{className:"mt-4 text-sm text-gray-600",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Daily Report:"})," Includes agent summaries, averages, and totals"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Raw Data:"})," Exports all hourly call data for today"]})]})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Sample CSV Format"}),a.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 font-mono text-sm",children:[a.jsx("div",{className:"text-gray-600",children:"Agent Name,Calls,Seconds,Sales,Hour"}),a.jsx("div",{children:"John Smith,15,3600,3,9"}),a.jsx("div",{children:"Jane Doe,12,2700,2,9"}),a.jsx("div",{children:"Mike Johnson,18,4200,4,10"})]}),a.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:["* Agent Name must match existing agents exactly",a.jsx("br",{}),"* Seconds will be converted to minutes automatically",a.jsx("br",{}),"* hour should be between 8-17 (8am-5pm)",a.jsx("br",{}),"* Missing columns will be ignored",a.jsx("br",{}),"* Sales and Hour are optional (defaults: 0 sales, current hour)"]}),a.jsxs("div",{className:"mt-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[a.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Email Integration Available"}),a.jsx("p",{className:"text-sm text-blue-800",children:'You can also set up automatic import from Outlook emails. Check the "Outlook Integration" tab for automated processing of email attachments.'})]})]})]})}function uy(){const{teams:t,createTeam:e,createAgents:n,clearAllData:r}=hs(),[s,i]=$.useState(null),[l,o]=$.useState([]),[c,u]=$.useState(!1),[d,m]=$.useState(!1),g=h=>{const f=h.trim().split(`
`);if(f.length<2)return[];const p=f[0].split(",").map(k=>k.trim().toLowerCase()),v=p.findIndex(k=>k.includes("name")),_=p.findIndex(k=>k.includes("email")),b=p.findIndex(k=>k.includes("team"));if(v===-1||_===-1||b===-1)throw new Error("CSV must contain columns for name, email, and team");const C=[];for(let k=1;k<f.length;k++){const T=f[k].split(",").map(N=>N.trim());T.length>=3&&T[v]&&T[_]&&T[b]&&C.push({name:T[v],email:T[_],teamName:T[b]})}return C},x=h=>{var v;const f=(v=h.target.files)==null?void 0:v[0];if(!f)return;const p=new FileReader;p.onload=_=>{var b;try{const C=(b=_.target)==null?void 0:b.result,k=g(C);if(k.length===0){i({type:"error",message:"No valid data found in CSV file"});return}o(k),u(!0),i({type:"success",message:`Found ${k.length} agents to import`})}catch(C){i({type:"error",message:C instanceof Error?C.message:"Error parsing CSV file"})}},p.readAsText(f),h.target.value=""},y=async()=>{if(l.length!==0){m(!0);try{const h=[...new Set(l.map(k=>k.teamName))],f=new Set(t.map(k=>k.name)),p=h.filter(k=>!f.has(k)),v=["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6","#06b6d4","#84cc16","#f97316"],_=[];for(let k=0;k<p.length;k++){const T=await e({name:p[k],color:v[k%v.length]});T&&_.push(T)}const b=[...t,..._],C=l.map(k=>{const T=b.find(N=>N.name===k.teamName);if(!T)throw new Error(`Team "${k.teamName}" not found`);return{name:k.name,email:k.email,team_id:T.id,is_active:!0}});await n(C),i({type:"success",message:`Successfully imported ${l.length} agents and ${p.length} new teams`}),o([]),u(!1)}catch(h){i({type:"error",message:h instanceof Error?h.message:"Failed to import agents"})}finally{m(!1)}}},w=async()=>{if(confirm("Are you sure you want to clear all data? This action cannot be undone."))try{await r(),i({type:"success",message:"All data cleared successfully"}),o([]),u(!1)}catch{i({type:"error",message:"Failed to clear data"})}},j=()=>{const h=["Name,Email,Team","John Smith,john.smith@company.com,Alpha Team","Jane Doe,jane.doe@company.com,Alpha Team","Mike Johnson,mike.johnson@company.com,Beta Team","Sarah Wilson,sarah.wilson@company.com,Beta Team"].join(`
`),f=new Blob([h],{type:"text/csv;charset=utf-8;"}),p=document.createElement("a"),v=URL.createObjectURL(f);p.setAttribute("href",v),p.setAttribute("download","sample-agents.csv"),p.style.visibility="hidden",document.body.appendChild(p),p.click(),document.body.removeChild(p)};return a.jsxs("div",{className:"space-y-6",children:[s&&a.jsxs("div",{className:`p-4 rounded-lg flex items-center space-x-2 ${s.type==="success"?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"}`,children:[s.type==="success"?a.jsx(Co,{className:"w-5 h-5 text-green-500"}):a.jsx(So,{className:"w-5 h-5 text-red-500"}),a.jsx("span",{className:s.type==="success"?"text-green-700":"text-red-700",children:s.message})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[a.jsx(lt,{className:"w-5 h-5 mr-2 text-blue-500"}),"Import Agents with Teams"]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Upload CSV File"}),a.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-blue-400 transition-colors",children:[a.jsx(Po,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Drop your CSV file here or click to browse"}),a.jsx("input",{type:"file",accept:".csv",onChange:x,className:"hidden",id:"agent-csv-upload"}),a.jsx("label",{htmlFor:"agent-csv-upload",className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 cursor-pointer",children:"Choose File"})]}),a.jsxs("div",{className:"mt-2 flex justify-between items-center",children:[a.jsx("p",{className:"text-xs text-gray-500",children:"Required columns: Name, Email, Team"}),a.jsx("button",{onClick:j,className:"text-xs text-blue-600 hover:text-blue-800 underline",children:"Download Sample CSV"})]})]}),a.jsx("div",{className:"flex space-x-3",children:a.jsxs("button",{onClick:w,className:"flex items-center space-x-2 px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors",children:[a.jsx(Hn,{className:"w-4 h-4"}),a.jsx("span",{children:"Clear All Data"})]})})]})]}),c&&l.length>0&&a.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Import Preview"}),a.jsxs("div",{className:"flex space-x-3",children:[a.jsx("button",{onClick:()=>u(!1),className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancel"}),a.jsxs("button",{onClick:y,disabled:d,className:"flex items-center space-x-2 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed",children:[a.jsx(Ur,{className:"w-4 h-4"}),a.jsx("span",{children:d?"Importing...":`Import ${l.length} Agents`})]})]})]}),a.jsxs("div",{className:"mb-4 p-4 bg-blue-50 rounded-lg",children:[a.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Teams to be created/used:"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:[...new Set(l.map(h=>h.teamName))].map(h=>{const f=t.some(p=>p.name===h);return a.jsxs("span",{className:`px-3 py-1 rounded-full text-sm ${f?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:[h," ",f?"(existing)":"(new)"]},h)})})]}),a.jsxs("div",{className:"overflow-x-auto",children:[a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"text-left border-b border-gray-200",children:[a.jsx("th",{className:"pb-3 text-sm font-medium text-gray-600",children:"Name"}),a.jsx("th",{className:"pb-3 text-sm font-medium text-gray-600",children:"Email"}),a.jsx("th",{className:"pb-3 text-sm font-medium text-gray-600",children:"Team"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-100",children:l.slice(0,10).map((h,f)=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"py-3 text-sm text-gray-900",children:h.name}),a.jsx("td",{className:"py-3 text-sm text-gray-600",children:h.email}),a.jsx("td",{className:"py-3 text-sm text-gray-600",children:h.teamName})]},f))})]}),l.length>10&&a.jsxs("p",{className:"text-sm text-gray-500 mt-2 text-center",children:["... and ",l.length-10," more agents"]})]})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"CSV Format Instructions"}),a.jsxs("div",{className:"space-y-3 text-sm text-gray-600",children:[a.jsx("p",{children:"Your CSV file should contain the following columns:"}),a.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4",children:[a.jsxs("li",{children:[a.jsx("strong",{children:"Name:"})," Full name of the agent"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Email:"})," Unique email address for the agent"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Team:"})," Team name (will be created if it doesn't exist)"]})]}),a.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 font-mono text-sm mt-4",children:[a.jsx("div",{className:"text-gray-600",children:"Name,Email,Team"}),a.jsx("div",{children:"John Smith,john.smith@company.com,Alpha Team"}),a.jsx("div",{children:"Jane Doe,jane.doe@company.com,Alpha Team"}),a.jsx("div",{children:"Mike Johnson,mike.johnson@company.com,Beta Team"})]}),a.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["* Teams will be automatically created with random colors if they don't exist",a.jsx("br",{}),"* Duplicate emails will be skipped during import"]})]})]})]})}function dy({team:t,agents:e,callData:n,date:r,onBack:s}){const[i,l]=$.useState("name"),o=e.filter(j=>j.campaign_team_id===t.id),c=n.filter(j=>{const h=e.find(f=>f.id===j.agent_id);return(h==null?void 0:h.campaign_team_id)===t.id&&j.date===r}),d=[...o.map(j=>{const h=c.filter(b=>b.agent_id===j.id),f=[];for(let b=8;b<=17;b++){const C=h.filter(S=>S.hour===b),k=C.reduce((S,A)=>S+A.calls_made,0),T=C.reduce((S,A)=>S+A.total_call_time,0),N=C.reduce((S,A)=>S+A.sales_made,0);f.push({hour:b,calls:k,callTime:T,sales:N})}const p=h.reduce((b,C)=>b+C.calls_made,0),v=h.reduce((b,C)=>b+C.total_call_time,0),_=h.reduce((b,C)=>b+C.sales_made,0);return{agent:j,hourlyData:f,totalCalls:p,totalCallTime:v,totalSales:_,averageCallTime:p>0?v/p:0}})].sort((j,h)=>{switch(i){case"calls":return h.totalCalls-j.totalCalls;case"sales":return h.totalSales-j.totalSales;case"time":return h.totalCallTime-j.totalCallTime;default:return j.agent.name.localeCompare(h.agent.name)}}),m=j=>{if(j===0)return"bg-gray-100 text-gray-500";const f=j/40;return f>=1?"bg-green-200 text-green-800":f>=.75?"bg-yellow-200 text-yellow-800":f>=.5?"bg-orange-200 text-orange-800":"bg-red-200 text-red-800"},g=(j,h)=>{if(j===0)return"bg-gray-100 text-gray-500";const f=Math.max(...h),p=Math.min(...h.filter(_=>_>0));if(f===p)return"bg-blue-100 text-blue-800";const v=(j-p)/(f-p);return v>=.8?"bg-green-200 text-green-800":v>=.6?"bg-yellow-200 text-yellow-800":v>=.4?"bg-orange-200 text-orange-800":"bg-red-200 text-red-800"},x=(j,h)=>{if(j===0)return"bg-gray-100 text-gray-500";const f=Math.max(...h),p=Math.min(...h.filter(_=>_>0));if(f===p)return"bg-blue-100 text-blue-800";const v=f>p?(j-p)/(f-p):.5;return v>=.8?"bg-green-200 text-green-800":v>=.6?"bg-yellow-200 text-yellow-800":v>=.4?"bg-orange-200 text-orange-800":"bg-red-200 text-red-800"},y=Array.from({length:10},(j,h)=>h+8),w=j=>`${j.toString().padStart(2,"0")}-${(j+1).toString().padStart(2,"0")}`;return a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("button",{onClick:s,className:"flex items-center space-x-2 text-gray-600 hover:text-gray-900 transition-colors",children:[a.jsx(Fg,{className:"w-5 h-5"}),a.jsx("span",{children:"Back to Teams"})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-6 h-6 rounded-full",style:{backgroundColor:t.color}}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:t.name}),a.jsxs("p",{className:"text-gray-600",children:[o.length," agents  ",new Date(r).toLocaleDateString()]})]})]})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[a.jsx(ny,{className:"w-4 h-4 text-gray-400"}),a.jsx("span",{className:"text-gray-600",children:"Target: 40min per hour"})]}),a.jsxs("select",{value:i,onChange:j=>l(j.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"name",children:"Sort by Name"}),a.jsx("option",{value:"calls",children:"Sort by Calls"}),a.jsx("option",{value:"sales",children:"Sort by Sales"}),a.jsx("option",{value:"time",children:"Sort by Time"})]})]})]})}),a.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsxs("thead",{children:[a.jsxs("tr",{className:"bg-blue-600 text-white",children:[a.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold sticky left-0 bg-blue-600 z-10 min-w-[120px]",children:"AGENT"}),y.map(j=>a.jsx("th",{className:"px-3 py-3 text-center text-sm font-semibold min-w-[80px]",children:w(j)},j)),a.jsx("th",{className:"px-4 py-3 text-center text-sm font-semibold min-w-[100px]",children:"TOTAL TIME"}),a.jsx("th",{className:"px-4 py-3 text-center text-sm font-semibold min-w-[80px]",children:"CALLS"}),a.jsx("th",{className:"px-4 py-3 text-center text-sm font-semibold min-w-[80px]",children:"SALES"})]}),a.jsxs("tr",{className:"bg-blue-500 text-white text-xs",children:[a.jsx("td",{className:"px-4 py-2 font-medium sticky left-0 bg-blue-500 z-10",children:"TIME TARGET"}),y.map(j=>a.jsx("td",{className:"px-3 py-2 text-center font-medium",children:"00:40"},j)),a.jsx("td",{className:"px-4 py-2 text-center font-medium",children:"06:40"}),a.jsx("td",{className:"px-4 py-2 text-center font-medium",children:"-"}),a.jsx("td",{className:"px-4 py-2 text-center font-medium",children:"-"})]})]}),a.jsx("tbody",{children:d.map(j=>(j.hourlyData.map(h=>h.callTime),j.hourlyData.map(h=>h.calls),j.hourlyData.map(h=>h.sales),a.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[a.jsx("td",{className:"px-4 py-3 font-medium text-gray-900 sticky left-0 bg-white z-10 border-r border-gray-200",children:j.agent.name.toUpperCase()}),j.hourlyData.map(h=>a.jsx("td",{className:"px-3 py-3 text-center",children:a.jsx("div",{className:`px-2 py-1 rounded text-xs font-bold ${m(h.callTime)}`,children:h.callTime>0?`${Math.floor(h.callTime/60).toString().padStart(2,"0")}:${(h.callTime%60).toString().padStart(2,"0")}`:"00:00"})},h.hour)),a.jsx("td",{className:"px-4 py-3 text-center",children:a.jsx("div",{className:`inline-block px-3 py-1 rounded text-sm font-bold ${m(j.totalCallTime)}`,children:j.totalCallTime>0?`${Math.floor(j.totalCallTime/60).toString().padStart(2,"0")}:${(j.totalCallTime%60).toString().padStart(2,"0")}`:"00:00"})}),a.jsx("td",{className:"px-4 py-3 text-center",children:a.jsx("div",{className:`inline-block px-3 py-1 rounded text-sm font-bold ${g(j.totalCalls,d.map(h=>h.totalCalls))}`,children:j.totalCalls})}),a.jsx("td",{className:"px-4 py-3 text-center",children:a.jsx("div",{className:`inline-block px-3 py-1 rounded text-sm font-bold ${x(j.totalSales,d.map(h=>h.totalSales))}`,children:j.totalSales})})]},j.agent.id)))})]})})}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Performance Legend"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:"Call Time (40min target per hour)"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-4 h-4 bg-green-200 rounded"}),a.jsx("span",{children:"40+ minutes (Meeting/Exceeding Target)"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-4 h-4 bg-yellow-200 rounded"}),a.jsx("span",{children:"30-39 minutes (Close to Target)"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-4 h-4 bg-orange-200 rounded"}),a.jsx("span",{children:"20-29 minutes (Below Target)"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-4 h-4 bg-red-200 rounded"}),a.jsx("span",{children:"0-19 minutes (Well Below Target)"})]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:"Calls & Sales (Relative to Team)"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-4 h-4 bg-green-200 rounded"}),a.jsx("span",{children:"Top 20% Performance"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-4 h-4 bg-yellow-200 rounded"}),a.jsx("span",{children:"Above Average Performance"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-4 h-4 bg-orange-200 rounded"}),a.jsx("span",{children:"Below Average Performance"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-4 h-4 bg-red-200 rounded"}),a.jsx("span",{children:"Bottom 20% Performance"})]})]})]})]})]})]})}function hy({campaigns:t,campaignTeams:e,agents:n,callData:r,date:s}){const[i,l]=$.useState(s),[o,c]=$.useState("name"),[u,d]=$.useState(null);if(u)return a.jsx(dy,{team:u,agents:n,callData:r,date:i,onBack:()=>d(null)});const m=r.filter(w=>w.date===i),x=[...e.map(w=>{const j=n.filter(b=>b.campaign_team_id===w.id),h=m.filter(b=>{const C=n.find(k=>k.id===b.agent_id);return(C==null?void 0:C.campaign_team_id)===w.id}),f=[];for(let b=8;b<=17;b++){const C=h.filter(S=>S.hour===b),k=C.reduce((S,A)=>S+A.calls_made,0),T=C.reduce((S,A)=>S+A.total_call_time,0),N=C.reduce((S,A)=>S+A.sales_made,0);f.push({hour:b,calls:k,callTime:T,sales:N})}const p=h.reduce((b,C)=>b+C.calls_made,0),v=h.reduce((b,C)=>b+C.total_call_time,0),_=h.reduce((b,C)=>b+C.sales_made,0);return{team:w,teamAgents:j,hourlyData:f,totalCalls:p,totalCallTime:v,totalSales:_,averageCallTime:p>0?v/p:0,conversionRate:p>0?_/p*100:0}})].sort((w,j)=>{switch(o){case"calls":return j.totalCalls-w.totalCalls;case"sales":return j.totalSales-w.totalSales;case"time":return j.totalCallTime-w.totalCallTime;default:return w.team.name.localeCompare(j.team.name)}}),y=Array.from({length:10},(w,j)=>j+8);return a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Campaign Team Performance"}),a.jsx("p",{className:"text-gray-600",children:"Hourly breakdown and daily totals by team"})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Qn,{className:"w-4 h-4 text-gray-400"}),a.jsx("input",{type:"date",value:i,onChange:w=>l(w.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Eo,{className:"w-4 h-4 text-gray-400"}),a.jsxs("select",{value:o,onChange:w=>c(w.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"name",children:"Sort by Name"}),a.jsx("option",{value:"calls",children:"Sort by Calls"}),a.jsx("option",{value:"sales",children:"Sort by Sales"}),a.jsx("option",{value:"time",children:"Sort by Call Time"})]})]})]})]})}),a.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-900 sticky left-0 bg-gray-50 z-10 min-w-[200px]",children:"Team"}),y.map(w=>a.jsx("th",{className:"px-3 py-4 text-center text-xs font-medium text-gray-600 min-w-[80px]",children:kr(w)},w)),a.jsx("th",{className:"px-6 py-4 text-center text-sm font-semibold text-gray-900 bg-blue-50 min-w-[100px]",children:"Total Calls"}),a.jsx("th",{className:"px-6 py-4 text-center text-sm font-semibold text-gray-900 bg-green-50 min-w-[100px]",children:"Total Sales"}),a.jsx("th",{className:"px-6 py-4 text-center text-sm font-semibold text-gray-900 bg-purple-50 min-w-[120px]",children:"Total Time"}),a.jsx("th",{className:"px-6 py-4 text-center text-sm font-semibold text-gray-900 bg-orange-50 min-w-[100px]",children:"Conv. Rate"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-100",children:x.map(w=>{const j=t.find(h=>h.id===w.team.campaign_id);return a.jsxs("tr",{className:"hover:bg-gray-50 cursor-pointer transition-colors",onClick:()=>d(w.team),children:[a.jsx("td",{className:"px-6 py-4 sticky left-0 bg-white z-10 border-r border-gray-100",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-4 h-4 rounded-full flex-shrink-0",style:{backgroundColor:w.team.color}}),a.jsxs("div",{children:[a.jsx("div",{className:"font-semibold text-gray-900",children:w.team.name}),a.jsxs("div",{className:"text-sm text-gray-600 flex items-center",children:[a.jsx(lt,{className:"w-3 h-3 mr-1"}),w.teamAgents.length," agents"]}),j&&a.jsx("div",{className:"text-xs text-gray-500",children:j.name})]})]})}),w.hourlyData.map(h=>a.jsx("td",{className:"px-3 py-4 text-center",children:a.jsxs("div",{className:"space-y-1",children:[a.jsx("div",{className:"text-sm font-bold text-blue-600",children:h.calls}),a.jsxs("div",{className:"text-xs text-green-600",children:[h.sales,"s"]}),a.jsx("div",{className:"text-xs text-gray-500",children:Oe(h.callTime)})]})},h.hour)),a.jsx("td",{className:"px-6 py-4 text-center bg-blue-50",children:a.jsxs("div",{className:"flex items-center justify-center space-x-1",children:[a.jsx(Jt,{className:"w-4 h-4 text-blue-500"}),a.jsx("span",{className:"text-lg font-bold text-blue-600",children:w.totalCalls})]})}),a.jsx("td",{className:"px-6 py-4 text-center bg-green-50",children:a.jsxs("div",{className:"flex items-center justify-center space-x-1",children:[a.jsx(Gt,{className:"w-4 h-4 text-green-500"}),a.jsx("span",{className:"text-lg font-bold text-green-600",children:w.totalSales})]})}),a.jsx("td",{className:"px-6 py-4 text-center bg-purple-50",children:a.jsxs("div",{className:"flex items-center justify-center space-x-1",children:[a.jsx(ir,{className:"w-4 h-4 text-purple-500"}),a.jsx("span",{className:"text-lg font-bold text-purple-600",children:Oe(w.totalCallTime)})]})}),a.jsx("td",{className:"px-6 py-4 text-center bg-orange-50",children:a.jsxs("span",{className:"text-lg font-bold text-orange-600",children:[w.conversionRate.toFixed(1),"%"]})})]},w.team.id)})})]})})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[a.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Teams"}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e.length})]}),a.jsx("div",{className:"bg-blue-500 p-3 rounded-lg",children:a.jsx(lt,{className:"w-6 h-6 text-white"})})]})}),a.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Calls"}),a.jsx("p",{className:"text-3xl font-bold text-blue-600",children:x.reduce((w,j)=>w+j.totalCalls,0)})]}),a.jsx("div",{className:"bg-blue-500 p-3 rounded-lg",children:a.jsx(Jt,{className:"w-6 h-6 text-white"})})]})}),a.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Sales"}),a.jsx("p",{className:"text-3xl font-bold text-green-600",children:x.reduce((w,j)=>w+j.totalSales,0)})]}),a.jsx("div",{className:"bg-green-500 p-3 rounded-lg",children:a.jsx(Gt,{className:"w-6 h-6 text-white"})})]})}),a.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Time"}),a.jsx("p",{className:"text-3xl font-bold text-purple-600",children:Oe(x.reduce((w,j)=>w+j.totalCallTime,0))})]}),a.jsx("div",{className:"bg-purple-500 p-3 rounded-lg",children:a.jsx(ir,{className:"w-6 h-6 text-white"})})]})})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Hourly Data Legend"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded"}),a.jsxs("span",{children:[a.jsx("strong",{children:"Top number:"})," Calls made in that hour"]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-3 h-3 bg-green-500 rounded"}),a.jsxs("span",{children:[a.jsx("strong",{children:"Middle number:"})," Sales made (with 's' suffix)"]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-3 h-3 bg-gray-500 rounded"}),a.jsxs("span",{children:[a.jsx("strong",{children:"Bottom number:"})," Total call time for that hour"]})]})]})]})]})}function fy(){var T;const{campaigns:t,campaignTeams:e,agents:n,createAgent:r,updateAgent:s,deleteAgent:i}=hs(),{profile:l}=jn(),[o,c]=$.useState(null),[u,d]=$.useState([]),[m,g]=$.useState(""),[x,y]=$.useState(null),[w,j]=$.useState({name:"",email:"",campaign_team_id:"",is_active:!0}),[h,f]=$.useState(!1),p=async N=>{try{const{data:S,error:A}=await M.from("agent_notes").select("*").eq("agent_id",N).order("created_at",{ascending:!1});if(A)throw A;d(S||[])}catch(S){console.error("Error fetching agent notes:",S)}},v=async()=>{if(!(!o||!m.trim()))try{const{error:N}=await M.from("agent_notes").insert({agent_id:o,note:m.trim(),created_by:l==null?void 0:l.user_id});if(N)throw N;g(""),p(o)}catch(N){console.error("Error adding note:",N)}},_=async()=>{if(!(!w.name||!w.email||!w.campaign_team_id))try{await r(w),j({name:"",email:"",campaign_team_id:"",is_active:!0}),f(!1)}catch(N){console.error("Error creating agent:",N)}},b=async(N,S)=>{try{await s(N,S),y(null)}catch(A){console.error("Error updating agent:",A)}},C=async N=>{if(confirm("Are you sure you want to delete this agent?"))try{await i(N)}catch(S){console.error("Error deleting agent:",S)}},k=N=>{const S=e.find(F=>F.id===N),A=t.find(F=>F.id===(S==null?void 0:S.campaign_id));return S?`${(A==null?void 0:A.name)||"Unknown"} - ${S.name}`:"No Team"};return a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("h2",{className:"text-2xl font-bold text-gray-900 flex items-center",children:[a.jsx(lt,{className:"w-6 h-6 mr-2 text-blue-600"}),"Agent Management"]}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Manage agents, teams, and notes"})]}),a.jsxs("button",{onClick:()=>f(!0),className:"flex items-center space-x-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:[a.jsx(Ur,{className:"w-4 h-4"}),a.jsx("span",{children:"Add Agent"})]})]})}),h&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-md",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Add New Agent"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),a.jsx("input",{type:"text",value:w.name,onChange:N=>j(S=>({...S,name:N.target.value})),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),a.jsx("input",{type:"email",value:w.email,onChange:N=>j(S=>({...S,email:N.target.value})),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Team"}),a.jsxs("select",{value:w.campaign_team_id,onChange:N=>j(S=>({...S,campaign_team_id:N.target.value})),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"",children:"Select Team"}),e.map(N=>{const S=t.find(A=>A.id===N.campaign_id);return a.jsxs("option",{value:N.id,children:[S==null?void 0:S.name," - ",N.name]},N.id)})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"checkbox",id:"is_active",checked:w.is_active,onChange:N=>j(S=>({...S,is_active:N.target.checked})),className:"rounded border-gray-300"}),a.jsx("label",{htmlFor:"is_active",className:"text-sm text-gray-700",children:"Active"})]})]}),a.jsxs("div",{className:"flex space-x-3 mt-6",children:[a.jsx("button",{onClick:_,className:"flex-1 bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors",children:"Add Agent"}),a.jsx("button",{onClick:()=>f(!1),className:"flex-1 bg-gray-300 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-400 transition-colors",children:"Cancel"})]})]})}),a.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-sm font-medium text-gray-600",children:"Agent"}),a.jsx("th",{className:"px-6 py-3 text-left text-sm font-medium text-gray-600",children:"Team"}),a.jsx("th",{className:"px-6 py-3 text-left text-sm font-medium text-gray-600",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-sm font-medium text-gray-600",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-100",children:n.map(N=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4",children:x===N.id?a.jsxs("div",{className:"space-y-2",children:[a.jsx("input",{type:"text",defaultValue:N.name,className:"w-full border border-gray-300 rounded px-2 py-1 text-sm",onBlur:S=>b(N.id,{name:S.target.value})}),a.jsx("input",{type:"email",defaultValue:N.email,className:"w-full border border-gray-300 rounded px-2 py-1 text-sm",onBlur:S=>b(N.id,{email:S.target.value})})]}):a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-gray-900",children:N.name}),a.jsx("div",{className:"text-sm text-gray-600",children:N.email})]})}),a.jsx("td",{className:"px-6 py-4",children:x===N.id?a.jsxs("select",{defaultValue:N.campaign_team_id||"",className:"border border-gray-300 rounded px-2 py-1 text-sm",onBlur:S=>b(N.id,{campaign_team_id:S.target.value||null}),children:[a.jsx("option",{value:"",children:"No Team"}),e.map(S=>{const A=t.find(F=>F.id===S.campaign_id);return a.jsxs("option",{value:S.id,children:[A==null?void 0:A.name," - ",S.name]},S.id)})]}):a.jsx("span",{className:"text-sm text-gray-600",children:k(N.campaign_team_id)})}),a.jsx("td",{className:"px-6 py-4",children:x===N.id?a.jsx("input",{type:"checkbox",defaultChecked:N.is_active,className:"rounded border-gray-300",onChange:S=>b(N.id,{is_active:S.target.checked})}):a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${N.is_active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:N.is_active?"Active":"Inactive"})}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex space-x-2",children:[x===N.id?a.jsx("button",{onClick:()=>y(null),className:"text-green-600 hover:text-green-800",title:"Save",children:a.jsx(Nl,{className:"w-4 h-4"})}):a.jsx("button",{onClick:()=>y(N.id),className:"text-blue-600 hover:text-blue-800",title:"Edit",children:a.jsx(kl,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>{c(N.id),p(N.id)},className:"text-purple-600 hover:text-purple-800",title:"View Notes",children:a.jsx(Qg,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>C(N.id),className:"text-red-600 hover:text-red-800",title:"Delete",children:a.jsx(Hn,{className:"w-4 h-4"})})]})})]},N.id))})]})})}),o&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-2xl max-h-[80vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Agent Notes - ",(T=n.find(N=>N.id===o))==null?void 0:T.name]}),a.jsx("button",{onClick:()=>c(null),className:"text-gray-400 hover:text-gray-600",children:a.jsx(Wh,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("textarea",{value:m,onChange:N=>g(N.target.value),placeholder:"Add a note...",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3}),a.jsx("button",{onClick:v,className:"mt-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Add Note"})]}),a.jsxs("div",{className:"space-y-4",children:[u.map(N=>a.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[a.jsx("p",{className:"text-gray-900 mb-2",children:N.note}),a.jsx("p",{className:"text-sm text-gray-500",children:new Date(N.created_at).toLocaleString()})]},N.id)),u.length===0&&a.jsx("p",{className:"text-gray-500 text-center py-4",children:"No notes yet"})]})]})})]})}function my(){const t=$.useCallback(s=>{var o;const l=`; ${document.cookie}`.split(`; ${s}=`);if(l.length===2){const c=(o=l.pop())==null?void 0:o.split(";").shift();return c?decodeURIComponent(c):null}return null},[]),e=$.useCallback((s,i,l={})=>{const{expires:o=30,path:c="/",domain:u,secure:d=window.location.protocol==="https:",sameSite:m="lax"}=l;let g=`${s}=${encodeURIComponent(i)}`;if(o>0){const x=new Date;x.setTime(x.getTime()+o*24*60*60*1e3),g+=`; expires=${x.toUTCString()}`}else o<0&&(g+="; expires=Thu, 01 Jan 1970 00:00:00 UTC");g+=`; path=${c}`,u&&(g+=`; domain=${u}`),d&&(g+="; secure"),g+=`; samesite=${m}`,document.cookie=g},[]),n=$.useCallback((s,i="/")=>{e(s,"",{expires:-1,path:i})},[e]),r=$.useCallback(()=>{const s={};return document.cookie.split(";").forEach(i=>{const[l,o]=i.trim().split("=");l&&o&&(s[l]=decodeURIComponent(o))}),s},[]);return{getCookie:t,setCookie:e,deleteCookie:n,getAllCookies:r}}function py({campaigns:t,campaignTeams:e,agents:n,callData:r,date:s}){const[i,l]=$.useState(0),[o,c]=$.useState(!0),[u,d]=$.useState(!1),[m,g]=$.useState(10),[x,y]=$.useState(10),{getCookie:w,setCookie:j}=my();$.useEffect(()=>{const S=w("rotating_dashboard_interval");if(S){const A=parseInt(S);g(A),y(A)}},[w]),$.useEffect(()=>{const S=()=>{d(!!document.fullscreenElement)};return document.addEventListener("fullscreenchange",S),()=>document.removeEventListener("fullscreenchange",S)},[]);const h=e.filter(S=>n.some(A=>A.campaign_team_id===S.id)),f=h[i];$.useEffect(()=>{if(!o||h.length===0)return;const S=setInterval(()=>{y(A=>A<=1?(l(F=>(F+1)%h.length),m):A-1)},1e3);return()=>clearInterval(S)},[o,h.length,m]);const p=()=>{l(S=>(S+1)%h.length),y(m)},v=()=>{c(!o),o||y(m)},_=async()=>{try{document.fullscreenElement?await document.exitFullscreen():await document.documentElement.requestFullscreen()}catch(S){console.error("Fullscreen toggle failed:",S)}},b=S=>{g(S),y(S),j("rotating_dashboard_interval",S.toString(),{expires:30})};if(h.length===0)return a.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:a.jsxs("div",{className:"text-center py-8",children:[a.jsx(lt,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No Teams Available"}),a.jsx("p",{className:"text-gray-600",children:"Create teams and add agents to see the rotating dashboard."})]})});const C=n.filter(S=>S.campaign_team_id===f.id),k=r.filter(S=>{const A=n.find(F=>F.id===S.agent_id);return(A==null?void 0:A.campaign_team_id)===f.id&&S.date===s}),T=C.map(S=>{const A=k.filter(L=>L.agent_id===S.id),F=A.reduce((L,K)=>L+K.calls_made,0),D=A.reduce((L,K)=>L+K.total_call_time,0),H=A.reduce((L,K)=>L+K.sales_made,0);return{agent:S,totalCalls:F,totalCallTime:D,totalSales:H,averageCallTime:F>0?D/F:0}}),N=t.find(S=>S.id===f.campaign_id);return a.jsxs("div",{className:`space-y-6 ${u?"fixed inset-0 bg-gray-50 z-50 p-6 overflow-y-auto":""}`,children:[a.jsx("div",{className:"bg-white rounded-xl shadow-sm p-4 border border-gray-100",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("button",{onClick:v,className:"flex items-center space-x-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:[o?a.jsx(Xg,{className:"w-4 h-4"}):a.jsx(Zg,{className:"w-4 h-4"}),a.jsx("span",{children:o?"Pause":"Play"})]}),a.jsxs("button",{onClick:p,className:"flex items-center space-x-2 bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors",children:[a.jsx(ty,{className:"w-4 h-4"}),a.jsx("span",{children:"Next"})]}),a.jsxs("button",{onClick:_,className:"flex items-center space-x-2 bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700 transition-colors",children:[u?a.jsx(Yg,{className:"w-4 h-4"}):a.jsx(Gg,{className:"w-4 h-4"}),a.jsx("span",{children:u?"Exit Fullscreen":"Fullscreen"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(To,{className:"w-4 h-4 text-gray-400"}),a.jsxs("select",{value:m,onChange:S=>b(parseInt(S.target.value)),className:"border border-gray-300 rounded px-2 py-1 text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:5,children:"5 seconds"}),a.jsx("option",{value:10,children:"10 seconds"}),a.jsx("option",{value:15,children:"15 seconds"}),a.jsx("option",{value:30,children:"30 seconds"}),a.jsx("option",{value:60,children:"1 minute"})]})]})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"text-sm text-gray-600",children:["Team ",i+1," of ",h.length]}),o&&a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),a.jsxs("span",{className:"text-sm text-gray-600",children:["Next in ",x,"s"]})]})]})]})}),a.jsxs("div",{className:`bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden ${u?"flex-1":""}`,children:[a.jsx("div",{className:"h-3",style:{backgroundColor:f.color}}),a.jsxs("div",{className:`p-6 ${u?"h-full flex flex-col":""}`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{children:[a.jsx("h2",{className:`font-bold text-gray-900 ${u?"text-4xl":"text-2xl"}`,children:f.name}),a.jsxs("p",{className:`text-gray-600 ${u?"text-lg":""}`,children:[N==null?void 0:N.name,"  ",C.length," agents  ",new Date(s).toLocaleDateString()]})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:`font-bold text-blue-600 ${u?"text-4xl":"text-2xl"}`,children:T.reduce((S,A)=>S+A.totalCalls,0)}),a.jsx("div",{className:`text-gray-600 ${u?"text-base":"text-sm"}`,children:"Total Calls"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:`font-bold text-green-600 ${u?"text-4xl":"text-2xl"}`,children:T.reduce((S,A)=>S+A.totalSales,0)}),a.jsx("div",{className:`text-gray-600 ${u?"text-base":"text-sm"}`,children:"Total Sales"})]})]})]}),a.jsx("div",{className:`grid gap-4 ${u?"grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-6 flex-1":"grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4"}`,children:T.map(({agent:S,totalCalls:A,totalCallTime:F,totalSales:D,averageCallTime:H})=>a.jsxs("div",{className:`border border-gray-200 rounded-lg hover:shadow-md transition-shadow ${u?"p-6":"p-4"}`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("h3",{className:`font-semibold text-gray-900 truncate ${u?"text-lg":""}`,children:S.name}),a.jsx("div",{className:`w-3 h-3 rounded-full ${S.is_active?"bg-green-500":"bg-gray-300"}`})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(Jt,{className:"w-3 h-3 text-blue-500"}),a.jsx("span",{className:`text-gray-600 ${u?"text-sm":"text-xs"}`,children:"Calls"})]}),a.jsx("span",{className:`font-bold text-blue-600 ${u?"text-lg":"text-sm"}`,children:A})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(ir,{className:"w-3 h-3 text-purple-500"}),a.jsx("span",{className:`text-gray-600 ${u?"text-sm":"text-xs"}`,children:"Time"})]}),a.jsx("span",{className:`font-bold text-purple-600 ${u?"text-lg":"text-sm"}`,children:Oe(F)})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(Gt,{className:"w-3 h-3 text-green-500"}),a.jsx("span",{className:`text-gray-600 ${u?"text-sm":"text-xs"}`,children:"Sales"})]}),a.jsx("span",{className:`font-bold text-green-600 ${u?"text-lg":"text-sm"}`,children:D})]}),a.jsx("div",{className:"pt-2 border-t border-gray-100",children:a.jsxs("div",{className:`flex justify-between ${u?"text-sm":"text-xs"}`,children:[a.jsx("span",{className:"text-gray-500",children:"Avg Call"}),a.jsx("span",{className:"font-medium",children:Oe(H)})]})})]})]},S.id))}),T.length===0&&a.jsxs("div",{className:`text-center ${u?"py-16":"py-8"}`,children:[a.jsx(lt,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"No agents in this team"})]})]})]})]})}function gy(){const{profile:t,signOut:e,isAdmin:n,isSuperAdmin:r}=jn(),[s,i]=$.useState("overview"),{campaigns:l,campaignTeams:o,agents:c,callData:u,loading:d,error:m}=hs(),g=new Date().toISOString().split("T")[0],x=u.filter(v=>v.date===g),y=x.reduce((v,_)=>v+_.calls_made,0),w=x.reduce((v,_)=>v+_.total_call_time,0),j=x.reduce((v,_)=>v+_.sales_made,0),h=new Set(x.map(v=>v.agent_id)).size,f=[{id:"overview",label:"Overview",icon:bl},{id:"agents",label:"Agents",icon:lt},{id:"campaigns",label:"Campaigns",icon:lt},{id:"campaign-dashboard",label:"Campaign Dashboard",icon:Qn},{id:"hourly",label:"Hourly",icon:Qn},{id:"rotating",label:"Rotating Dashboard",icon:bl},...n?[{id:"agent-management",label:"Agent Management",icon:To},{id:"import",label:"Import/Export",icon:Po},{id:"agent-import",label:"Import Agents",icon:Vh}]:[],...r?[{id:"admin",label:"Admin Panel",icon:rs}]:[]],p=[{title:"Total Calls",value:y.toLocaleString(),icon:Jt,color:"bg-blue-500"},{title:"Active Agents",value:h.toString(),icon:lt,color:"bg-green-500"},{title:"Total Sales",value:j.toString(),icon:Gt,color:"bg-orange-500"},{title:"Call Time",value:`${Math.round(w/60)}h`,icon:Qn,color:"bg-purple-500"}];return a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("header",{className:"bg-white shadow-sm border-b",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"flex justify-between items-center py-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Sales Management Dashboard"}),a.jsxs("p",{className:"text-sm text-gray-500",children:["Today: ",new Date().toLocaleDateString()]})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"text-sm text-gray-600",children:["Welcome, ",(t==null?void 0:t.full_name)||(t==null?void 0:t.email)]}),a.jsxs("div",{className:"text-sm text-gray-600",children:[c.filter(v=>v.is_active).length," Active Agents"]}),a.jsxs("button",{onClick:e,className:"flex items-center space-x-2 text-gray-600 hover:text-gray-900 transition-colors",children:[a.jsx(Jg,{className:"w-4 h-4"}),a.jsx("span",{children:"Sign Out"})]})]})]})})}),a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[a.jsx("div",{className:"flex space-x-1 bg-gray-100 p-1 rounded-lg mb-6",children:f.map(v=>a.jsxs("button",{onClick:()=>i(v.id),className:`flex items-center space-x-2 px-4 py-2 rounded-md font-medium transition-all ${s===v.id?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:[a.jsx(v.icon,{className:"w-4 h-4"}),a.jsx("span",{children:v.label})]},v.id))}),d&&a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-2"}),a.jsx("p",{className:"text-gray-600",children:"Loading dashboard data..."})]})}),m&&a.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-5 h-5 text-red-500",children:""}),a.jsxs("span",{className:"text-red-700",children:["Error: ",m]})]}),a.jsx("p",{className:"text-sm text-red-600 mt-2",children:"Please make sure you have connected to Supabase and run the database migrations."})]}),!d&&!m&&s==="overview"&&a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:p.map((v,_)=>a.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:v.title}),a.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:v.value})]}),a.jsx("div",{className:`${v.color} p-3 rounded-lg`,children:a.jsx(v.icon,{className:"w-6 h-6 text-white"})})]})},_))}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsx(ru,{campaigns:l,campaignTeams:o,agents:c,callData:u,date:g}),a.jsx(su,{callData:x})]})]}),!d&&!m&&s==="agents"&&a.jsx(oy,{campaigns:l,agents:c,campaignTeams:o,callData:u,date:g}),!d&&!m&&s==="campaigns"&&a.jsx(ru,{campaigns:l,campaignTeams:o,agents:c,callData:u,date:g,detailed:!0}),!d&&!m&&s==="campaign-dashboard"&&a.jsx(hy,{campaigns:l,campaignTeams:o,agents:c,callData:u,date:g}),!d&&!m&&s==="hourly"&&a.jsx(su,{campaigns:l,campaignTeams:o,agents:c,callData:u,detailed:!0}),!d&&!m&&s==="rotating"&&a.jsx(py,{campaigns:l,campaignTeams:o,agents:c,callData:u,date:g}),!d&&!m&&n&&s==="agent-management"&&a.jsx(fy,{}),!d&&!m&&n&&s==="import"&&a.jsx(cy,{}),!d&&!m&&n&&s==="agent-import"&&a.jsx(uy,{}),!d&&!m&&r&&s==="admin"&&a.jsx(ly,{})]})]})}function yy(){const{user:t,profile:e,loading:n}=jn();return n?a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-2"}),a.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}):!t||!e?a.jsx(iy,{}):e.is_approved?a.jsx(gy,{}):a.jsx(ay,{})}function vy(){return a.jsx(Ug,{children:a.jsx(yy,{})})}vh(document.getElementById("root")).render(a.jsx($.StrictMode,{children:a.jsx(vy,{})}));
