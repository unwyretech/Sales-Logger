(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var qe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Fh(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var eu={exports:{}},fi={},tu={exports:{}},H={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xr=Symbol.for("react.element"),Bh=Symbol.for("react.portal"),Hh=Symbol.for("react.fragment"),Vh=Symbol.for("react.strict_mode"),Wh=Symbol.for("react.profiler"),qh=Symbol.for("react.provider"),Kh=Symbol.for("react.context"),Jh=Symbol.for("react.forward_ref"),Gh=Symbol.for("react.suspense"),Qh=Symbol.for("react.memo"),Yh=Symbol.for("react.lazy"),ko=Symbol.iterator;function Xh(t){return t===null||typeof t!="object"?null:(t=ko&&t[ko]||t["@@iterator"],typeof t=="function"?t:null)}var nu={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ru=Object.assign,su={};function Zn(t,e,n){this.props=t,this.context=e,this.refs=su,this.updater=n||nu}Zn.prototype.isReactComponent={};Zn.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Zn.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function iu(){}iu.prototype=Zn.prototype;function _l(t,e,n){this.props=t,this.context=e,this.refs=su,this.updater=n||nu}var jl=_l.prototype=new iu;jl.constructor=_l;ru(jl,Zn.prototype);jl.isPureReactComponent=!0;var So=Array.isArray,au=Object.prototype.hasOwnProperty,bl={current:null},lu={key:!0,ref:!0,__self:!0,__source:!0};function ou(t,e,n){var r,s={},i=null,l=null;if(e!=null)for(r in e.ref!==void 0&&(l=e.ref),e.key!==void 0&&(i=""+e.key),e)au.call(e,r)&&!lu.hasOwnProperty(r)&&(s[r]=e[r]);var o=arguments.length-2;if(o===1)s.children=n;else if(1<o){for(var c=Array(o),u=0;u<o;u++)c[u]=arguments[u+2];s.children=c}if(t&&t.defaultProps)for(r in o=t.defaultProps,o)s[r]===void 0&&(s[r]=o[r]);return{$$typeof:Xr,type:t,key:i,ref:l,props:s,_owner:bl.current}}function Zh(t,e){return{$$typeof:Xr,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Nl(t){return typeof t=="object"&&t!==null&&t.$$typeof===Xr}function ef(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Co=/\/+/g;function Ii(t,e){return typeof t=="object"&&t!==null&&t.key!=null?ef(""+t.key):e.toString(36)}function Es(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var l=!1;if(t===null)l=!0;else switch(i){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case Xr:case Bh:l=!0}}if(l)return l=t,s=s(l),t=r===""?"."+Ii(l,0):r,So(s)?(n="",t!=null&&(n=t.replace(Co,"$&/")+"/"),Es(s,e,n,"",function(u){return u})):s!=null&&(Nl(s)&&(s=Zh(s,n+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(Co,"$&/")+"/")+t)),e.push(s)),1;if(l=0,r=r===""?".":r+":",So(t))for(var o=0;o<t.length;o++){i=t[o];var c=r+Ii(i,o);l+=Es(i,e,n,c,s)}else if(c=Xh(t),typeof c=="function")for(t=c.call(t),o=0;!(i=t.next()).done;)i=i.value,c=r+Ii(i,o++),l+=Es(i,e,n,c,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return l}function ls(t,e,n){if(t==null)return t;var r=[],s=0;return Es(t,r,"","",function(i){return e.call(n,i,s++)}),r}function tf(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ce={current:null},Ts={transition:null},nf={ReactCurrentDispatcher:Ce,ReactCurrentBatchConfig:Ts,ReactCurrentOwner:bl};function cu(){throw Error("act(...) is not supported in production builds of React.")}H.Children={map:ls,forEach:function(t,e,n){ls(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return ls(t,function(){e++}),e},toArray:function(t){return ls(t,function(e){return e})||[]},only:function(t){if(!Nl(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};H.Component=Zn;H.Fragment=Hh;H.Profiler=Wh;H.PureComponent=_l;H.StrictMode=Vh;H.Suspense=Gh;H.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nf;H.act=cu;H.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=ru({},t.props),s=t.key,i=t.ref,l=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,l=bl.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(c in e)au.call(e,c)&&!lu.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&o!==void 0?o[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){o=Array(c);for(var u=0;u<c;u++)o[u]=arguments[u+2];r.children=o}return{$$typeof:Xr,type:t.type,key:s,ref:i,props:r,_owner:l}};H.createContext=function(t){return t={$$typeof:Kh,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:qh,_context:t},t.Consumer=t};H.createElement=ou;H.createFactory=function(t){var e=ou.bind(null,t);return e.type=t,e};H.createRef=function(){return{current:null}};H.forwardRef=function(t){return{$$typeof:Jh,render:t}};H.isValidElement=Nl;H.lazy=function(t){return{$$typeof:Yh,_payload:{_status:-1,_result:t},_init:tf}};H.memo=function(t,e){return{$$typeof:Qh,type:t,compare:e===void 0?null:e}};H.startTransition=function(t){var e=Ts.transition;Ts.transition={};try{t()}finally{Ts.transition=e}};H.unstable_act=cu;H.useCallback=function(t,e){return Ce.current.useCallback(t,e)};H.useContext=function(t){return Ce.current.useContext(t)};H.useDebugValue=function(){};H.useDeferredValue=function(t){return Ce.current.useDeferredValue(t)};H.useEffect=function(t,e){return Ce.current.useEffect(t,e)};H.useId=function(){return Ce.current.useId()};H.useImperativeHandle=function(t,e,n){return Ce.current.useImperativeHandle(t,e,n)};H.useInsertionEffect=function(t,e){return Ce.current.useInsertionEffect(t,e)};H.useLayoutEffect=function(t,e){return Ce.current.useLayoutEffect(t,e)};H.useMemo=function(t,e){return Ce.current.useMemo(t,e)};H.useReducer=function(t,e,n){return Ce.current.useReducer(t,e,n)};H.useRef=function(t){return Ce.current.useRef(t)};H.useState=function(t){return Ce.current.useState(t)};H.useSyncExternalStore=function(t,e,n){return Ce.current.useSyncExternalStore(t,e,n)};H.useTransition=function(){return Ce.current.useTransition()};H.version="18.3.1";tu.exports=H;var I=tu.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rf=I,sf=Symbol.for("react.element"),af=Symbol.for("react.fragment"),lf=Object.prototype.hasOwnProperty,of=rf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,cf={key:!0,ref:!0,__self:!0,__source:!0};function uu(t,e,n){var r,s={},i=null,l=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(l=e.ref);for(r in e)lf.call(e,r)&&!cf.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:sf,type:t,key:i,ref:l,props:s,_owner:of.current}}fi.Fragment=af;fi.jsx=uu;fi.jsxs=uu;eu.exports=fi;var a=eu.exports,du={exports:{}},ze={},hu={exports:{}},fu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(A,D){var M=A.length;A.push(D);e:for(;0<M;){var Z=M-1>>>1,C=A[Z];if(0<s(C,D))A[Z]=D,A[M]=C,M=Z;else break e}}function n(A){return A.length===0?null:A[0]}function r(A){if(A.length===0)return null;var D=A[0],M=A.pop();if(M!==D){A[0]=M;e:for(var Z=0,C=A.length,$=C>>>1;Z<$;){var q=2*(Z+1)-1,be=A[q],ae=q+1,it=A[ae];if(0>s(be,M))ae<C&&0>s(it,be)?(A[Z]=it,A[ae]=M,Z=ae):(A[Z]=be,A[q]=M,Z=q);else if(ae<C&&0>s(it,M))A[Z]=it,A[ae]=M,Z=ae;else break e}}return D}function s(A,D){var M=A.sortIndex-D.sortIndex;return M!==0?M:A.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var l=Date,o=l.now();t.unstable_now=function(){return l.now()-o}}var c=[],u=[],d=1,p=null,g=3,x=!1,v=!1,_=!1,b=typeof setTimeout=="function"?setTimeout:null,h=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(A){for(var D=n(u);D!==null;){if(D.callback===null)r(u);else if(D.startTime<=A)r(u),D.sortIndex=D.expirationTime,e(c,D);else break;D=n(u)}}function y(A){if(_=!1,m(A),!v)if(n(c)!==null)v=!0,L(w);else{var D=n(u);D!==null&&X(y,D.startTime-A)}}function w(A,D){v=!1,_&&(_=!1,h(k),k=-1),x=!0;var M=g;try{for(m(D),p=n(c);p!==null&&(!(p.expirationTime>D)||A&&!E());){var Z=p.callback;if(typeof Z=="function"){p.callback=null,g=p.priorityLevel;var C=Z(p.expirationTime<=D);D=t.unstable_now(),typeof C=="function"?p.callback=C:p===n(c)&&r(c),m(D)}else r(c);p=n(c)}if(p!==null)var $=!0;else{var q=n(u);q!==null&&X(y,q.startTime-D),$=!1}return $}finally{p=null,g=M,x=!1}}var j=!1,S=null,k=-1,T=5,N=-1;function E(){return!(t.unstable_now()-N<T)}function O(){if(S!==null){var A=t.unstable_now();N=A;var D=!0;try{D=S(!0,A)}finally{D?W():(j=!1,S=null)}}else j=!1}var W;if(typeof f=="function")W=function(){f(O)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,J=U.port2;U.port1.onmessage=O,W=function(){J.postMessage(null)}}else W=function(){b(O,0)};function L(A){S=A,j||(j=!0,W())}function X(A,D){k=b(function(){A(t.unstable_now())},D)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(A){A.callback=null},t.unstable_continueExecution=function(){v||x||(v=!0,L(w))},t.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<A?Math.floor(1e3/A):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(A){switch(g){case 1:case 2:case 3:var D=3;break;default:D=g}var M=g;g=D;try{return A()}finally{g=M}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(A,D){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var M=g;g=A;try{return D()}finally{g=M}},t.unstable_scheduleCallback=function(A,D,M){var Z=t.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?Z+M:Z):M=Z,A){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=M+C,A={id:d++,callback:D,priorityLevel:A,startTime:M,expirationTime:C,sortIndex:-1},M>Z?(A.sortIndex=M,e(u,A),n(c)===null&&A===n(u)&&(_?(h(k),k=-1):_=!0,X(y,M-Z))):(A.sortIndex=C,e(c,A),v||x||(v=!0,L(w))),A},t.unstable_shouldYield=E,t.unstable_wrapCallback=function(A){var D=g;return function(){var M=g;g=D;try{return A.apply(this,arguments)}finally{g=M}}}})(fu);hu.exports=fu;var uf=hu.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var df=I,Me=uf;function P(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var mu=new Set,Rr={};function fn(t,e){Vn(t,e),Vn(t+"Capture",e)}function Vn(t,e){for(Rr[t]=e,t=0;t<e.length;t++)mu.add(e[t])}var xt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pa=Object.prototype.hasOwnProperty,hf=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Eo={},To={};function ff(t){return pa.call(To,t)?!0:pa.call(Eo,t)?!1:hf.test(t)?To[t]=!0:(Eo[t]=!0,!1)}function mf(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function pf(t,e,n,r){if(e===null||typeof e>"u"||mf(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ee(t,e,n,r,s,i,l){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=l}var ve={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ve[t]=new Ee(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ve[e]=new Ee(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ve[t]=new Ee(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ve[t]=new Ee(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ve[t]=new Ee(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ve[t]=new Ee(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ve[t]=new Ee(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ve[t]=new Ee(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ve[t]=new Ee(t,5,!1,t.toLowerCase(),null,!1,!1)});var kl=/[\-:]([a-z])/g;function Sl(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(kl,Sl);ve[e]=new Ee(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(kl,Sl);ve[e]=new Ee(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(kl,Sl);ve[e]=new Ee(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ve[t]=new Ee(t,1,!1,t.toLowerCase(),null,!1,!1)});ve.xlinkHref=new Ee("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ve[t]=new Ee(t,1,!1,t.toLowerCase(),null,!0,!0)});function Cl(t,e,n,r){var s=ve.hasOwnProperty(e)?ve[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(pf(e,n,s,r)&&(n=null),r||s===null?ff(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var bt=df.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,os=Symbol.for("react.element"),kn=Symbol.for("react.portal"),Sn=Symbol.for("react.fragment"),El=Symbol.for("react.strict_mode"),ga=Symbol.for("react.profiler"),pu=Symbol.for("react.provider"),gu=Symbol.for("react.context"),Tl=Symbol.for("react.forward_ref"),ya=Symbol.for("react.suspense"),va=Symbol.for("react.suspense_list"),Pl=Symbol.for("react.memo"),Ct=Symbol.for("react.lazy"),yu=Symbol.for("react.offscreen"),Po=Symbol.iterator;function ir(t){return t===null||typeof t!="object"?null:(t=Po&&t[Po]||t["@@iterator"],typeof t=="function"?t:null)}var ie=Object.assign,$i;function mr(t){if($i===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);$i=e&&e[1]||""}return`
`+$i+t}var Li=!1;function Di(t,e){if(!t||Li)return"";Li=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),l=s.length-1,o=i.length-1;1<=l&&0<=o&&s[l]!==i[o];)o--;for(;1<=l&&0<=o;l--,o--)if(s[l]!==i[o]){if(l!==1||o!==1)do if(l--,o--,0>o||s[l]!==i[o]){var c=`
`+s[l].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=l&&0<=o);break}}}finally{Li=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?mr(t):""}function gf(t){switch(t.tag){case 5:return mr(t.type);case 16:return mr("Lazy");case 13:return mr("Suspense");case 19:return mr("SuspenseList");case 0:case 2:case 15:return t=Di(t.type,!1),t;case 11:return t=Di(t.type.render,!1),t;case 1:return t=Di(t.type,!0),t;default:return""}}function xa(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Sn:return"Fragment";case kn:return"Portal";case ga:return"Profiler";case El:return"StrictMode";case ya:return"Suspense";case va:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case gu:return(t.displayName||"Context")+".Consumer";case pu:return(t._context.displayName||"Context")+".Provider";case Tl:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Pl:return e=t.displayName||null,e!==null?e:xa(t.type)||"Memo";case Ct:e=t._payload,t=t._init;try{return xa(t(e))}catch{}}return null}function yf(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return xa(e);case 8:return e===El?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Bt(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function vu(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function vf(t){var e=vu(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(l){r=""+l,i.call(this,l)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(l){r=""+l},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function cs(t){t._valueTracker||(t._valueTracker=vf(t))}function xu(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=vu(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function zs(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function wa(t,e){var n=e.checked;return ie({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Ao(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Bt(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function wu(t,e){e=e.checked,e!=null&&Cl(t,"checked",e,!1)}function _a(t,e){wu(t,e);var n=Bt(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?ja(t,e.type,n):e.hasOwnProperty("defaultValue")&&ja(t,e.type,Bt(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Oo(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function ja(t,e,n){(e!=="number"||zs(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var pr=Array.isArray;function Dn(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Bt(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function ba(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(P(91));return ie({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Ro(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(P(92));if(pr(n)){if(1<n.length)throw Error(P(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Bt(n)}}function _u(t,e){var n=Bt(e.value),r=Bt(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Io(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function ju(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Na(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?ju(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var us,bu=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(us=us||document.createElement("div"),us.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=us.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ir(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var wr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},xf=["Webkit","ms","Moz","O"];Object.keys(wr).forEach(function(t){xf.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),wr[e]=wr[t]})});function Nu(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||wr.hasOwnProperty(t)&&wr[t]?(""+e).trim():e+"px"}function ku(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Nu(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var wf=ie({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ka(t,e){if(e){if(wf[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(P(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(P(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(P(61))}if(e.style!=null&&typeof e.style!="object")throw Error(P(62))}}function Sa(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ca=null;function Al(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ea=null,Un=null,Mn=null;function $o(t){if(t=ts(t)){if(typeof Ea!="function")throw Error(P(280));var e=t.stateNode;e&&(e=vi(e),Ea(t.stateNode,t.type,e))}}function Su(t){Un?Mn?Mn.push(t):Mn=[t]:Un=t}function Cu(){if(Un){var t=Un,e=Mn;if(Mn=Un=null,$o(t),e)for(t=0;t<e.length;t++)$o(e[t])}}function Eu(t,e){return t(e)}function Tu(){}var Ui=!1;function Pu(t,e,n){if(Ui)return t(e,n);Ui=!0;try{return Eu(t,e,n)}finally{Ui=!1,(Un!==null||Mn!==null)&&(Tu(),Cu())}}function $r(t,e){var n=t.stateNode;if(n===null)return null;var r=vi(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(P(231,e,typeof n));return n}var Ta=!1;if(xt)try{var ar={};Object.defineProperty(ar,"passive",{get:function(){Ta=!0}}),window.addEventListener("test",ar,ar),window.removeEventListener("test",ar,ar)}catch{Ta=!1}function _f(t,e,n,r,s,i,l,o,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var _r=!1,Fs=null,Bs=!1,Pa=null,jf={onError:function(t){_r=!0,Fs=t}};function bf(t,e,n,r,s,i,l,o,c){_r=!1,Fs=null,_f.apply(jf,arguments)}function Nf(t,e,n,r,s,i,l,o,c){if(bf.apply(this,arguments),_r){if(_r){var u=Fs;_r=!1,Fs=null}else throw Error(P(198));Bs||(Bs=!0,Pa=u)}}function mn(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Au(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Lo(t){if(mn(t)!==t)throw Error(P(188))}function kf(t){var e=t.alternate;if(!e){if(e=mn(t),e===null)throw Error(P(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Lo(s),t;if(i===r)return Lo(s),e;i=i.sibling}throw Error(P(188))}if(n.return!==r.return)n=s,r=i;else{for(var l=!1,o=s.child;o;){if(o===n){l=!0,n=s,r=i;break}if(o===r){l=!0,r=s,n=i;break}o=o.sibling}if(!l){for(o=i.child;o;){if(o===n){l=!0,n=i,r=s;break}if(o===r){l=!0,r=i,n=s;break}o=o.sibling}if(!l)throw Error(P(189))}}if(n.alternate!==r)throw Error(P(190))}if(n.tag!==3)throw Error(P(188));return n.stateNode.current===n?t:e}function Ou(t){return t=kf(t),t!==null?Ru(t):null}function Ru(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Ru(t);if(e!==null)return e;t=t.sibling}return null}var Iu=Me.unstable_scheduleCallback,Do=Me.unstable_cancelCallback,Sf=Me.unstable_shouldYield,Cf=Me.unstable_requestPaint,oe=Me.unstable_now,Ef=Me.unstable_getCurrentPriorityLevel,Ol=Me.unstable_ImmediatePriority,$u=Me.unstable_UserBlockingPriority,Hs=Me.unstable_NormalPriority,Tf=Me.unstable_LowPriority,Lu=Me.unstable_IdlePriority,mi=null,ut=null;function Pf(t){if(ut&&typeof ut.onCommitFiberRoot=="function")try{ut.onCommitFiberRoot(mi,t,void 0,(t.current.flags&128)===128)}catch{}}var tt=Math.clz32?Math.clz32:Rf,Af=Math.log,Of=Math.LN2;function Rf(t){return t>>>=0,t===0?32:31-(Af(t)/Of|0)|0}var ds=64,hs=4194304;function gr(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Vs(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,l=n&268435455;if(l!==0){var o=l&~s;o!==0?r=gr(o):(i&=l,i!==0&&(r=gr(i)))}else l=n&~s,l!==0?r=gr(l):i!==0&&(r=gr(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-tt(e),s=1<<n,r|=t[n],e&=~s;return r}function If(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $f(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var l=31-tt(i),o=1<<l,c=s[l];c===-1?(!(o&n)||o&r)&&(s[l]=If(o,e)):c<=e&&(t.expiredLanes|=o),i&=~o}}function Aa(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Du(){var t=ds;return ds<<=1,!(ds&4194240)&&(ds=64),t}function Mi(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Zr(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-tt(e),t[e]=n}function Lf(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-tt(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Rl(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-tt(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var G=0;function Uu(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Mu,Il,zu,Fu,Bu,Oa=!1,fs=[],It=null,$t=null,Lt=null,Lr=new Map,Dr=new Map,Tt=[],Df="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Uo(t,e){switch(t){case"focusin":case"focusout":It=null;break;case"dragenter":case"dragleave":$t=null;break;case"mouseover":case"mouseout":Lt=null;break;case"pointerover":case"pointerout":Lr.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dr.delete(e.pointerId)}}function lr(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=ts(e),e!==null&&Il(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function Uf(t,e,n,r,s){switch(e){case"focusin":return It=lr(It,t,e,n,r,s),!0;case"dragenter":return $t=lr($t,t,e,n,r,s),!0;case"mouseover":return Lt=lr(Lt,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Lr.set(i,lr(Lr.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Dr.set(i,lr(Dr.get(i)||null,t,e,n,r,s)),!0}return!1}function Hu(t){var e=nn(t.target);if(e!==null){var n=mn(e);if(n!==null){if(e=n.tag,e===13){if(e=Au(n),e!==null){t.blockedOn=e,Bu(t.priority,function(){zu(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ps(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Ra(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Ca=r,n.target.dispatchEvent(r),Ca=null}else return e=ts(n),e!==null&&Il(e),t.blockedOn=n,!1;e.shift()}return!0}function Mo(t,e,n){Ps(t)&&n.delete(e)}function Mf(){Oa=!1,It!==null&&Ps(It)&&(It=null),$t!==null&&Ps($t)&&($t=null),Lt!==null&&Ps(Lt)&&(Lt=null),Lr.forEach(Mo),Dr.forEach(Mo)}function or(t,e){t.blockedOn===e&&(t.blockedOn=null,Oa||(Oa=!0,Me.unstable_scheduleCallback(Me.unstable_NormalPriority,Mf)))}function Ur(t){function e(s){return or(s,t)}if(0<fs.length){or(fs[0],t);for(var n=1;n<fs.length;n++){var r=fs[n];r.blockedOn===t&&(r.blockedOn=null)}}for(It!==null&&or(It,t),$t!==null&&or($t,t),Lt!==null&&or(Lt,t),Lr.forEach(e),Dr.forEach(e),n=0;n<Tt.length;n++)r=Tt[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Tt.length&&(n=Tt[0],n.blockedOn===null);)Hu(n),n.blockedOn===null&&Tt.shift()}var zn=bt.ReactCurrentBatchConfig,Ws=!0;function zf(t,e,n,r){var s=G,i=zn.transition;zn.transition=null;try{G=1,$l(t,e,n,r)}finally{G=s,zn.transition=i}}function Ff(t,e,n,r){var s=G,i=zn.transition;zn.transition=null;try{G=4,$l(t,e,n,r)}finally{G=s,zn.transition=i}}function $l(t,e,n,r){if(Ws){var s=Ra(t,e,n,r);if(s===null)Gi(t,e,r,qs,n),Uo(t,r);else if(Uf(s,t,e,n,r))r.stopPropagation();else if(Uo(t,r),e&4&&-1<Df.indexOf(t)){for(;s!==null;){var i=ts(s);if(i!==null&&Mu(i),i=Ra(t,e,n,r),i===null&&Gi(t,e,r,qs,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Gi(t,e,r,null,n)}}var qs=null;function Ra(t,e,n,r){if(qs=null,t=Al(r),t=nn(t),t!==null)if(e=mn(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Au(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return qs=t,null}function Vu(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ef()){case Ol:return 1;case $u:return 4;case Hs:case Tf:return 16;case Lu:return 536870912;default:return 16}default:return 16}}var Ot=null,Ll=null,As=null;function Wu(){if(As)return As;var t,e=Ll,n=e.length,r,s="value"in Ot?Ot.value:Ot.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var l=n-t;for(r=1;r<=l&&e[n-r]===s[i-r];r++);return As=s.slice(t,1<r?1-r:void 0)}function Os(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ms(){return!0}function zo(){return!1}function Fe(t){function e(n,r,s,i,l){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=l,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ms:zo,this.isPropagationStopped=zo,this}return ie(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ms)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ms)},persist:function(){},isPersistent:ms}),e}var er={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Dl=Fe(er),es=ie({},er,{view:0,detail:0}),Bf=Fe(es),zi,Fi,cr,pi=ie({},es,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ul,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==cr&&(cr&&t.type==="mousemove"?(zi=t.screenX-cr.screenX,Fi=t.screenY-cr.screenY):Fi=zi=0,cr=t),zi)},movementY:function(t){return"movementY"in t?t.movementY:Fi}}),Fo=Fe(pi),Hf=ie({},pi,{dataTransfer:0}),Vf=Fe(Hf),Wf=ie({},es,{relatedTarget:0}),Bi=Fe(Wf),qf=ie({},er,{animationName:0,elapsedTime:0,pseudoElement:0}),Kf=Fe(qf),Jf=ie({},er,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Gf=Fe(Jf),Qf=ie({},er,{data:0}),Bo=Fe(Qf),Yf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Xf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Zf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function em(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Zf[t])?!!e[t]:!1}function Ul(){return em}var tm=ie({},es,{key:function(t){if(t.key){var e=Yf[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Os(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Xf[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ul,charCode:function(t){return t.type==="keypress"?Os(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Os(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),nm=Fe(tm),rm=ie({},pi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ho=Fe(rm),sm=ie({},es,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ul}),im=Fe(sm),am=ie({},er,{propertyName:0,elapsedTime:0,pseudoElement:0}),lm=Fe(am),om=ie({},pi,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),cm=Fe(om),um=[9,13,27,32],Ml=xt&&"CompositionEvent"in window,jr=null;xt&&"documentMode"in document&&(jr=document.documentMode);var dm=xt&&"TextEvent"in window&&!jr,qu=xt&&(!Ml||jr&&8<jr&&11>=jr),Vo=" ",Wo=!1;function Ku(t,e){switch(t){case"keyup":return um.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ju(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Cn=!1;function hm(t,e){switch(t){case"compositionend":return Ju(e);case"keypress":return e.which!==32?null:(Wo=!0,Vo);case"textInput":return t=e.data,t===Vo&&Wo?null:t;default:return null}}function fm(t,e){if(Cn)return t==="compositionend"||!Ml&&Ku(t,e)?(t=Wu(),As=Ll=Ot=null,Cn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return qu&&e.locale!=="ko"?null:e.data;default:return null}}var mm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qo(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!mm[t.type]:e==="textarea"}function Gu(t,e,n,r){Su(r),e=Ks(e,"onChange"),0<e.length&&(n=new Dl("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var br=null,Mr=null;function pm(t){ad(t,0)}function gi(t){var e=Pn(t);if(xu(e))return t}function gm(t,e){if(t==="change")return e}var Qu=!1;if(xt){var Hi;if(xt){var Vi="oninput"in document;if(!Vi){var Ko=document.createElement("div");Ko.setAttribute("oninput","return;"),Vi=typeof Ko.oninput=="function"}Hi=Vi}else Hi=!1;Qu=Hi&&(!document.documentMode||9<document.documentMode)}function Jo(){br&&(br.detachEvent("onpropertychange",Yu),Mr=br=null)}function Yu(t){if(t.propertyName==="value"&&gi(Mr)){var e=[];Gu(e,Mr,t,Al(t)),Pu(pm,e)}}function ym(t,e,n){t==="focusin"?(Jo(),br=e,Mr=n,br.attachEvent("onpropertychange",Yu)):t==="focusout"&&Jo()}function vm(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return gi(Mr)}function xm(t,e){if(t==="click")return gi(e)}function wm(t,e){if(t==="input"||t==="change")return gi(e)}function _m(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var st=typeof Object.is=="function"?Object.is:_m;function zr(t,e){if(st(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!pa.call(e,s)||!st(t[s],e[s]))return!1}return!0}function Go(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Qo(t,e){var n=Go(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Go(n)}}function Xu(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Xu(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Zu(){for(var t=window,e=zs();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=zs(t.document)}return e}function zl(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function jm(t){var e=Zu(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Xu(n.ownerDocument.documentElement,n)){if(r!==null&&zl(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=Qo(n,i);var l=Qo(n,r);s&&l&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==l.node||t.focusOffset!==l.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(l.node,l.offset)):(e.setEnd(l.node,l.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var bm=xt&&"documentMode"in document&&11>=document.documentMode,En=null,Ia=null,Nr=null,$a=!1;function Yo(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;$a||En==null||En!==zs(r)||(r=En,"selectionStart"in r&&zl(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Nr&&zr(Nr,r)||(Nr=r,r=Ks(Ia,"onSelect"),0<r.length&&(e=new Dl("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=En)))}function ps(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Tn={animationend:ps("Animation","AnimationEnd"),animationiteration:ps("Animation","AnimationIteration"),animationstart:ps("Animation","AnimationStart"),transitionend:ps("Transition","TransitionEnd")},Wi={},ed={};xt&&(ed=document.createElement("div").style,"AnimationEvent"in window||(delete Tn.animationend.animation,delete Tn.animationiteration.animation,delete Tn.animationstart.animation),"TransitionEvent"in window||delete Tn.transitionend.transition);function yi(t){if(Wi[t])return Wi[t];if(!Tn[t])return t;var e=Tn[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in ed)return Wi[t]=e[n];return t}var td=yi("animationend"),nd=yi("animationiteration"),rd=yi("animationstart"),sd=yi("transitionend"),id=new Map,Xo="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function qt(t,e){id.set(t,e),fn(e,[t])}for(var qi=0;qi<Xo.length;qi++){var Ki=Xo[qi],Nm=Ki.toLowerCase(),km=Ki[0].toUpperCase()+Ki.slice(1);qt(Nm,"on"+km)}qt(td,"onAnimationEnd");qt(nd,"onAnimationIteration");qt(rd,"onAnimationStart");qt("dblclick","onDoubleClick");qt("focusin","onFocus");qt("focusout","onBlur");qt(sd,"onTransitionEnd");Vn("onMouseEnter",["mouseout","mouseover"]);Vn("onMouseLeave",["mouseout","mouseover"]);Vn("onPointerEnter",["pointerout","pointerover"]);Vn("onPointerLeave",["pointerout","pointerover"]);fn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fn("onBeforeInput",["compositionend","keypress","textInput","paste"]);fn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Sm=new Set("cancel close invalid load scroll toggle".split(" ").concat(yr));function Zo(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Nf(r,e,void 0,t),t.currentTarget=null}function ad(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var l=r.length-1;0<=l;l--){var o=r[l],c=o.instance,u=o.currentTarget;if(o=o.listener,c!==i&&s.isPropagationStopped())break e;Zo(s,o,u),i=c}else for(l=0;l<r.length;l++){if(o=r[l],c=o.instance,u=o.currentTarget,o=o.listener,c!==i&&s.isPropagationStopped())break e;Zo(s,o,u),i=c}}}if(Bs)throw t=Pa,Bs=!1,Pa=null,t}function ee(t,e){var n=e[za];n===void 0&&(n=e[za]=new Set);var r=t+"__bubble";n.has(r)||(ld(e,t,2,!1),n.add(r))}function Ji(t,e,n){var r=0;e&&(r|=4),ld(n,t,r,e)}var gs="_reactListening"+Math.random().toString(36).slice(2);function Fr(t){if(!t[gs]){t[gs]=!0,mu.forEach(function(n){n!=="selectionchange"&&(Sm.has(n)||Ji(n,!1,t),Ji(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[gs]||(e[gs]=!0,Ji("selectionchange",!1,e))}}function ld(t,e,n,r){switch(Vu(e)){case 1:var s=zf;break;case 4:s=Ff;break;default:s=$l}n=s.bind(null,e,n,t),s=void 0,!Ta||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Gi(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var l=r.tag;if(l===3||l===4){var o=r.stateNode.containerInfo;if(o===s||o.nodeType===8&&o.parentNode===s)break;if(l===4)for(l=r.return;l!==null;){var c=l.tag;if((c===3||c===4)&&(c=l.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;l=l.return}for(;o!==null;){if(l=nn(o),l===null)return;if(c=l.tag,c===5||c===6){r=i=l;continue e}o=o.parentNode}}r=r.return}Pu(function(){var u=i,d=Al(n),p=[];e:{var g=id.get(t);if(g!==void 0){var x=Dl,v=t;switch(t){case"keypress":if(Os(n)===0)break e;case"keydown":case"keyup":x=nm;break;case"focusin":v="focus",x=Bi;break;case"focusout":v="blur",x=Bi;break;case"beforeblur":case"afterblur":x=Bi;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=Fo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=Vf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=im;break;case td:case nd:case rd:x=Kf;break;case sd:x=lm;break;case"scroll":x=Bf;break;case"wheel":x=cm;break;case"copy":case"cut":case"paste":x=Gf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=Ho}var _=(e&4)!==0,b=!_&&t==="scroll",h=_?g!==null?g+"Capture":null:g;_=[];for(var f=u,m;f!==null;){m=f;var y=m.stateNode;if(m.tag===5&&y!==null&&(m=y,h!==null&&(y=$r(f,h),y!=null&&_.push(Br(f,y,m)))),b)break;f=f.return}0<_.length&&(g=new x(g,v,null,n,d),p.push({event:g,listeners:_}))}}if(!(e&7)){e:{if(g=t==="mouseover"||t==="pointerover",x=t==="mouseout"||t==="pointerout",g&&n!==Ca&&(v=n.relatedTarget||n.fromElement)&&(nn(v)||v[wt]))break e;if((x||g)&&(g=d.window===d?d:(g=d.ownerDocument)?g.defaultView||g.parentWindow:window,x?(v=n.relatedTarget||n.toElement,x=u,v=v?nn(v):null,v!==null&&(b=mn(v),v!==b||v.tag!==5&&v.tag!==6)&&(v=null)):(x=null,v=u),x!==v)){if(_=Fo,y="onMouseLeave",h="onMouseEnter",f="mouse",(t==="pointerout"||t==="pointerover")&&(_=Ho,y="onPointerLeave",h="onPointerEnter",f="pointer"),b=x==null?g:Pn(x),m=v==null?g:Pn(v),g=new _(y,f+"leave",x,n,d),g.target=b,g.relatedTarget=m,y=null,nn(d)===u&&(_=new _(h,f+"enter",v,n,d),_.target=m,_.relatedTarget=b,y=_),b=y,x&&v)t:{for(_=x,h=v,f=0,m=_;m;m=yn(m))f++;for(m=0,y=h;y;y=yn(y))m++;for(;0<f-m;)_=yn(_),f--;for(;0<m-f;)h=yn(h),m--;for(;f--;){if(_===h||h!==null&&_===h.alternate)break t;_=yn(_),h=yn(h)}_=null}else _=null;x!==null&&ec(p,g,x,_,!1),v!==null&&b!==null&&ec(p,b,v,_,!0)}}e:{if(g=u?Pn(u):window,x=g.nodeName&&g.nodeName.toLowerCase(),x==="select"||x==="input"&&g.type==="file")var w=gm;else if(qo(g))if(Qu)w=wm;else{w=vm;var j=ym}else(x=g.nodeName)&&x.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(w=xm);if(w&&(w=w(t,u))){Gu(p,w,n,d);break e}j&&j(t,g,u),t==="focusout"&&(j=g._wrapperState)&&j.controlled&&g.type==="number"&&ja(g,"number",g.value)}switch(j=u?Pn(u):window,t){case"focusin":(qo(j)||j.contentEditable==="true")&&(En=j,Ia=u,Nr=null);break;case"focusout":Nr=Ia=En=null;break;case"mousedown":$a=!0;break;case"contextmenu":case"mouseup":case"dragend":$a=!1,Yo(p,n,d);break;case"selectionchange":if(bm)break;case"keydown":case"keyup":Yo(p,n,d)}var S;if(Ml)e:{switch(t){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Cn?Ku(t,n)&&(k="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&(qu&&n.locale!=="ko"&&(Cn||k!=="onCompositionStart"?k==="onCompositionEnd"&&Cn&&(S=Wu()):(Ot=d,Ll="value"in Ot?Ot.value:Ot.textContent,Cn=!0)),j=Ks(u,k),0<j.length&&(k=new Bo(k,t,null,n,d),p.push({event:k,listeners:j}),S?k.data=S:(S=Ju(n),S!==null&&(k.data=S)))),(S=dm?hm(t,n):fm(t,n))&&(u=Ks(u,"onBeforeInput"),0<u.length&&(d=new Bo("onBeforeInput","beforeinput",null,n,d),p.push({event:d,listeners:u}),d.data=S))}ad(p,e)})}function Br(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ks(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=$r(t,n),i!=null&&r.unshift(Br(t,i,s)),i=$r(t,e),i!=null&&r.push(Br(t,i,s))),t=t.return}return r}function yn(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function ec(t,e,n,r,s){for(var i=e._reactName,l=[];n!==null&&n!==r;){var o=n,c=o.alternate,u=o.stateNode;if(c!==null&&c===r)break;o.tag===5&&u!==null&&(o=u,s?(c=$r(n,i),c!=null&&l.unshift(Br(n,c,o))):s||(c=$r(n,i),c!=null&&l.push(Br(n,c,o)))),n=n.return}l.length!==0&&t.push({event:e,listeners:l})}var Cm=/\r\n?/g,Em=/\u0000|\uFFFD/g;function tc(t){return(typeof t=="string"?t:""+t).replace(Cm,`
`).replace(Em,"")}function ys(t,e,n){if(e=tc(e),tc(t)!==e&&n)throw Error(P(425))}function Js(){}var La=null,Da=null;function Ua(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ma=typeof setTimeout=="function"?setTimeout:void 0,Tm=typeof clearTimeout=="function"?clearTimeout:void 0,nc=typeof Promise=="function"?Promise:void 0,Pm=typeof queueMicrotask=="function"?queueMicrotask:typeof nc<"u"?function(t){return nc.resolve(null).then(t).catch(Am)}:Ma;function Am(t){setTimeout(function(){throw t})}function Qi(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Ur(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Ur(e)}function Dt(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function rc(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var tr=Math.random().toString(36).slice(2),ct="__reactFiber$"+tr,Hr="__reactProps$"+tr,wt="__reactContainer$"+tr,za="__reactEvents$"+tr,Om="__reactListeners$"+tr,Rm="__reactHandles$"+tr;function nn(t){var e=t[ct];if(e)return e;for(var n=t.parentNode;n;){if(e=n[wt]||n[ct]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=rc(t);t!==null;){if(n=t[ct])return n;t=rc(t)}return e}t=n,n=t.parentNode}return null}function ts(t){return t=t[ct]||t[wt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Pn(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(P(33))}function vi(t){return t[Hr]||null}var Fa=[],An=-1;function Kt(t){return{current:t}}function te(t){0>An||(t.current=Fa[An],Fa[An]=null,An--)}function Y(t,e){An++,Fa[An]=t.current,t.current=e}var Ht={},je=Kt(Ht),Re=Kt(!1),on=Ht;function Wn(t,e){var n=t.type.contextTypes;if(!n)return Ht;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Ie(t){return t=t.childContextTypes,t!=null}function Gs(){te(Re),te(je)}function sc(t,e,n){if(je.current!==Ht)throw Error(P(168));Y(je,e),Y(Re,n)}function od(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(P(108,yf(t)||"Unknown",s));return ie({},n,r)}function Qs(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ht,on=je.current,Y(je,t),Y(Re,Re.current),!0}function ic(t,e,n){var r=t.stateNode;if(!r)throw Error(P(169));n?(t=od(t,e,on),r.__reactInternalMemoizedMergedChildContext=t,te(Re),te(je),Y(je,t)):te(Re),Y(Re,n)}var pt=null,xi=!1,Yi=!1;function cd(t){pt===null?pt=[t]:pt.push(t)}function Im(t){xi=!0,cd(t)}function Jt(){if(!Yi&&pt!==null){Yi=!0;var t=0,e=G;try{var n=pt;for(G=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}pt=null,xi=!1}catch(s){throw pt!==null&&(pt=pt.slice(t+1)),Iu(Ol,Jt),s}finally{G=e,Yi=!1}}return null}var On=[],Rn=0,Ys=null,Xs=0,Be=[],He=0,cn=null,gt=1,yt="";function Xt(t,e){On[Rn++]=Xs,On[Rn++]=Ys,Ys=t,Xs=e}function ud(t,e,n){Be[He++]=gt,Be[He++]=yt,Be[He++]=cn,cn=t;var r=gt;t=yt;var s=32-tt(r)-1;r&=~(1<<s),n+=1;var i=32-tt(e)+s;if(30<i){var l=s-s%5;i=(r&(1<<l)-1).toString(32),r>>=l,s-=l,gt=1<<32-tt(e)+s|n<<s|r,yt=i+t}else gt=1<<i|n<<s|r,yt=t}function Fl(t){t.return!==null&&(Xt(t,1),ud(t,1,0))}function Bl(t){for(;t===Ys;)Ys=On[--Rn],On[Rn]=null,Xs=On[--Rn],On[Rn]=null;for(;t===cn;)cn=Be[--He],Be[He]=null,yt=Be[--He],Be[He]=null,gt=Be[--He],Be[He]=null}var Ue=null,De=null,ne=!1,et=null;function dd(t,e){var n=Ve(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function ac(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ue=t,De=Dt(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ue=t,De=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=cn!==null?{id:gt,overflow:yt}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Ve(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Ue=t,De=null,!0):!1;default:return!1}}function Ba(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Ha(t){if(ne){var e=De;if(e){var n=e;if(!ac(t,e)){if(Ba(t))throw Error(P(418));e=Dt(n.nextSibling);var r=Ue;e&&ac(t,e)?dd(r,n):(t.flags=t.flags&-4097|2,ne=!1,Ue=t)}}else{if(Ba(t))throw Error(P(418));t.flags=t.flags&-4097|2,ne=!1,Ue=t}}}function lc(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ue=t}function vs(t){if(t!==Ue)return!1;if(!ne)return lc(t),ne=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Ua(t.type,t.memoizedProps)),e&&(e=De)){if(Ba(t))throw hd(),Error(P(418));for(;e;)dd(t,e),e=Dt(e.nextSibling)}if(lc(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(P(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){De=Dt(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}De=null}}else De=Ue?Dt(t.stateNode.nextSibling):null;return!0}function hd(){for(var t=De;t;)t=Dt(t.nextSibling)}function qn(){De=Ue=null,ne=!1}function Hl(t){et===null?et=[t]:et.push(t)}var $m=bt.ReactCurrentBatchConfig;function ur(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(P(309));var r=n.stateNode}if(!r)throw Error(P(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(l){var o=s.refs;l===null?delete o[i]:o[i]=l},e._stringRef=i,e)}if(typeof t!="string")throw Error(P(284));if(!n._owner)throw Error(P(290,t))}return t}function xs(t,e){throw t=Object.prototype.toString.call(e),Error(P(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function oc(t){var e=t._init;return e(t._payload)}function fd(t){function e(h,f){if(t){var m=h.deletions;m===null?(h.deletions=[f],h.flags|=16):m.push(f)}}function n(h,f){if(!t)return null;for(;f!==null;)e(h,f),f=f.sibling;return null}function r(h,f){for(h=new Map;f!==null;)f.key!==null?h.set(f.key,f):h.set(f.index,f),f=f.sibling;return h}function s(h,f){return h=Ft(h,f),h.index=0,h.sibling=null,h}function i(h,f,m){return h.index=m,t?(m=h.alternate,m!==null?(m=m.index,m<f?(h.flags|=2,f):m):(h.flags|=2,f)):(h.flags|=1048576,f)}function l(h){return t&&h.alternate===null&&(h.flags|=2),h}function o(h,f,m,y){return f===null||f.tag!==6?(f=sa(m,h.mode,y),f.return=h,f):(f=s(f,m),f.return=h,f)}function c(h,f,m,y){var w=m.type;return w===Sn?d(h,f,m.props.children,y,m.key):f!==null&&(f.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Ct&&oc(w)===f.type)?(y=s(f,m.props),y.ref=ur(h,f,m),y.return=h,y):(y=Ms(m.type,m.key,m.props,null,h.mode,y),y.ref=ur(h,f,m),y.return=h,y)}function u(h,f,m,y){return f===null||f.tag!==4||f.stateNode.containerInfo!==m.containerInfo||f.stateNode.implementation!==m.implementation?(f=ia(m,h.mode,y),f.return=h,f):(f=s(f,m.children||[]),f.return=h,f)}function d(h,f,m,y,w){return f===null||f.tag!==7?(f=ln(m,h.mode,y,w),f.return=h,f):(f=s(f,m),f.return=h,f)}function p(h,f,m){if(typeof f=="string"&&f!==""||typeof f=="number")return f=sa(""+f,h.mode,m),f.return=h,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case os:return m=Ms(f.type,f.key,f.props,null,h.mode,m),m.ref=ur(h,null,f),m.return=h,m;case kn:return f=ia(f,h.mode,m),f.return=h,f;case Ct:var y=f._init;return p(h,y(f._payload),m)}if(pr(f)||ir(f))return f=ln(f,h.mode,m,null),f.return=h,f;xs(h,f)}return null}function g(h,f,m,y){var w=f!==null?f.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return w!==null?null:o(h,f,""+m,y);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case os:return m.key===w?c(h,f,m,y):null;case kn:return m.key===w?u(h,f,m,y):null;case Ct:return w=m._init,g(h,f,w(m._payload),y)}if(pr(m)||ir(m))return w!==null?null:d(h,f,m,y,null);xs(h,m)}return null}function x(h,f,m,y,w){if(typeof y=="string"&&y!==""||typeof y=="number")return h=h.get(m)||null,o(f,h,""+y,w);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case os:return h=h.get(y.key===null?m:y.key)||null,c(f,h,y,w);case kn:return h=h.get(y.key===null?m:y.key)||null,u(f,h,y,w);case Ct:var j=y._init;return x(h,f,m,j(y._payload),w)}if(pr(y)||ir(y))return h=h.get(m)||null,d(f,h,y,w,null);xs(f,y)}return null}function v(h,f,m,y){for(var w=null,j=null,S=f,k=f=0,T=null;S!==null&&k<m.length;k++){S.index>k?(T=S,S=null):T=S.sibling;var N=g(h,S,m[k],y);if(N===null){S===null&&(S=T);break}t&&S&&N.alternate===null&&e(h,S),f=i(N,f,k),j===null?w=N:j.sibling=N,j=N,S=T}if(k===m.length)return n(h,S),ne&&Xt(h,k),w;if(S===null){for(;k<m.length;k++)S=p(h,m[k],y),S!==null&&(f=i(S,f,k),j===null?w=S:j.sibling=S,j=S);return ne&&Xt(h,k),w}for(S=r(h,S);k<m.length;k++)T=x(S,h,k,m[k],y),T!==null&&(t&&T.alternate!==null&&S.delete(T.key===null?k:T.key),f=i(T,f,k),j===null?w=T:j.sibling=T,j=T);return t&&S.forEach(function(E){return e(h,E)}),ne&&Xt(h,k),w}function _(h,f,m,y){var w=ir(m);if(typeof w!="function")throw Error(P(150));if(m=w.call(m),m==null)throw Error(P(151));for(var j=w=null,S=f,k=f=0,T=null,N=m.next();S!==null&&!N.done;k++,N=m.next()){S.index>k?(T=S,S=null):T=S.sibling;var E=g(h,S,N.value,y);if(E===null){S===null&&(S=T);break}t&&S&&E.alternate===null&&e(h,S),f=i(E,f,k),j===null?w=E:j.sibling=E,j=E,S=T}if(N.done)return n(h,S),ne&&Xt(h,k),w;if(S===null){for(;!N.done;k++,N=m.next())N=p(h,N.value,y),N!==null&&(f=i(N,f,k),j===null?w=N:j.sibling=N,j=N);return ne&&Xt(h,k),w}for(S=r(h,S);!N.done;k++,N=m.next())N=x(S,h,k,N.value,y),N!==null&&(t&&N.alternate!==null&&S.delete(N.key===null?k:N.key),f=i(N,f,k),j===null?w=N:j.sibling=N,j=N);return t&&S.forEach(function(O){return e(h,O)}),ne&&Xt(h,k),w}function b(h,f,m,y){if(typeof m=="object"&&m!==null&&m.type===Sn&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case os:e:{for(var w=m.key,j=f;j!==null;){if(j.key===w){if(w=m.type,w===Sn){if(j.tag===7){n(h,j.sibling),f=s(j,m.props.children),f.return=h,h=f;break e}}else if(j.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Ct&&oc(w)===j.type){n(h,j.sibling),f=s(j,m.props),f.ref=ur(h,j,m),f.return=h,h=f;break e}n(h,j);break}else e(h,j);j=j.sibling}m.type===Sn?(f=ln(m.props.children,h.mode,y,m.key),f.return=h,h=f):(y=Ms(m.type,m.key,m.props,null,h.mode,y),y.ref=ur(h,f,m),y.return=h,h=y)}return l(h);case kn:e:{for(j=m.key;f!==null;){if(f.key===j)if(f.tag===4&&f.stateNode.containerInfo===m.containerInfo&&f.stateNode.implementation===m.implementation){n(h,f.sibling),f=s(f,m.children||[]),f.return=h,h=f;break e}else{n(h,f);break}else e(h,f);f=f.sibling}f=ia(m,h.mode,y),f.return=h,h=f}return l(h);case Ct:return j=m._init,b(h,f,j(m._payload),y)}if(pr(m))return v(h,f,m,y);if(ir(m))return _(h,f,m,y);xs(h,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,f!==null&&f.tag===6?(n(h,f.sibling),f=s(f,m),f.return=h,h=f):(n(h,f),f=sa(m,h.mode,y),f.return=h,h=f),l(h)):n(h,f)}return b}var Kn=fd(!0),md=fd(!1),Zs=Kt(null),ei=null,In=null,Vl=null;function Wl(){Vl=In=ei=null}function ql(t){var e=Zs.current;te(Zs),t._currentValue=e}function Va(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Fn(t,e){ei=t,Vl=In=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ae=!0),t.firstContext=null)}function Ke(t){var e=t._currentValue;if(Vl!==t)if(t={context:t,memoizedValue:e,next:null},In===null){if(ei===null)throw Error(P(308));In=t,ei.dependencies={lanes:0,firstContext:t}}else In=In.next=t;return e}var rn=null;function Kl(t){rn===null?rn=[t]:rn.push(t)}function pd(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Kl(e)):(n.next=s.next,s.next=n),e.interleaved=n,_t(t,r)}function _t(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Et=!1;function Jl(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function gd(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function vt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ut(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,K&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,_t(t,n)}return s=r.interleaved,s===null?(e.next=e,Kl(r)):(e.next=s.next,s.next=e),r.interleaved=e,_t(t,n)}function Rs(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Rl(t,n)}}function cc(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=l:i=i.next=l,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function ti(t,e,n,r){var s=t.updateQueue;Et=!1;var i=s.firstBaseUpdate,l=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var c=o,u=c.next;c.next=null,l===null?i=u:l.next=u,l=c;var d=t.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==l&&(o===null?d.firstBaseUpdate=u:o.next=u,d.lastBaseUpdate=c))}if(i!==null){var p=s.baseState;l=0,d=u=c=null,o=i;do{var g=o.lane,x=o.eventTime;if((r&g)===g){d!==null&&(d=d.next={eventTime:x,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var v=t,_=o;switch(g=e,x=n,_.tag){case 1:if(v=_.payload,typeof v=="function"){p=v.call(x,p,g);break e}p=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=_.payload,g=typeof v=="function"?v.call(x,p,g):v,g==null)break e;p=ie({},p,g);break e;case 2:Et=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,g=s.effects,g===null?s.effects=[o]:g.push(o))}else x={eventTime:x,lane:g,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(u=d=x,c=p):d=d.next=x,l|=g;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;g=o,o=g.next,g.next=null,s.lastBaseUpdate=g,s.shared.pending=null}}while(!0);if(d===null&&(c=p),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do l|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);dn|=l,t.lanes=l,t.memoizedState=p}}function uc(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(P(191,s));s.call(r)}}}var ns={},dt=Kt(ns),Vr=Kt(ns),Wr=Kt(ns);function sn(t){if(t===ns)throw Error(P(174));return t}function Gl(t,e){switch(Y(Wr,e),Y(Vr,t),Y(dt,ns),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Na(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Na(e,t)}te(dt),Y(dt,e)}function Jn(){te(dt),te(Vr),te(Wr)}function yd(t){sn(Wr.current);var e=sn(dt.current),n=Na(e,t.type);e!==n&&(Y(Vr,t),Y(dt,n))}function Ql(t){Vr.current===t&&(te(dt),te(Vr))}var re=Kt(0);function ni(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Xi=[];function Yl(){for(var t=0;t<Xi.length;t++)Xi[t]._workInProgressVersionPrimary=null;Xi.length=0}var Is=bt.ReactCurrentDispatcher,Zi=bt.ReactCurrentBatchConfig,un=0,se=null,he=null,me=null,ri=!1,kr=!1,qr=0,Lm=0;function xe(){throw Error(P(321))}function Xl(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!st(t[n],e[n]))return!1;return!0}function Zl(t,e,n,r,s,i){if(un=i,se=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Is.current=t===null||t.memoizedState===null?zm:Fm,t=n(r,s),kr){i=0;do{if(kr=!1,qr=0,25<=i)throw Error(P(301));i+=1,me=he=null,e.updateQueue=null,Is.current=Bm,t=n(r,s)}while(kr)}if(Is.current=si,e=he!==null&&he.next!==null,un=0,me=he=se=null,ri=!1,e)throw Error(P(300));return t}function eo(){var t=qr!==0;return qr=0,t}function lt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return me===null?se.memoizedState=me=t:me=me.next=t,me}function Je(){if(he===null){var t=se.alternate;t=t!==null?t.memoizedState:null}else t=he.next;var e=me===null?se.memoizedState:me.next;if(e!==null)me=e,he=t;else{if(t===null)throw Error(P(310));he=t,t={memoizedState:he.memoizedState,baseState:he.baseState,baseQueue:he.baseQueue,queue:he.queue,next:null},me===null?se.memoizedState=me=t:me=me.next=t}return me}function Kr(t,e){return typeof e=="function"?e(t):e}function ea(t){var e=Je(),n=e.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=t;var r=he,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var l=s.next;s.next=i.next,i.next=l}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var o=l=null,c=null,u=i;do{var d=u.lane;if((un&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var p={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(o=c=p,l=r):c=c.next=p,se.lanes|=d,dn|=d}u=u.next}while(u!==null&&u!==i);c===null?l=r:c.next=o,st(r,e.memoizedState)||(Ae=!0),e.memoizedState=r,e.baseState=l,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,se.lanes|=i,dn|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function ta(t){var e=Je(),n=e.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var l=s=s.next;do i=t(i,l.action),l=l.next;while(l!==s);st(i,e.memoizedState)||(Ae=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function vd(){}function xd(t,e){var n=se,r=Je(),s=e(),i=!st(r.memoizedState,s);if(i&&(r.memoizedState=s,Ae=!0),r=r.queue,to(jd.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||me!==null&&me.memoizedState.tag&1){if(n.flags|=2048,Jr(9,_d.bind(null,n,r,s,e),void 0,null),pe===null)throw Error(P(349));un&30||wd(n,e,s)}return s}function wd(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=se.updateQueue,e===null?(e={lastEffect:null,stores:null},se.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function _d(t,e,n,r){e.value=n,e.getSnapshot=r,bd(e)&&Nd(t)}function jd(t,e,n){return n(function(){bd(e)&&Nd(t)})}function bd(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!st(t,n)}catch{return!0}}function Nd(t){var e=_t(t,1);e!==null&&nt(e,t,1,-1)}function dc(t){var e=lt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Kr,lastRenderedState:t},e.queue=t,t=t.dispatch=Mm.bind(null,se,t),[e.memoizedState,t]}function Jr(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=se.updateQueue,e===null?(e={lastEffect:null,stores:null},se.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function kd(){return Je().memoizedState}function $s(t,e,n,r){var s=lt();se.flags|=t,s.memoizedState=Jr(1|e,n,void 0,r===void 0?null:r)}function wi(t,e,n,r){var s=Je();r=r===void 0?null:r;var i=void 0;if(he!==null){var l=he.memoizedState;if(i=l.destroy,r!==null&&Xl(r,l.deps)){s.memoizedState=Jr(e,n,i,r);return}}se.flags|=t,s.memoizedState=Jr(1|e,n,i,r)}function hc(t,e){return $s(8390656,8,t,e)}function to(t,e){return wi(2048,8,t,e)}function Sd(t,e){return wi(4,2,t,e)}function Cd(t,e){return wi(4,4,t,e)}function Ed(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Td(t,e,n){return n=n!=null?n.concat([t]):null,wi(4,4,Ed.bind(null,e,t),n)}function no(){}function Pd(t,e){var n=Je();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Xl(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Ad(t,e){var n=Je();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Xl(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Od(t,e,n){return un&21?(st(n,e)||(n=Du(),se.lanes|=n,dn|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ae=!0),t.memoizedState=n)}function Dm(t,e){var n=G;G=n!==0&&4>n?n:4,t(!0);var r=Zi.transition;Zi.transition={};try{t(!1),e()}finally{G=n,Zi.transition=r}}function Rd(){return Je().memoizedState}function Um(t,e,n){var r=zt(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Id(t))$d(e,n);else if(n=pd(t,e,n,r),n!==null){var s=Se();nt(n,t,r,s),Ld(n,e,r)}}function Mm(t,e,n){var r=zt(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Id(t))$d(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var l=e.lastRenderedState,o=i(l,n);if(s.hasEagerState=!0,s.eagerState=o,st(o,l)){var c=e.interleaved;c===null?(s.next=s,Kl(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}n=pd(t,e,s,r),n!==null&&(s=Se(),nt(n,t,r,s),Ld(n,e,r))}}function Id(t){var e=t.alternate;return t===se||e!==null&&e===se}function $d(t,e){kr=ri=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Ld(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Rl(t,n)}}var si={readContext:Ke,useCallback:xe,useContext:xe,useEffect:xe,useImperativeHandle:xe,useInsertionEffect:xe,useLayoutEffect:xe,useMemo:xe,useReducer:xe,useRef:xe,useState:xe,useDebugValue:xe,useDeferredValue:xe,useTransition:xe,useMutableSource:xe,useSyncExternalStore:xe,useId:xe,unstable_isNewReconciler:!1},zm={readContext:Ke,useCallback:function(t,e){return lt().memoizedState=[t,e===void 0?null:e],t},useContext:Ke,useEffect:hc,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,$s(4194308,4,Ed.bind(null,e,t),n)},useLayoutEffect:function(t,e){return $s(4194308,4,t,e)},useInsertionEffect:function(t,e){return $s(4,2,t,e)},useMemo:function(t,e){var n=lt();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=lt();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Um.bind(null,se,t),[r.memoizedState,t]},useRef:function(t){var e=lt();return t={current:t},e.memoizedState=t},useState:dc,useDebugValue:no,useDeferredValue:function(t){return lt().memoizedState=t},useTransition:function(){var t=dc(!1),e=t[0];return t=Dm.bind(null,t[1]),lt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=se,s=lt();if(ne){if(n===void 0)throw Error(P(407));n=n()}else{if(n=e(),pe===null)throw Error(P(349));un&30||wd(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,hc(jd.bind(null,r,i,t),[t]),r.flags|=2048,Jr(9,_d.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=lt(),e=pe.identifierPrefix;if(ne){var n=yt,r=gt;n=(r&~(1<<32-tt(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=qr++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Lm++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Fm={readContext:Ke,useCallback:Pd,useContext:Ke,useEffect:to,useImperativeHandle:Td,useInsertionEffect:Sd,useLayoutEffect:Cd,useMemo:Ad,useReducer:ea,useRef:kd,useState:function(){return ea(Kr)},useDebugValue:no,useDeferredValue:function(t){var e=Je();return Od(e,he.memoizedState,t)},useTransition:function(){var t=ea(Kr)[0],e=Je().memoizedState;return[t,e]},useMutableSource:vd,useSyncExternalStore:xd,useId:Rd,unstable_isNewReconciler:!1},Bm={readContext:Ke,useCallback:Pd,useContext:Ke,useEffect:to,useImperativeHandle:Td,useInsertionEffect:Sd,useLayoutEffect:Cd,useMemo:Ad,useReducer:ta,useRef:kd,useState:function(){return ta(Kr)},useDebugValue:no,useDeferredValue:function(t){var e=Je();return he===null?e.memoizedState=t:Od(e,he.memoizedState,t)},useTransition:function(){var t=ta(Kr)[0],e=Je().memoizedState;return[t,e]},useMutableSource:vd,useSyncExternalStore:xd,useId:Rd,unstable_isNewReconciler:!1};function Ye(t,e){if(t&&t.defaultProps){e=ie({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Wa(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ie({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var _i={isMounted:function(t){return(t=t._reactInternals)?mn(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Se(),s=zt(t),i=vt(r,s);i.payload=e,n!=null&&(i.callback=n),e=Ut(t,i,s),e!==null&&(nt(e,t,s,r),Rs(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Se(),s=zt(t),i=vt(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Ut(t,i,s),e!==null&&(nt(e,t,s,r),Rs(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Se(),r=zt(t),s=vt(n,r);s.tag=2,e!=null&&(s.callback=e),e=Ut(t,s,r),e!==null&&(nt(e,t,r,n),Rs(e,t,r))}};function fc(t,e,n,r,s,i,l){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,l):e.prototype&&e.prototype.isPureReactComponent?!zr(n,r)||!zr(s,i):!0}function Dd(t,e,n){var r=!1,s=Ht,i=e.contextType;return typeof i=="object"&&i!==null?i=Ke(i):(s=Ie(e)?on:je.current,r=e.contextTypes,i=(r=r!=null)?Wn(t,s):Ht),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=_i,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function mc(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&_i.enqueueReplaceState(e,e.state,null)}function qa(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Jl(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Ke(i):(i=Ie(e)?on:je.current,s.context=Wn(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Wa(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&_i.enqueueReplaceState(s,s.state,null),ti(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Gn(t,e){try{var n="",r=e;do n+=gf(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function na(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Ka(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Hm=typeof WeakMap=="function"?WeakMap:Map;function Ud(t,e,n){n=vt(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){ai||(ai=!0,rl=r),Ka(t,e)},n}function Md(t,e,n){n=vt(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Ka(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Ka(t,e),typeof r!="function"&&(Mt===null?Mt=new Set([this]):Mt.add(this));var l=e.stack;this.componentDidCatch(e.value,{componentStack:l!==null?l:""})}),n}function pc(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Hm;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=rp.bind(null,t,e,n),e.then(t,t))}function gc(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function yc(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=vt(-1,1),e.tag=2,Ut(n,e,1))),n.lanes|=1),t)}var Vm=bt.ReactCurrentOwner,Ae=!1;function ke(t,e,n,r){e.child=t===null?md(e,null,n,r):Kn(e,t.child,n,r)}function vc(t,e,n,r,s){n=n.render;var i=e.ref;return Fn(e,s),r=Zl(t,e,n,r,i,s),n=eo(),t!==null&&!Ae?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,jt(t,e,s)):(ne&&n&&Fl(e),e.flags|=1,ke(t,e,r,s),e.child)}function xc(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!uo(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,zd(t,e,i,r,s)):(t=Ms(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var l=i.memoizedProps;if(n=n.compare,n=n!==null?n:zr,n(l,r)&&t.ref===e.ref)return jt(t,e,s)}return e.flags|=1,t=Ft(i,r),t.ref=e.ref,t.return=e,e.child=t}function zd(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(zr(i,r)&&t.ref===e.ref)if(Ae=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Ae=!0);else return e.lanes=t.lanes,jt(t,e,s)}return Ja(t,e,n,r,s)}function Fd(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Y(Ln,Le),Le|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Y(Ln,Le),Le|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Y(Ln,Le),Le|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Y(Ln,Le),Le|=r;return ke(t,e,s,n),e.child}function Bd(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Ja(t,e,n,r,s){var i=Ie(n)?on:je.current;return i=Wn(e,i),Fn(e,s),n=Zl(t,e,n,r,i,s),r=eo(),t!==null&&!Ae?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,jt(t,e,s)):(ne&&r&&Fl(e),e.flags|=1,ke(t,e,n,s),e.child)}function wc(t,e,n,r,s){if(Ie(n)){var i=!0;Qs(e)}else i=!1;if(Fn(e,s),e.stateNode===null)Ls(t,e),Dd(e,n,r),qa(e,n,r,s),r=!0;else if(t===null){var l=e.stateNode,o=e.memoizedProps;l.props=o;var c=l.context,u=n.contextType;typeof u=="object"&&u!==null?u=Ke(u):(u=Ie(n)?on:je.current,u=Wn(e,u));var d=n.getDerivedStateFromProps,p=typeof d=="function"||typeof l.getSnapshotBeforeUpdate=="function";p||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==r||c!==u)&&mc(e,l,r,u),Et=!1;var g=e.memoizedState;l.state=g,ti(e,r,l,s),c=e.memoizedState,o!==r||g!==c||Re.current||Et?(typeof d=="function"&&(Wa(e,n,d,r),c=e.memoizedState),(o=Et||fc(e,n,o,r,g,c,u))?(p||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(e.flags|=4194308)):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),l.props=r,l.state=c,l.context=u,r=o):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{l=e.stateNode,gd(t,e),o=e.memoizedProps,u=e.type===e.elementType?o:Ye(e.type,o),l.props=u,p=e.pendingProps,g=l.context,c=n.contextType,typeof c=="object"&&c!==null?c=Ke(c):(c=Ie(n)?on:je.current,c=Wn(e,c));var x=n.getDerivedStateFromProps;(d=typeof x=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==p||g!==c)&&mc(e,l,r,c),Et=!1,g=e.memoizedState,l.state=g,ti(e,r,l,s);var v=e.memoizedState;o!==p||g!==v||Re.current||Et?(typeof x=="function"&&(Wa(e,n,x,r),v=e.memoizedState),(u=Et||fc(e,n,u,r,g,v,c)||!1)?(d||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(r,v,c),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(r,v,c)),typeof l.componentDidUpdate=="function"&&(e.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof l.componentDidUpdate!="function"||o===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),l.props=r,l.state=v,l.context=c,r=u):(typeof l.componentDidUpdate!="function"||o===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),r=!1)}return Ga(t,e,n,r,i,s)}function Ga(t,e,n,r,s,i){Bd(t,e);var l=(e.flags&128)!==0;if(!r&&!l)return s&&ic(e,n,!1),jt(t,e,i);r=e.stateNode,Vm.current=e;var o=l&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&l?(e.child=Kn(e,t.child,null,i),e.child=Kn(e,null,o,i)):ke(t,e,o,i),e.memoizedState=r.state,s&&ic(e,n,!0),e.child}function Hd(t){var e=t.stateNode;e.pendingContext?sc(t,e.pendingContext,e.pendingContext!==e.context):e.context&&sc(t,e.context,!1),Gl(t,e.containerInfo)}function _c(t,e,n,r,s){return qn(),Hl(s),e.flags|=256,ke(t,e,n,r),e.child}var Qa={dehydrated:null,treeContext:null,retryLane:0};function Ya(t){return{baseLanes:t,cachePool:null,transitions:null}}function Vd(t,e,n){var r=e.pendingProps,s=re.current,i=!1,l=(e.flags&128)!==0,o;if((o=l)||(o=t!==null&&t.memoizedState===null?!1:(s&2)!==0),o?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Y(re,s&1),t===null)return Ha(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(l=r.children,t=r.fallback,i?(r=e.mode,i=e.child,l={mode:"hidden",children:l},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=l):i=Ni(l,r,0,null),t=ln(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Ya(n),e.memoizedState=Qa,t):ro(e,l));if(s=t.memoizedState,s!==null&&(o=s.dehydrated,o!==null))return Wm(t,e,l,r,o,s,n);if(i){i=r.fallback,l=e.mode,s=t.child,o=s.sibling;var c={mode:"hidden",children:r.children};return!(l&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=Ft(s,c),r.subtreeFlags=s.subtreeFlags&14680064),o!==null?i=Ft(o,i):(i=ln(i,l,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,l=t.child.memoizedState,l=l===null?Ya(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},i.memoizedState=l,i.childLanes=t.childLanes&~n,e.memoizedState=Qa,r}return i=t.child,t=i.sibling,r=Ft(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function ro(t,e){return e=Ni({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ws(t,e,n,r){return r!==null&&Hl(r),Kn(e,t.child,null,n),t=ro(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Wm(t,e,n,r,s,i,l){if(n)return e.flags&256?(e.flags&=-257,r=na(Error(P(422))),ws(t,e,l,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Ni({mode:"visible",children:r.children},s,0,null),i=ln(i,s,l,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Kn(e,t.child,null,l),e.child.memoizedState=Ya(l),e.memoizedState=Qa,i);if(!(e.mode&1))return ws(t,e,l,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var o=r.dgst;return r=o,i=Error(P(419)),r=na(i,r,void 0),ws(t,e,l,r)}if(o=(l&t.childLanes)!==0,Ae||o){if(r=pe,r!==null){switch(l&-l){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|l)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,_t(t,s),nt(r,t,s,-1))}return co(),r=na(Error(P(421))),ws(t,e,l,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=sp.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,De=Dt(s.nextSibling),Ue=e,ne=!0,et=null,t!==null&&(Be[He++]=gt,Be[He++]=yt,Be[He++]=cn,gt=t.id,yt=t.overflow,cn=e),e=ro(e,r.children),e.flags|=4096,e)}function jc(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Va(t.return,e,n)}function ra(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Wd(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(ke(t,e,r.children,n),r=re.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&jc(t,n,e);else if(t.tag===19)jc(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Y(re,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&ni(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),ra(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&ni(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}ra(e,!0,n,null,i);break;case"together":ra(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ls(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function jt(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),dn|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(P(153));if(e.child!==null){for(t=e.child,n=Ft(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ft(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function qm(t,e,n){switch(e.tag){case 3:Hd(e),qn();break;case 5:yd(e);break;case 1:Ie(e.type)&&Qs(e);break;case 4:Gl(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Y(Zs,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Y(re,re.current&1),e.flags|=128,null):n&e.child.childLanes?Vd(t,e,n):(Y(re,re.current&1),t=jt(t,e,n),t!==null?t.sibling:null);Y(re,re.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Wd(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Y(re,re.current),r)break;return null;case 22:case 23:return e.lanes=0,Fd(t,e,n)}return jt(t,e,n)}var qd,Xa,Kd,Jd;qd=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Xa=function(){};Kd=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,sn(dt.current);var i=null;switch(n){case"input":s=wa(t,s),r=wa(t,r),i=[];break;case"select":s=ie({},s,{value:void 0}),r=ie({},r,{value:void 0}),i=[];break;case"textarea":s=ba(t,s),r=ba(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Js)}ka(n,r);var l;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var o=s[u];for(l in o)o.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Rr.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(o=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==o&&(c!=null||o!=null))if(u==="style")if(o){for(l in o)!o.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in c)c.hasOwnProperty(l)&&o[l]!==c[l]&&(n||(n={}),n[l]=c[l])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Rr.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&ee("scroll",t),i||o===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};Jd=function(t,e,n,r){n!==r&&(e.flags|=4)};function dr(t,e){if(!ne)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function we(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Km(t,e,n){var r=e.pendingProps;switch(Bl(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return we(e),null;case 1:return Ie(e.type)&&Gs(),we(e),null;case 3:return r=e.stateNode,Jn(),te(Re),te(je),Yl(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(vs(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,et!==null&&(al(et),et=null))),Xa(t,e),we(e),null;case 5:Ql(e);var s=sn(Wr.current);if(n=e.type,t!==null&&e.stateNode!=null)Kd(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(P(166));return we(e),null}if(t=sn(dt.current),vs(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[ct]=e,r[Hr]=i,t=(e.mode&1)!==0,n){case"dialog":ee("cancel",r),ee("close",r);break;case"iframe":case"object":case"embed":ee("load",r);break;case"video":case"audio":for(s=0;s<yr.length;s++)ee(yr[s],r);break;case"source":ee("error",r);break;case"img":case"image":case"link":ee("error",r),ee("load",r);break;case"details":ee("toggle",r);break;case"input":Ao(r,i),ee("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},ee("invalid",r);break;case"textarea":Ro(r,i),ee("invalid",r)}ka(n,i),s=null;for(var l in i)if(i.hasOwnProperty(l)){var o=i[l];l==="children"?typeof o=="string"?r.textContent!==o&&(i.suppressHydrationWarning!==!0&&ys(r.textContent,o,t),s=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&ys(r.textContent,o,t),s=["children",""+o]):Rr.hasOwnProperty(l)&&o!=null&&l==="onScroll"&&ee("scroll",r)}switch(n){case"input":cs(r),Oo(r,i,!0);break;case"textarea":cs(r),Io(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Js)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{l=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=ju(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=l.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=l.createElement(n,{is:r.is}):(t=l.createElement(n),n==="select"&&(l=t,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):t=l.createElementNS(t,n),t[ct]=e,t[Hr]=r,qd(t,e,!1,!1),e.stateNode=t;e:{switch(l=Sa(n,r),n){case"dialog":ee("cancel",t),ee("close",t),s=r;break;case"iframe":case"object":case"embed":ee("load",t),s=r;break;case"video":case"audio":for(s=0;s<yr.length;s++)ee(yr[s],t);s=r;break;case"source":ee("error",t),s=r;break;case"img":case"image":case"link":ee("error",t),ee("load",t),s=r;break;case"details":ee("toggle",t),s=r;break;case"input":Ao(t,r),s=wa(t,r),ee("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=ie({},r,{value:void 0}),ee("invalid",t);break;case"textarea":Ro(t,r),s=ba(t,r),ee("invalid",t);break;default:s=r}ka(n,s),o=s;for(i in o)if(o.hasOwnProperty(i)){var c=o[i];i==="style"?ku(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&bu(t,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Ir(t,c):typeof c=="number"&&Ir(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Rr.hasOwnProperty(i)?c!=null&&i==="onScroll"&&ee("scroll",t):c!=null&&Cl(t,i,c,l))}switch(n){case"input":cs(t),Oo(t,r,!1);break;case"textarea":cs(t),Io(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Bt(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Dn(t,!!r.multiple,i,!1):r.defaultValue!=null&&Dn(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Js)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return we(e),null;case 6:if(t&&e.stateNode!=null)Jd(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(P(166));if(n=sn(Wr.current),sn(dt.current),vs(e)){if(r=e.stateNode,n=e.memoizedProps,r[ct]=e,(i=r.nodeValue!==n)&&(t=Ue,t!==null))switch(t.tag){case 3:ys(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ys(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ct]=e,e.stateNode=r}return we(e),null;case 13:if(te(re),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ne&&De!==null&&e.mode&1&&!(e.flags&128))hd(),qn(),e.flags|=98560,i=!1;else if(i=vs(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(P(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(P(317));i[ct]=e}else qn(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;we(e),i=!1}else et!==null&&(al(et),et=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||re.current&1?fe===0&&(fe=3):co())),e.updateQueue!==null&&(e.flags|=4),we(e),null);case 4:return Jn(),Xa(t,e),t===null&&Fr(e.stateNode.containerInfo),we(e),null;case 10:return ql(e.type._context),we(e),null;case 17:return Ie(e.type)&&Gs(),we(e),null;case 19:if(te(re),i=e.memoizedState,i===null)return we(e),null;if(r=(e.flags&128)!==0,l=i.rendering,l===null)if(r)dr(i,!1);else{if(fe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(l=ni(t),l!==null){for(e.flags|=128,dr(i,!1),r=l.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,l=i.alternate,l===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,t=l.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Y(re,re.current&1|2),e.child}t=t.sibling}i.tail!==null&&oe()>Qn&&(e.flags|=128,r=!0,dr(i,!1),e.lanes=4194304)}else{if(!r)if(t=ni(l),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),dr(i,!0),i.tail===null&&i.tailMode==="hidden"&&!l.alternate&&!ne)return we(e),null}else 2*oe()-i.renderingStartTime>Qn&&n!==1073741824&&(e.flags|=128,r=!0,dr(i,!1),e.lanes=4194304);i.isBackwards?(l.sibling=e.child,e.child=l):(n=i.last,n!==null?n.sibling=l:e.child=l,i.last=l)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=oe(),e.sibling=null,n=re.current,Y(re,r?n&1|2:n&1),e):(we(e),null);case 22:case 23:return oo(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Le&1073741824&&(we(e),e.subtreeFlags&6&&(e.flags|=8192)):we(e),null;case 24:return null;case 25:return null}throw Error(P(156,e.tag))}function Jm(t,e){switch(Bl(e),e.tag){case 1:return Ie(e.type)&&Gs(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Jn(),te(Re),te(je),Yl(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Ql(e),null;case 13:if(te(re),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(P(340));qn()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return te(re),null;case 4:return Jn(),null;case 10:return ql(e.type._context),null;case 22:case 23:return oo(),null;case 24:return null;default:return null}}var _s=!1,_e=!1,Gm=typeof WeakSet=="function"?WeakSet:Set,R=null;function $n(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){le(t,e,r)}else n.current=null}function Za(t,e,n){try{n()}catch(r){le(t,e,r)}}var bc=!1;function Qm(t,e){if(La=Ws,t=Zu(),zl(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var l=0,o=-1,c=-1,u=0,d=0,p=t,g=null;t:for(;;){for(var x;p!==n||s!==0&&p.nodeType!==3||(o=l+s),p!==i||r!==0&&p.nodeType!==3||(c=l+r),p.nodeType===3&&(l+=p.nodeValue.length),(x=p.firstChild)!==null;)g=p,p=x;for(;;){if(p===t)break t;if(g===n&&++u===s&&(o=l),g===i&&++d===r&&(c=l),(x=p.nextSibling)!==null)break;p=g,g=p.parentNode}p=x}n=o===-1||c===-1?null:{start:o,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Da={focusedElem:t,selectionRange:n},Ws=!1,R=e;R!==null;)if(e=R,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,R=t;else for(;R!==null;){e=R;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var _=v.memoizedProps,b=v.memoizedState,h=e.stateNode,f=h.getSnapshotBeforeUpdate(e.elementType===e.type?_:Ye(e.type,_),b);h.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var m=e.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(P(163))}}catch(y){le(e,e.return,y)}if(t=e.sibling,t!==null){t.return=e.return,R=t;break}R=e.return}return v=bc,bc=!1,v}function Sr(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Za(e,n,i)}s=s.next}while(s!==r)}}function ji(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function el(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Gd(t){var e=t.alternate;e!==null&&(t.alternate=null,Gd(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ct],delete e[Hr],delete e[za],delete e[Om],delete e[Rm])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Qd(t){return t.tag===5||t.tag===3||t.tag===4}function Nc(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Qd(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function tl(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Js));else if(r!==4&&(t=t.child,t!==null))for(tl(t,e,n),t=t.sibling;t!==null;)tl(t,e,n),t=t.sibling}function nl(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(nl(t,e,n),t=t.sibling;t!==null;)nl(t,e,n),t=t.sibling}var ge=null,Xe=!1;function Nt(t,e,n){for(n=n.child;n!==null;)Yd(t,e,n),n=n.sibling}function Yd(t,e,n){if(ut&&typeof ut.onCommitFiberUnmount=="function")try{ut.onCommitFiberUnmount(mi,n)}catch{}switch(n.tag){case 5:_e||$n(n,e);case 6:var r=ge,s=Xe;ge=null,Nt(t,e,n),ge=r,Xe=s,ge!==null&&(Xe?(t=ge,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ge.removeChild(n.stateNode));break;case 18:ge!==null&&(Xe?(t=ge,n=n.stateNode,t.nodeType===8?Qi(t.parentNode,n):t.nodeType===1&&Qi(t,n),Ur(t)):Qi(ge,n.stateNode));break;case 4:r=ge,s=Xe,ge=n.stateNode.containerInfo,Xe=!0,Nt(t,e,n),ge=r,Xe=s;break;case 0:case 11:case 14:case 15:if(!_e&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,l=i.destroy;i=i.tag,l!==void 0&&(i&2||i&4)&&Za(n,e,l),s=s.next}while(s!==r)}Nt(t,e,n);break;case 1:if(!_e&&($n(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){le(n,e,o)}Nt(t,e,n);break;case 21:Nt(t,e,n);break;case 22:n.mode&1?(_e=(r=_e)||n.memoizedState!==null,Nt(t,e,n),_e=r):Nt(t,e,n);break;default:Nt(t,e,n)}}function kc(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Gm),e.forEach(function(r){var s=ip.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Ge(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,l=e,o=l;e:for(;o!==null;){switch(o.tag){case 5:ge=o.stateNode,Xe=!1;break e;case 3:ge=o.stateNode.containerInfo,Xe=!0;break e;case 4:ge=o.stateNode.containerInfo,Xe=!0;break e}o=o.return}if(ge===null)throw Error(P(160));Yd(i,l,s),ge=null,Xe=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){le(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Xd(e,t),e=e.sibling}function Xd(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ge(e,t),at(t),r&4){try{Sr(3,t,t.return),ji(3,t)}catch(_){le(t,t.return,_)}try{Sr(5,t,t.return)}catch(_){le(t,t.return,_)}}break;case 1:Ge(e,t),at(t),r&512&&n!==null&&$n(n,n.return);break;case 5:if(Ge(e,t),at(t),r&512&&n!==null&&$n(n,n.return),t.flags&32){var s=t.stateNode;try{Ir(s,"")}catch(_){le(t,t.return,_)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,l=n!==null?n.memoizedProps:i,o=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&wu(s,i),Sa(o,l);var u=Sa(o,i);for(l=0;l<c.length;l+=2){var d=c[l],p=c[l+1];d==="style"?ku(s,p):d==="dangerouslySetInnerHTML"?bu(s,p):d==="children"?Ir(s,p):Cl(s,d,p,u)}switch(o){case"input":_a(s,i);break;case"textarea":_u(s,i);break;case"select":var g=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var x=i.value;x!=null?Dn(s,!!i.multiple,x,!1):g!==!!i.multiple&&(i.defaultValue!=null?Dn(s,!!i.multiple,i.defaultValue,!0):Dn(s,!!i.multiple,i.multiple?[]:"",!1))}s[Hr]=i}catch(_){le(t,t.return,_)}}break;case 6:if(Ge(e,t),at(t),r&4){if(t.stateNode===null)throw Error(P(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(_){le(t,t.return,_)}}break;case 3:if(Ge(e,t),at(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ur(e.containerInfo)}catch(_){le(t,t.return,_)}break;case 4:Ge(e,t),at(t);break;case 13:Ge(e,t),at(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(ao=oe())),r&4&&kc(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(_e=(u=_e)||d,Ge(e,t),_e=u):Ge(e,t),at(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(R=t,d=t.child;d!==null;){for(p=R=d;R!==null;){switch(g=R,x=g.child,g.tag){case 0:case 11:case 14:case 15:Sr(4,g,g.return);break;case 1:$n(g,g.return);var v=g.stateNode;if(typeof v.componentWillUnmount=="function"){r=g,n=g.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(_){le(r,n,_)}}break;case 5:$n(g,g.return);break;case 22:if(g.memoizedState!==null){Cc(p);continue}}x!==null?(x.return=g,R=x):Cc(p)}d=d.sibling}e:for(d=null,p=t;;){if(p.tag===5){if(d===null){d=p;try{s=p.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=p.stateNode,c=p.memoizedProps.style,l=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=Nu("display",l))}catch(_){le(t,t.return,_)}}}else if(p.tag===6){if(d===null)try{p.stateNode.nodeValue=u?"":p.memoizedProps}catch(_){le(t,t.return,_)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;d===p&&(d=null),p=p.return}d===p&&(d=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:Ge(e,t),at(t),r&4&&kc(t);break;case 21:break;default:Ge(e,t),at(t)}}function at(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Qd(n)){var r=n;break e}n=n.return}throw Error(P(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Ir(s,""),r.flags&=-33);var i=Nc(t);nl(t,i,s);break;case 3:case 4:var l=r.stateNode.containerInfo,o=Nc(t);tl(t,o,l);break;default:throw Error(P(161))}}catch(c){le(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Ym(t,e,n){R=t,Zd(t)}function Zd(t,e,n){for(var r=(t.mode&1)!==0;R!==null;){var s=R,i=s.child;if(s.tag===22&&r){var l=s.memoizedState!==null||_s;if(!l){var o=s.alternate,c=o!==null&&o.memoizedState!==null||_e;o=_s;var u=_e;if(_s=l,(_e=c)&&!u)for(R=s;R!==null;)l=R,c=l.child,l.tag===22&&l.memoizedState!==null?Ec(s):c!==null?(c.return=l,R=c):Ec(s);for(;i!==null;)R=i,Zd(i),i=i.sibling;R=s,_s=o,_e=u}Sc(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,R=i):Sc(t)}}function Sc(t){for(;R!==null;){var e=R;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:_e||ji(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!_e)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Ye(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&uc(e,i,r);break;case 3:var l=e.updateQueue;if(l!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}uc(e,l,n)}break;case 5:var o=e.stateNode;if(n===null&&e.flags&4){n=o;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var p=d.dehydrated;p!==null&&Ur(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(P(163))}_e||e.flags&512&&el(e)}catch(g){le(e,e.return,g)}}if(e===t){R=null;break}if(n=e.sibling,n!==null){n.return=e.return,R=n;break}R=e.return}}function Cc(t){for(;R!==null;){var e=R;if(e===t){R=null;break}var n=e.sibling;if(n!==null){n.return=e.return,R=n;break}R=e.return}}function Ec(t){for(;R!==null;){var e=R;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{ji(4,e)}catch(c){le(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(c){le(e,s,c)}}var i=e.return;try{el(e)}catch(c){le(e,i,c)}break;case 5:var l=e.return;try{el(e)}catch(c){le(e,l,c)}}}catch(c){le(e,e.return,c)}if(e===t){R=null;break}var o=e.sibling;if(o!==null){o.return=e.return,R=o;break}R=e.return}}var Xm=Math.ceil,ii=bt.ReactCurrentDispatcher,so=bt.ReactCurrentOwner,We=bt.ReactCurrentBatchConfig,K=0,pe=null,ce=null,ye=0,Le=0,Ln=Kt(0),fe=0,Gr=null,dn=0,bi=0,io=0,Cr=null,Te=null,ao=0,Qn=1/0,ft=null,ai=!1,rl=null,Mt=null,js=!1,Rt=null,li=0,Er=0,sl=null,Ds=-1,Us=0;function Se(){return K&6?oe():Ds!==-1?Ds:Ds=oe()}function zt(t){return t.mode&1?K&2&&ye!==0?ye&-ye:$m.transition!==null?(Us===0&&(Us=Du()),Us):(t=G,t!==0||(t=window.event,t=t===void 0?16:Vu(t.type)),t):1}function nt(t,e,n,r){if(50<Er)throw Er=0,sl=null,Error(P(185));Zr(t,n,r),(!(K&2)||t!==pe)&&(t===pe&&(!(K&2)&&(bi|=n),fe===4&&Pt(t,ye)),$e(t,r),n===1&&K===0&&!(e.mode&1)&&(Qn=oe()+500,xi&&Jt()))}function $e(t,e){var n=t.callbackNode;$f(t,e);var r=Vs(t,t===pe?ye:0);if(r===0)n!==null&&Do(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Do(n),e===1)t.tag===0?Im(Tc.bind(null,t)):cd(Tc.bind(null,t)),Pm(function(){!(K&6)&&Jt()}),n=null;else{switch(Uu(r)){case 1:n=Ol;break;case 4:n=$u;break;case 16:n=Hs;break;case 536870912:n=Lu;break;default:n=Hs}n=lh(n,eh.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function eh(t,e){if(Ds=-1,Us=0,K&6)throw Error(P(327));var n=t.callbackNode;if(Bn()&&t.callbackNode!==n)return null;var r=Vs(t,t===pe?ye:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=oi(t,r);else{e=r;var s=K;K|=2;var i=nh();(pe!==t||ye!==e)&&(ft=null,Qn=oe()+500,an(t,e));do try{tp();break}catch(o){th(t,o)}while(!0);Wl(),ii.current=i,K=s,ce!==null?e=0:(pe=null,ye=0,e=fe)}if(e!==0){if(e===2&&(s=Aa(t),s!==0&&(r=s,e=il(t,s))),e===1)throw n=Gr,an(t,0),Pt(t,r),$e(t,oe()),n;if(e===6)Pt(t,r);else{if(s=t.current.alternate,!(r&30)&&!Zm(s)&&(e=oi(t,r),e===2&&(i=Aa(t),i!==0&&(r=i,e=il(t,i))),e===1))throw n=Gr,an(t,0),Pt(t,r),$e(t,oe()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(P(345));case 2:Zt(t,Te,ft);break;case 3:if(Pt(t,r),(r&130023424)===r&&(e=ao+500-oe(),10<e)){if(Vs(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Se(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Ma(Zt.bind(null,t,Te,ft),e);break}Zt(t,Te,ft);break;case 4:if(Pt(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var l=31-tt(r);i=1<<l,l=e[l],l>s&&(s=l),r&=~i}if(r=s,r=oe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Xm(r/1960))-r,10<r){t.timeoutHandle=Ma(Zt.bind(null,t,Te,ft),r);break}Zt(t,Te,ft);break;case 5:Zt(t,Te,ft);break;default:throw Error(P(329))}}}return $e(t,oe()),t.callbackNode===n?eh.bind(null,t):null}function il(t,e){var n=Cr;return t.current.memoizedState.isDehydrated&&(an(t,e).flags|=256),t=oi(t,e),t!==2&&(e=Te,Te=n,e!==null&&al(e)),t}function al(t){Te===null?Te=t:Te.push.apply(Te,t)}function Zm(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!st(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Pt(t,e){for(e&=~io,e&=~bi,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-tt(e),r=1<<n;t[n]=-1,e&=~r}}function Tc(t){if(K&6)throw Error(P(327));Bn();var e=Vs(t,0);if(!(e&1))return $e(t,oe()),null;var n=oi(t,e);if(t.tag!==0&&n===2){var r=Aa(t);r!==0&&(e=r,n=il(t,r))}if(n===1)throw n=Gr,an(t,0),Pt(t,e),$e(t,oe()),n;if(n===6)throw Error(P(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Zt(t,Te,ft),$e(t,oe()),null}function lo(t,e){var n=K;K|=1;try{return t(e)}finally{K=n,K===0&&(Qn=oe()+500,xi&&Jt())}}function hn(t){Rt!==null&&Rt.tag===0&&!(K&6)&&Bn();var e=K;K|=1;var n=We.transition,r=G;try{if(We.transition=null,G=1,t)return t()}finally{G=r,We.transition=n,K=e,!(K&6)&&Jt()}}function oo(){Le=Ln.current,te(Ln)}function an(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Tm(n)),ce!==null)for(n=ce.return;n!==null;){var r=n;switch(Bl(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Gs();break;case 3:Jn(),te(Re),te(je),Yl();break;case 5:Ql(r);break;case 4:Jn();break;case 13:te(re);break;case 19:te(re);break;case 10:ql(r.type._context);break;case 22:case 23:oo()}n=n.return}if(pe=t,ce=t=Ft(t.current,null),ye=Le=e,fe=0,Gr=null,io=bi=dn=0,Te=Cr=null,rn!==null){for(e=0;e<rn.length;e++)if(n=rn[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var l=i.next;i.next=s,r.next=l}n.pending=r}rn=null}return t}function th(t,e){do{var n=ce;try{if(Wl(),Is.current=si,ri){for(var r=se.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}ri=!1}if(un=0,me=he=se=null,kr=!1,qr=0,so.current=null,n===null||n.return===null){fe=1,Gr=e,ce=null;break}e:{var i=t,l=n.return,o=n,c=e;if(e=ye,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=o,p=d.tag;if(!(d.mode&1)&&(p===0||p===11||p===15)){var g=d.alternate;g?(d.updateQueue=g.updateQueue,d.memoizedState=g.memoizedState,d.lanes=g.lanes):(d.updateQueue=null,d.memoizedState=null)}var x=gc(l);if(x!==null){x.flags&=-257,yc(x,l,o,i,e),x.mode&1&&pc(i,u,e),e=x,c=u;var v=e.updateQueue;if(v===null){var _=new Set;_.add(c),e.updateQueue=_}else v.add(c);break e}else{if(!(e&1)){pc(i,u,e),co();break e}c=Error(P(426))}}else if(ne&&o.mode&1){var b=gc(l);if(b!==null){!(b.flags&65536)&&(b.flags|=256),yc(b,l,o,i,e),Hl(Gn(c,o));break e}}i=c=Gn(c,o),fe!==4&&(fe=2),Cr===null?Cr=[i]:Cr.push(i),i=l;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var h=Ud(i,c,e);cc(i,h);break e;case 1:o=c;var f=i.type,m=i.stateNode;if(!(i.flags&128)&&(typeof f.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Mt===null||!Mt.has(m)))){i.flags|=65536,e&=-e,i.lanes|=e;var y=Md(i,o,e);cc(i,y);break e}}i=i.return}while(i!==null)}sh(n)}catch(w){e=w,ce===n&&n!==null&&(ce=n=n.return);continue}break}while(!0)}function nh(){var t=ii.current;return ii.current=si,t===null?si:t}function co(){(fe===0||fe===3||fe===2)&&(fe=4),pe===null||!(dn&268435455)&&!(bi&268435455)||Pt(pe,ye)}function oi(t,e){var n=K;K|=2;var r=nh();(pe!==t||ye!==e)&&(ft=null,an(t,e));do try{ep();break}catch(s){th(t,s)}while(!0);if(Wl(),K=n,ii.current=r,ce!==null)throw Error(P(261));return pe=null,ye=0,fe}function ep(){for(;ce!==null;)rh(ce)}function tp(){for(;ce!==null&&!Sf();)rh(ce)}function rh(t){var e=ah(t.alternate,t,Le);t.memoizedProps=t.pendingProps,e===null?sh(t):ce=e,so.current=null}function sh(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Jm(n,e),n!==null){n.flags&=32767,ce=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{fe=6,ce=null;return}}else if(n=Km(n,e,Le),n!==null){ce=n;return}if(e=e.sibling,e!==null){ce=e;return}ce=e=t}while(e!==null);fe===0&&(fe=5)}function Zt(t,e,n){var r=G,s=We.transition;try{We.transition=null,G=1,np(t,e,n,r)}finally{We.transition=s,G=r}return null}function np(t,e,n,r){do Bn();while(Rt!==null);if(K&6)throw Error(P(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(P(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(Lf(t,i),t===pe&&(ce=pe=null,ye=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||js||(js=!0,lh(Hs,function(){return Bn(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=We.transition,We.transition=null;var l=G;G=1;var o=K;K|=4,so.current=null,Qm(t,n),Xd(n,t),jm(Da),Ws=!!La,Da=La=null,t.current=n,Ym(n),Cf(),K=o,G=l,We.transition=i}else t.current=n;if(js&&(js=!1,Rt=t,li=s),i=t.pendingLanes,i===0&&(Mt=null),Pf(n.stateNode),$e(t,oe()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(ai)throw ai=!1,t=rl,rl=null,t;return li&1&&t.tag!==0&&Bn(),i=t.pendingLanes,i&1?t===sl?Er++:(Er=0,sl=t):Er=0,Jt(),null}function Bn(){if(Rt!==null){var t=Uu(li),e=We.transition,n=G;try{if(We.transition=null,G=16>t?16:t,Rt===null)var r=!1;else{if(t=Rt,Rt=null,li=0,K&6)throw Error(P(331));var s=K;for(K|=4,R=t.current;R!==null;){var i=R,l=i.child;if(R.flags&16){var o=i.deletions;if(o!==null){for(var c=0;c<o.length;c++){var u=o[c];for(R=u;R!==null;){var d=R;switch(d.tag){case 0:case 11:case 15:Sr(8,d,i)}var p=d.child;if(p!==null)p.return=d,R=p;else for(;R!==null;){d=R;var g=d.sibling,x=d.return;if(Gd(d),d===u){R=null;break}if(g!==null){g.return=x,R=g;break}R=x}}}var v=i.alternate;if(v!==null){var _=v.child;if(_!==null){v.child=null;do{var b=_.sibling;_.sibling=null,_=b}while(_!==null)}}R=i}}if(i.subtreeFlags&2064&&l!==null)l.return=i,R=l;else e:for(;R!==null;){if(i=R,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Sr(9,i,i.return)}var h=i.sibling;if(h!==null){h.return=i.return,R=h;break e}R=i.return}}var f=t.current;for(R=f;R!==null;){l=R;var m=l.child;if(l.subtreeFlags&2064&&m!==null)m.return=l,R=m;else e:for(l=f;R!==null;){if(o=R,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:ji(9,o)}}catch(w){le(o,o.return,w)}if(o===l){R=null;break e}var y=o.sibling;if(y!==null){y.return=o.return,R=y;break e}R=o.return}}if(K=s,Jt(),ut&&typeof ut.onPostCommitFiberRoot=="function")try{ut.onPostCommitFiberRoot(mi,t)}catch{}r=!0}return r}finally{G=n,We.transition=e}}return!1}function Pc(t,e,n){e=Gn(n,e),e=Ud(t,e,1),t=Ut(t,e,1),e=Se(),t!==null&&(Zr(t,1,e),$e(t,e))}function le(t,e,n){if(t.tag===3)Pc(t,t,n);else for(;e!==null;){if(e.tag===3){Pc(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Mt===null||!Mt.has(r))){t=Gn(n,t),t=Md(e,t,1),e=Ut(e,t,1),t=Se(),e!==null&&(Zr(e,1,t),$e(e,t));break}}e=e.return}}function rp(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Se(),t.pingedLanes|=t.suspendedLanes&n,pe===t&&(ye&n)===n&&(fe===4||fe===3&&(ye&130023424)===ye&&500>oe()-ao?an(t,0):io|=n),$e(t,e)}function ih(t,e){e===0&&(t.mode&1?(e=hs,hs<<=1,!(hs&130023424)&&(hs=4194304)):e=1);var n=Se();t=_t(t,e),t!==null&&(Zr(t,e,n),$e(t,n))}function sp(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),ih(t,n)}function ip(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(P(314))}r!==null&&r.delete(e),ih(t,n)}var ah;ah=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Re.current)Ae=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Ae=!1,qm(t,e,n);Ae=!!(t.flags&131072)}else Ae=!1,ne&&e.flags&1048576&&ud(e,Xs,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Ls(t,e),t=e.pendingProps;var s=Wn(e,je.current);Fn(e,n),s=Zl(null,e,r,t,s,n);var i=eo();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ie(r)?(i=!0,Qs(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Jl(e),s.updater=_i,e.stateNode=s,s._reactInternals=e,qa(e,r,t,n),e=Ga(null,e,r,!0,i,n)):(e.tag=0,ne&&i&&Fl(e),ke(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Ls(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=lp(r),t=Ye(r,t),s){case 0:e=Ja(null,e,r,t,n);break e;case 1:e=wc(null,e,r,t,n);break e;case 11:e=vc(null,e,r,t,n);break e;case 14:e=xc(null,e,r,Ye(r.type,t),n);break e}throw Error(P(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ye(r,s),Ja(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ye(r,s),wc(t,e,r,s,n);case 3:e:{if(Hd(e),t===null)throw Error(P(387));r=e.pendingProps,i=e.memoizedState,s=i.element,gd(t,e),ti(e,r,null,n);var l=e.memoizedState;if(r=l.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Gn(Error(P(423)),e),e=_c(t,e,r,n,s);break e}else if(r!==s){s=Gn(Error(P(424)),e),e=_c(t,e,r,n,s);break e}else for(De=Dt(e.stateNode.containerInfo.firstChild),Ue=e,ne=!0,et=null,n=md(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(qn(),r===s){e=jt(t,e,n);break e}ke(t,e,r,n)}e=e.child}return e;case 5:return yd(e),t===null&&Ha(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,l=s.children,Ua(r,s)?l=null:i!==null&&Ua(r,i)&&(e.flags|=32),Bd(t,e),ke(t,e,l,n),e.child;case 6:return t===null&&Ha(e),null;case 13:return Vd(t,e,n);case 4:return Gl(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Kn(e,null,r,n):ke(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ye(r,s),vc(t,e,r,s,n);case 7:return ke(t,e,e.pendingProps,n),e.child;case 8:return ke(t,e,e.pendingProps.children,n),e.child;case 12:return ke(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,l=s.value,Y(Zs,r._currentValue),r._currentValue=l,i!==null)if(st(i.value,l)){if(i.children===s.children&&!Re.current){e=jt(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var o=i.dependencies;if(o!==null){l=i.child;for(var c=o.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=vt(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),Va(i.return,n,e),o.lanes|=n;break}c=c.next}}else if(i.tag===10)l=i.type===e.type?null:i.child;else if(i.tag===18){if(l=i.return,l===null)throw Error(P(341));l.lanes|=n,o=l.alternate,o!==null&&(o.lanes|=n),Va(l,n,e),l=i.sibling}else l=i.child;if(l!==null)l.return=i;else for(l=i;l!==null;){if(l===e){l=null;break}if(i=l.sibling,i!==null){i.return=l.return,l=i;break}l=l.return}i=l}ke(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Fn(e,n),s=Ke(s),r=r(s),e.flags|=1,ke(t,e,r,n),e.child;case 14:return r=e.type,s=Ye(r,e.pendingProps),s=Ye(r.type,s),xc(t,e,r,s,n);case 15:return zd(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ye(r,s),Ls(t,e),e.tag=1,Ie(r)?(t=!0,Qs(e)):t=!1,Fn(e,n),Dd(e,r,s),qa(e,r,s,n),Ga(null,e,r,!0,t,n);case 19:return Wd(t,e,n);case 22:return Fd(t,e,n)}throw Error(P(156,e.tag))};function lh(t,e){return Iu(t,e)}function ap(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ve(t,e,n,r){return new ap(t,e,n,r)}function uo(t){return t=t.prototype,!(!t||!t.isReactComponent)}function lp(t){if(typeof t=="function")return uo(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Tl)return 11;if(t===Pl)return 14}return 2}function Ft(t,e){var n=t.alternate;return n===null?(n=Ve(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Ms(t,e,n,r,s,i){var l=2;if(r=t,typeof t=="function")uo(t)&&(l=1);else if(typeof t=="string")l=5;else e:switch(t){case Sn:return ln(n.children,s,i,e);case El:l=8,s|=8;break;case ga:return t=Ve(12,n,e,s|2),t.elementType=ga,t.lanes=i,t;case ya:return t=Ve(13,n,e,s),t.elementType=ya,t.lanes=i,t;case va:return t=Ve(19,n,e,s),t.elementType=va,t.lanes=i,t;case yu:return Ni(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case pu:l=10;break e;case gu:l=9;break e;case Tl:l=11;break e;case Pl:l=14;break e;case Ct:l=16,r=null;break e}throw Error(P(130,t==null?t:typeof t,""))}return e=Ve(l,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function ln(t,e,n,r){return t=Ve(7,t,r,e),t.lanes=n,t}function Ni(t,e,n,r){return t=Ve(22,t,r,e),t.elementType=yu,t.lanes=n,t.stateNode={isHidden:!1},t}function sa(t,e,n){return t=Ve(6,t,null,e),t.lanes=n,t}function ia(t,e,n){return e=Ve(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function op(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Mi(0),this.expirationTimes=Mi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mi(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function ho(t,e,n,r,s,i,l,o,c){return t=new op(t,e,n,o,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Ve(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Jl(i),t}function cp(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:kn,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function oh(t){if(!t)return Ht;t=t._reactInternals;e:{if(mn(t)!==t||t.tag!==1)throw Error(P(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ie(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(P(171))}if(t.tag===1){var n=t.type;if(Ie(n))return od(t,n,e)}return e}function ch(t,e,n,r,s,i,l,o,c){return t=ho(n,r,!0,t,s,i,l,o,c),t.context=oh(null),n=t.current,r=Se(),s=zt(n),i=vt(r,s),i.callback=e??null,Ut(n,i,s),t.current.lanes=s,Zr(t,s,r),$e(t,r),t}function ki(t,e,n,r){var s=e.current,i=Se(),l=zt(s);return n=oh(n),e.context===null?e.context=n:e.pendingContext=n,e=vt(i,l),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ut(s,e,l),t!==null&&(nt(t,s,l,i),Rs(t,s,l)),l}function ci(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Ac(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function fo(t,e){Ac(t,e),(t=t.alternate)&&Ac(t,e)}function up(){return null}var uh=typeof reportError=="function"?reportError:function(t){console.error(t)};function mo(t){this._internalRoot=t}Si.prototype.render=mo.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(P(409));ki(t,e,null,null)};Si.prototype.unmount=mo.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;hn(function(){ki(null,t,null,null)}),e[wt]=null}};function Si(t){this._internalRoot=t}Si.prototype.unstable_scheduleHydration=function(t){if(t){var e=Fu();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Tt.length&&e!==0&&e<Tt[n].priority;n++);Tt.splice(n,0,t),n===0&&Hu(t)}};function po(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ci(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Oc(){}function dp(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=ci(l);i.call(u)}}var l=ch(e,r,t,0,null,!1,!1,"",Oc);return t._reactRootContainer=l,t[wt]=l.current,Fr(t.nodeType===8?t.parentNode:t),hn(),l}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var o=r;r=function(){var u=ci(c);o.call(u)}}var c=ho(t,0,!1,null,null,!1,!1,"",Oc);return t._reactRootContainer=c,t[wt]=c.current,Fr(t.nodeType===8?t.parentNode:t),hn(function(){ki(e,c,n,r)}),c}function Ei(t,e,n,r,s){var i=n._reactRootContainer;if(i){var l=i;if(typeof s=="function"){var o=s;s=function(){var c=ci(l);o.call(c)}}ki(e,l,t,s)}else l=dp(n,e,t,s,r);return ci(l)}Mu=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=gr(e.pendingLanes);n!==0&&(Rl(e,n|1),$e(e,oe()),!(K&6)&&(Qn=oe()+500,Jt()))}break;case 13:hn(function(){var r=_t(t,1);if(r!==null){var s=Se();nt(r,t,1,s)}}),fo(t,1)}};Il=function(t){if(t.tag===13){var e=_t(t,134217728);if(e!==null){var n=Se();nt(e,t,134217728,n)}fo(t,134217728)}};zu=function(t){if(t.tag===13){var e=zt(t),n=_t(t,e);if(n!==null){var r=Se();nt(n,t,e,r)}fo(t,e)}};Fu=function(){return G};Bu=function(t,e){var n=G;try{return G=t,e()}finally{G=n}};Ea=function(t,e,n){switch(e){case"input":if(_a(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=vi(r);if(!s)throw Error(P(90));xu(r),_a(r,s)}}}break;case"textarea":_u(t,n);break;case"select":e=n.value,e!=null&&Dn(t,!!n.multiple,e,!1)}};Eu=lo;Tu=hn;var hp={usingClientEntryPoint:!1,Events:[ts,Pn,vi,Su,Cu,lo]},hr={findFiberByHostInstance:nn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},fp={bundleType:hr.bundleType,version:hr.version,rendererPackageName:hr.rendererPackageName,rendererConfig:hr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:bt.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Ou(t),t===null?null:t.stateNode},findFiberByHostInstance:hr.findFiberByHostInstance||up,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bs.isDisabled&&bs.supportsFiber)try{mi=bs.inject(fp),ut=bs}catch{}}ze.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hp;ze.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!po(e))throw Error(P(200));return cp(t,e,null,n)};ze.createRoot=function(t,e){if(!po(t))throw Error(P(299));var n=!1,r="",s=uh;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=ho(t,1,!1,null,null,n,!1,r,s),t[wt]=e.current,Fr(t.nodeType===8?t.parentNode:t),new mo(e)};ze.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(P(188)):(t=Object.keys(t).join(","),Error(P(268,t)));return t=Ou(e),t=t===null?null:t.stateNode,t};ze.flushSync=function(t){return hn(t)};ze.hydrate=function(t,e,n){if(!Ci(e))throw Error(P(200));return Ei(null,t,e,!0,n)};ze.hydrateRoot=function(t,e,n){if(!po(t))throw Error(P(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",l=uh;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),e=ch(e,null,t,1,n??null,s,!1,i,l),t[wt]=e.current,Fr(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Si(e)};ze.render=function(t,e,n){if(!Ci(e))throw Error(P(200));return Ei(null,t,e,!1,n)};ze.unmountComponentAtNode=function(t){if(!Ci(t))throw Error(P(40));return t._reactRootContainer?(hn(function(){Ei(null,null,t,!1,function(){t._reactRootContainer=null,t[wt]=null})}),!0):!1};ze.unstable_batchedUpdates=lo;ze.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Ci(n))throw Error(P(200));if(t==null||t._reactInternals===void 0)throw Error(P(38));return Ei(t,e,n,!1,r)};ze.version="18.3.1-next-f1338f8080-20240426";function dh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(dh)}catch(t){console.error(t)}}dh(),du.exports=ze;var mp=du.exports,hh,Rc=mp;hh=Rc.createRoot,Rc.hydrateRoot;const pp="modulepreload",gp=function(t){return"/"+t},Ic={},rs=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),o=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));s=Promise.allSettled(n.map(c=>{if(c=gp(c),c in Ic)return;Ic[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const p=document.createElement("link");if(p.rel=u?"stylesheet":pp,u||(p.as="script"),p.crossOrigin="",p.href=c,o&&p.setAttribute("nonce",o),document.head.appendChild(p),u)return new Promise((g,x)=>{p.addEventListener("load",g),p.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(l){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=l,window.dispatchEvent(o),!o.defaultPrevented)throw l}return s.then(l=>{for(const o of l||[])o.status==="rejected"&&i(o.reason);return e().catch(i)})},yp=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>rs(async()=>{const{default:r}=await Promise.resolve().then(()=>nr);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class go extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class vp extends go{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class $c extends go{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Lc extends go{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var ll;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(ll||(ll={}));var xp=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(l){l(i)})}return new(n||(n=Promise))(function(i,l){function o(d){try{u(r.next(d))}catch(p){l(p)}}function c(d){try{u(r.throw(d))}catch(p){l(p)}}function u(d){d.done?i(d.value):s(d.value).then(o,c)}u((r=r.apply(t,e||[])).next())})};class wp{constructor(e,{headers:n={},customFetch:r,region:s=ll.Any}={}){this.url=e,this.headers=n,this.region=s,this.fetch=yp(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return xp(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:l}=n;let o={},{region:c}=n;c||(c=this.region);const u=new URL(`${this.url}/${e}`);c&&c!=="any"&&(o["x-region"]=c,u.searchParams.set("forceFunctionRegion",c));let d;l&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",d=l):typeof l=="string"?(o["Content-Type"]="text/plain",d=l):typeof FormData<"u"&&l instanceof FormData?d=l:(o["Content-Type"]="application/json",d=JSON.stringify(l)));const p=yield this.fetch(u.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),s),body:d}).catch(_=>{throw new vp(_)}),g=p.headers.get("x-relay-error");if(g&&g==="true")throw new $c(p);if(!p.ok)throw new Lc(p);let x=((r=p.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),v;return x==="application/json"?v=yield p.json():x==="application/octet-stream"?v=yield p.blob():x==="text/event-stream"?v=p:x==="multipart/form-data"?v=yield p.formData():v=yield p.text(),{data:v,error:null,response:p}}catch(s){return{data:null,error:s,response:s instanceof Lc||s instanceof $c?s.context:void 0}}})}}var Pe={},yo={},Ti={},ss={},Pi={},Ai={},_p=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Yn=_p();const jp=Yn.fetch,fh=Yn.fetch.bind(Yn),mh=Yn.Headers,bp=Yn.Request,Np=Yn.Response,nr=Object.freeze(Object.defineProperty({__proto__:null,Headers:mh,Request:bp,Response:Np,default:fh,fetch:jp},Symbol.toStringTag,{value:"Module"})),kp=Fh(nr);var Oi={};Object.defineProperty(Oi,"__esModule",{value:!0});let Sp=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Oi.default=Sp;var ph=qe&&qe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ai,"__esModule",{value:!0});const Cp=ph(kp),Ep=ph(Oi);let Tp=class{constructor(e){var n,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(n=e.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=Cp.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=new Headers(this.headers),this.headers.set(e,n),this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var l,o,c,u;let d=null,p=null,g=null,x=i.status,v=i.statusText;if(i.ok){if(this.method!=="HEAD"){const f=await i.text();f===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((l=this.headers.get("Accept"))===null||l===void 0)&&l.includes("application/vnd.pgrst.plan+text"))?p=f:p=JSON.parse(f))}const b=(o=this.headers.get("Prefer"))===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),h=(c=i.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");b&&h&&h.length>1&&(g=parseInt(h[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(p)&&(p.length>1?(d={code:"PGRST116",details:`Results contain ${p.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},p=null,g=null,x=406,v="Not Acceptable"):p.length===1?p=p[0]:p=null)}else{const b=await i.text();try{d=JSON.parse(b),Array.isArray(d)&&i.status===404&&(p=[],d=null,x=200,v="OK")}catch{i.status===404&&b===""?(x=204,v="No Content"):d={message:b}}if(d&&this.isMaybeSingle&&(!((u=d==null?void 0:d.details)===null||u===void 0)&&u.includes("0 rows"))&&(d=null,x=200,v="OK"),d&&this.shouldThrowOnError)throw new Ep.default(d)}return{error:d,data:p,count:g,status:x,statusText:v}});return this.shouldThrowOnError||(s=s.catch(i=>{var l,o,c;return{error:{message:`${(l=i==null?void 0:i.name)!==null&&l!==void 0?l:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(o=i==null?void 0:i.stack)!==null&&o!==void 0?o:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,n)}returns(){return this}overrideTypes(){return this}};Ai.default=Tp;var Pp=qe&&qe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Pi,"__esModule",{value:!0});const Ap=Pp(Ai);let Op=class extends Ap.default{select(e){let n=!1;const r=(e??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:i=s}={}){const l=i?`${i}.order`:"order",o=this.url.searchParams.get(l);return this.url.searchParams.set(l,`${o?`${o},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:s=r}={}){const i=typeof s>"u"?"offset":`${s}.offset`,l=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(l,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:i=!1,format:l="text"}={}){var o;const c=[e?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${l}; for="${u}"; options=${c};`),l==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};Pi.default=Op;var Rp=qe&&qe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ss,"__esModule",{value:!0});const Ip=Rp(Pi);let $p=class extends Ip.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const l=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${l}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};ss.default=$p;var Lp=qe&&qe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ti,"__esModule",{value:!0});const fr=Lp(ss);let Dp=class{constructor(e,{headers:n={},schema:r,fetch:s}){this.url=e,this.headers=new Headers(n),this.schema=r,this.fetch=s}select(e,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let i=!1;const l=(e??"*").split("").map(o=>/\s/.test(o)&&!i?"":(o==='"'&&(i=!i),o)).join("");return this.url.searchParams.set("select",l),r&&this.headers.append("Prefer",`count=${r}`),new fr.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:n,defaultToNull:r=!0}={}){var s;const i="POST";if(n&&this.headers.append("Prefer",`count=${n}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const l=e.reduce((o,c)=>o.concat(Object.keys(c)),[]);if(l.length>0){const o=[...new Set(l)].map(c=>`"${c}"`);this.url.searchParams.set("columns",o.join(","))}}return new fr.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:i=!0}={}){var l;const o="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),n!==void 0&&this.url.searchParams.set("on_conflict",n),s&&this.headers.append("Prefer",`count=${s}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const c=e.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new fr.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}update(e,{count:n}={}){var r;const s="PATCH";return n&&this.headers.append("Prefer",`count=${n}`),new fr.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var n;const r="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new fr.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}};Ti.default=Dp;var gh=qe&&qe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(yo,"__esModule",{value:!0});const Up=gh(Ti),Mp=gh(ss);let zp=class yh{constructor(e,{headers:n={},schema:r,fetch:s}={}){this.url=e,this.headers=new Headers(n),this.schemaName=r,this.fetch=s}from(e){const n=new URL(`${this.url}/${e}`);return new Up.default(n,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new yh(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:s=!1,count:i}={}){var l;let o;const c=new URL(`${this.url}/rpc/${e}`);let u;r||s?(o=r?"HEAD":"GET",Object.entries(n).filter(([p,g])=>g!==void 0).map(([p,g])=>[p,Array.isArray(g)?`{${g.join(",")}}`:`${g}`]).forEach(([p,g])=>{c.searchParams.append(p,g)})):(o="POST",u=n);const d=new Headers(this.headers);return i&&d.set("Prefer",`count=${i}`),new Mp.default({method:o,url:c,headers:d,schema:this.schemaName,body:u,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}};yo.default=zp;var rr=qe&&qe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Pe,"__esModule",{value:!0});Pe.PostgrestError=Pe.PostgrestBuilder=Pe.PostgrestTransformBuilder=Pe.PostgrestFilterBuilder=Pe.PostgrestQueryBuilder=Pe.PostgrestClient=void 0;const vh=rr(yo);Pe.PostgrestClient=vh.default;const xh=rr(Ti);Pe.PostgrestQueryBuilder=xh.default;const wh=rr(ss);Pe.PostgrestFilterBuilder=wh.default;const _h=rr(Pi);Pe.PostgrestTransformBuilder=_h.default;const jh=rr(Ai);Pe.PostgrestBuilder=jh.default;const bh=rr(Oi);Pe.PostgrestError=bh.default;var Fp=Pe.default={PostgrestClient:vh.default,PostgrestQueryBuilder:xh.default,PostgrestFilterBuilder:wh.default,PostgrestTransformBuilder:_h.default,PostgrestBuilder:jh.default,PostgrestError:bh.default};const{PostgrestClient:Bp,PostgrestQueryBuilder:hy,PostgrestFilterBuilder:fy,PostgrestTransformBuilder:my,PostgrestBuilder:py,PostgrestError:gy}=Fp;class Hp{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,s=parseInt(r.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const Vp="2.15.5",Wp=`realtime-js/${Vp}`,qp="1.0.0",ol=1e4,Kp=1e3,Jp=100;var Tr;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Tr||(Tr={}));var ue;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(ue||(ue={}));var Ze;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Ze||(Ze={}));var cl;(function(t){t.websocket="websocket"})(cl||(cl={}));var tn;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(tn||(tn={}));class Gp{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const s=n.getUint8(1),i=n.getUint8(2);let l=this.HEADER_LENGTH+2;const o=r.decode(e.slice(l,l+s));l=l+s;const c=r.decode(e.slice(l,l+i));l=l+i;const u=JSON.parse(r.decode(e.slice(l,e.byteLength)));return{ref:null,topic:o,event:c,payload:u}}}class Nh{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Q;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Q||(Q={}));const Dc=(t,e,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((i,l)=>(i[l]=Qp(l,t,e,s),i),{})},Qp=(t,e,n,r)=>{const s=e.find(o=>o.name===t),i=s==null?void 0:s.type,l=n[t];return i&&!r.includes(i)?kh(i,l):ul(l)},kh=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return e0(e,n)}switch(t){case Q.bool:return Yp(e);case Q.float4:case Q.float8:case Q.int2:case Q.int4:case Q.int8:case Q.numeric:case Q.oid:return Xp(e);case Q.json:case Q.jsonb:return Zp(e);case Q.timestamp:return t0(e);case Q.abstime:case Q.date:case Q.daterange:case Q.int4range:case Q.int8range:case Q.money:case Q.reltime:case Q.text:case Q.time:case Q.timestamptz:case Q.timetz:case Q.tsrange:case Q.tstzrange:return ul(e);default:return ul(e)}},ul=t=>t,Yp=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Xp=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Zp=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},e0=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let i;const l=t.slice(1,n);try{i=JSON.parse("["+l+"]")}catch{i=l?l.split(","):[]}return i.map(o=>kh(e,o))}return t},t0=t=>typeof t=="string"?t.replace(" ","T"):t,Sh=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class aa{constructor(e,n,r={},s=ol){this.channel=e,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Uc;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Uc||(Uc={}));class Pr{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:l,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Pr.syncState(this.state,s,i,l),this.pendingDiffs.forEach(c=>{this.state=Pr.syncDiff(this.state,c,i,l)}),this.pendingDiffs=[],o()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:l,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Pr.syncDiff(this.state,s,i,l),o())}),this.onJoin((s,i,l)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:l})}),this.onLeave((s,i,l)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,s){const i=this.cloneDeep(e),l=this.transformState(n),o={},c={};return this.map(i,(u,d)=>{l[u]||(c[u]=d)}),this.map(l,(u,d)=>{const p=i[u];if(p){const g=d.map(b=>b.presence_ref),x=p.map(b=>b.presence_ref),v=d.filter(b=>x.indexOf(b.presence_ref)<0),_=p.filter(b=>g.indexOf(b.presence_ref)<0);v.length>0&&(o[u]=v),_.length>0&&(c[u]=_)}else o[u]=d}),this.syncDiff(i,{joins:o,leaves:c},r,s)}static syncDiff(e,n,r,s){const{joins:i,leaves:l}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(o,c)=>{var u;const d=(u=e[o])!==null&&u!==void 0?u:[];if(e[o]=this.cloneDeep(c),d.length>0){const p=e[o].map(x=>x.presence_ref),g=d.filter(x=>p.indexOf(x.presence_ref)<0);e[o].unshift(...g)}r(o,d,c)}),this.map(l,(o,c)=>{let u=e[o];if(!u)return;const d=c.map(p=>p.presence_ref);u=u.filter(p=>d.indexOf(p.presence_ref)<0),e[o]=u,s(o,u,c),u.length===0&&delete e[o]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const s=e[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Mc;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Mc||(Mc={}));var Ar;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Ar||(Ar={}));var mt;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(mt||(mt={}));class vo{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=ue.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new aa(this,Ze.join,this.params,this.timeout),this.rejoinTimer=new Nh(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ue.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ue.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=ue.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ue.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=ue.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ze.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new Pr(this),this.broadcastEndpointURL=Sh(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var r,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==ue.closed){const{config:{broadcast:l,presence:o,private:c}}=this.params,u=(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(x=>x.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[Ar.PRESENCE]&&this.bindings[Ar.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,p={},g={broadcast:l,presence:Object.assign(Object.assign({},o),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(p.access_token=this.socket.accessTokenValue),this._onError(x=>e==null?void 0:e(mt.CHANNEL_ERROR,x)),this._onClose(()=>e==null?void 0:e(mt.CLOSED)),this.updateJoinPayload(Object.assign({config:g},p)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:x})=>{var v;if(this.socket.setAuth(),x===void 0){e==null||e(mt.SUBSCRIBED);return}else{const _=this.bindings.postgres_changes,b=(v=_==null?void 0:_.length)!==null&&v!==void 0?v:0,h=[];for(let f=0;f<b;f++){const m=_[f],{filter:{event:y,schema:w,table:j,filter:S}}=m,k=x&&x[f];if(k&&k.event===y&&k.schema===w&&k.table===j&&k.filter===S)h.push(Object.assign(Object.assign({},m),{id:k.id}));else{this.unsubscribe(),this.state=ue.errored,e==null||e(mt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=h,e&&e(mt.SUBSCRIBED);return}}).receive("error",x=>{this.state=ue.errored,e==null||e(mt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(x).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(mt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===ue.joined&&e===Ar.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,r)}async send(e,n={}){var r,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:l}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:l,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var l,o,c;const u=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(o=(l=this.params)===null||l===void 0?void 0:l.config)===null||o===void 0?void 0:o.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ue.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ze.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new aa(this,Ze.leave,{},e),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ue.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),l=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),l}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new aa(this,e,n,r);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>Jp){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var s,i;const l=e.toLocaleLowerCase(),{close:o,error:c,leave:u,join:d}=Ze;if(r&&[o,c,u,d].indexOf(l)>=0&&r!==this._joinRef())return;let g=this._onMessage(l,n,r);if(n&&!g)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(x=>{var v,_,b;return((v=x.filter)===null||v===void 0?void 0:v.event)==="*"||((b=(_=x.filter)===null||_===void 0?void 0:_.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===l}).map(x=>x.callback(g,r)):(i=this.bindings[l])===null||i===void 0||i.filter(x=>{var v,_,b,h,f,m;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in x){const y=x.id,w=(v=x.filter)===null||v===void 0?void 0:v.event;return y&&((_=n.ids)===null||_===void 0?void 0:_.includes(y))&&(w==="*"||(w==null?void 0:w.toLocaleLowerCase())===((b=n.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const y=(f=(h=x==null?void 0:x.filter)===null||h===void 0?void 0:h.event)===null||f===void 0?void 0:f.toLocaleLowerCase();return y==="*"||y===((m=n==null?void 0:n.event)===null||m===void 0?void 0:m.toLocaleLowerCase())}else return x.type.toLocaleLowerCase()===l}).map(x=>{if(typeof g=="object"&&"ids"in g){const v=g.data,{schema:_,table:b,commit_timestamp:h,type:f,errors:m}=v;g=Object.assign(Object.assign({},{schema:_,table:b,commit_timestamp:h,eventType:f,new:{},old:{},errors:m}),this._getPayloadRecords(v))}x.callback(g,r)})}_isClosed(){return this.state===ue.closed}_isJoined(){return this.state===ue.joined}_isJoining(){return this.state===ue.joining}_isLeaving(){return this.state===ue.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const s=e.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&vo.isEqual(s.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Ze.close,{},e)}_onError(e){this._on(Ze.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ue.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=Dc(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=Dc(e.columns,e.old_record)),n}}const la=()=>{},Ns={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},n0=[1e3,2e3,5e3,1e4],r0=1e4,s0=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class i0{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=ol,this.transport=null,this.heartbeatIntervalMs=Ns.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=la,this.ref=0,this.reconnectTimer=null,this.logger=la,this.conn=null,this.sendBuffer=[],this.serializer=new Gp,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let i;return s?i=s:typeof fetch>"u"?i=(...l)=>rs(async()=>{const{default:o}=await Promise.resolve().then(()=>nr);return{default:o}},void 0).then(({default:o})=>o(...l)).catch(o=>{throw new Error(`Failed to load @supabase/node-fetch: ${o.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...l)=>i(...l)},!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${cl.websocket}`,this.httpEndpoint=Sh(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Hp.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:qp}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},e?this.conn.close(e,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Tr.connecting:return tn.Connecting;case Tr.open:return tn.Open;case Tr.closing:return tn.Closing;default:return tn.Closed}}isConnected(){return this.connectionState()===tn.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===r);if(s)return s;{const i=new vo(`realtime:${e}`,n,this);return this.channels.push(i),i}}push(e){const{topic:n,event:r,payload:s,ref:i}=e,l=()=>{this.encode(e,o=>{var c;(c=this.conn)===null||c===void 0||c.send(o)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(Kp,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Ns.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:s,payload:i,ref:l}=n,o=l?`(${l})`:"",c=i.status||"";this.log("receive",`${c} ${r} ${s} ${o}`.trim(),i),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(s,i,l)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Ze.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${e}${r}${s}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([s0],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const s={access_token:n,version:Wp};n&&r.updateJoinPayload(s),r.joinedOnce&&r._isJoined()&&r._push(Ze.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new Nh(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Ns.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,s,i,l,o,c,u,d;if(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:ol,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:Ns.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(l=e==null?void 0:e.accessToken)!==null&&l!==void 0?l:null,this.heartbeatCallback=(o=e==null?void 0:e.heartbeatCallback)!==null&&o!==void 0?o:la,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=e==null?void 0:e.reconnectAfterMs)!==null&&c!==void 0?c:p=>n0[p-1]||r0,this.encode=(u=e==null?void 0:e.encode)!==null&&u!==void 0?u:(p,g)=>g(JSON.stringify(p)),this.decode=(d=e==null?void 0:e.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class xo extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function de(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class a0 extends xo{constructor(e,n,r){super(e),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class dl extends xo{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var l0=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(l){l(i)})}return new(n||(n=Promise))(function(i,l){function o(d){try{u(r.next(d))}catch(p){l(p)}}function c(d){try{u(r.throw(d))}catch(p){l(p)}}function u(d){d.done?i(d.value):s(d.value).then(o,c)}u((r=r.apply(t,e||[])).next())})};const Ch=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>rs(async()=>{const{default:r}=await Promise.resolve().then(()=>nr);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},o0=()=>l0(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield rs(()=>Promise.resolve().then(()=>nr),void 0)).Response:Response}),hl=t=>{if(Array.isArray(t))return t.map(n=>hl(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=hl(r)}),e},c0=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var pn=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(l){l(i)})}return new(n||(n=Promise))(function(i,l){function o(d){try{u(r.next(d))}catch(p){l(p)}}function c(d){try{u(r.throw(d))}catch(p){l(p)}}function u(d){d.done?i(d.value):s(d.value).then(o,c)}u((r=r.apply(t,e||[])).next())})};const oa=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),u0=(t,e,n)=>pn(void 0,void 0,void 0,function*(){const r=yield o0();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(s=>{const i=t.status||500,l=(s==null?void 0:s.statusCode)||i+"";e(new a0(oa(s),i,l))}).catch(s=>{e(new dl(oa(s),s))}):e(new dl(oa(t),t))}),d0=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!r?s:(c0(r)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(r)):s.body=r,e!=null&&e.duplex&&(s.duplex=e.duplex),Object.assign(Object.assign({},s),n))};function is(t,e,n,r,s,i){return pn(this,void 0,void 0,function*(){return new Promise((l,o)=>{t(n,d0(e,r,s,i)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>l(c)).catch(c=>u0(c,o,r))})})}function ui(t,e,n,r){return pn(this,void 0,void 0,function*(){return is(t,"GET",e,n,r)})}function ot(t,e,n,r,s){return pn(this,void 0,void 0,function*(){return is(t,"POST",e,r,s,n)})}function fl(t,e,n,r,s){return pn(this,void 0,void 0,function*(){return is(t,"PUT",e,r,s,n)})}function h0(t,e,n,r){return pn(this,void 0,void 0,function*(){return is(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function Eh(t,e,n,r,s){return pn(this,void 0,void 0,function*(){return is(t,"DELETE",e,r,s,n)})}var Ne=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(l){l(i)})}return new(n||(n=Promise))(function(i,l){function o(d){try{u(r.next(d))}catch(p){l(p)}}function c(d){try{u(r.throw(d))}catch(p){l(p)}}function u(d){d.done?i(d.value):s(d.value).then(o,c)}u((r=r.apply(t,e||[])).next())})};const f0={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},zc={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class m0{constructor(e,n={},r,s){this.url=e,this.headers=n,this.bucketId=r,this.fetch=Ch(s)}uploadOrUpdate(e,n,r,s){return Ne(this,void 0,void 0,function*(){try{let i;const l=Object.assign(Object.assign({},zc),s);let o=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(l.upsert)});const c=l.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",l.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",l.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=r,o["cache-control"]=`max-age=${l.cacheControl}`,o["content-type"]=l.contentType,c&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(o=Object.assign(Object.assign({},o),s.headers));const u=this._removeEmptyFolders(n),d=this._getFinalPath(u),p=yield(e=="PUT"?fl:ot)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:o},l!=null&&l.duplex?{duplex:l.duplex}:{}));return{data:{path:u,id:p.Id,fullPath:p.Key},error:null}}catch(i){if(de(i))return{data:null,error:i};throw i}})}upload(e,n,r){return Ne(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,s){return Ne(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),l=this._getFinalPath(i),o=new URL(this.url+`/object/upload/sign/${l}`);o.searchParams.set("token",n);try{let c;const u=Object.assign({upsert:zc.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const p=yield fl(this.fetch,o.toString(),c,{headers:d});return{data:{path:i,fullPath:p.Key},error:null}}catch(c){if(de(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,n){return Ne(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield ot(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),l=new URL(this.url+i.url),o=l.searchParams.get("token");if(!o)throw new xo("No token returned by API");return{data:{signedUrl:l.toString(),path:e,token:o},error:null}}catch(r){if(de(r))return{data:null,error:r};throw r}})}update(e,n,r){return Ne(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return Ne(this,void 0,void 0,function*(){try{return{data:yield ot(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(de(s))return{data:null,error:s};throw s}})}copy(e,n,r){return Ne(this,void 0,void 0,function*(){try{return{data:{path:(yield ot(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(de(s))return{data:null,error:s};throw s}})}createSignedUrl(e,n,r){return Ne(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield ot(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const l=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${l}`)},{data:i,error:null}}catch(s){if(de(s))return{data:null,error:s};throw s}})}createSignedUrls(e,n,r){return Ne(this,void 0,void 0,function*(){try{const s=yield ot(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(l=>Object.assign(Object.assign({},l),{signedUrl:l.signedURL?encodeURI(`${this.url}${l.signedURL}${i}`):null})),error:null}}catch(s){if(de(s))return{data:null,error:s};throw s}})}download(e,n){return Ne(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),l=i?`?${i}`:"";try{const o=this._getFinalPath(e);return{data:yield(yield ui(this.fetch,`${this.url}/${s}/${o}${l}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(o){if(de(o))return{data:null,error:o};throw o}})}info(e){return Ne(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield ui(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:hl(r),error:null}}catch(r){if(de(r))return{data:null,error:r};throw r}})}exists(e){return Ne(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield h0(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(de(r)&&r instanceof dl){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const o=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${r}${u}`)}}}remove(e){return Ne(this,void 0,void 0,function*(){try{return{data:yield Eh(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(de(n))return{data:null,error:n};throw n}})}list(e,n,r){return Ne(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},f0),n),{prefix:e||""});return{data:yield ot(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(de(s))return{data:null,error:s};throw s}})}listV2(e,n){return Ne(this,void 0,void 0,function*(){try{const r=Object.assign({},e);return{data:yield ot(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(de(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const p0="2.11.1",g0={"X-Client-Info":`storage-js/${p0}`};var vn=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(l){l(i)})}return new(n||(n=Promise))(function(i,l){function o(d){try{u(r.next(d))}catch(p){l(p)}}function c(d){try{u(r.throw(d))}catch(p){l(p)}}function u(d){d.done?i(d.value):s(d.value).then(o,c)}u((r=r.apply(t,e||[])).next())})};class y0{constructor(e,n={},r,s){const i=new URL(e);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},g0),n),this.fetch=Ch(r)}listBuckets(){return vn(this,void 0,void 0,function*(){try{return{data:yield ui(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(de(e))return{data:null,error:e};throw e}})}getBucket(e){return vn(this,void 0,void 0,function*(){try{return{data:yield ui(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(de(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return vn(this,void 0,void 0,function*(){try{return{data:yield ot(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(de(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return vn(this,void 0,void 0,function*(){try{return{data:yield fl(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(de(r))return{data:null,error:r};throw r}})}emptyBucket(e){return vn(this,void 0,void 0,function*(){try{return{data:yield ot(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(de(n))return{data:null,error:n};throw n}})}deleteBucket(e){return vn(this,void 0,void 0,function*(){try{return{data:yield Eh(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(de(n))return{data:null,error:n};throw n}})}}class v0 extends y0{constructor(e,n={},r,s){super(e,n,r,s)}from(e){return new m0(this.url,this.headers,e,this.fetch)}}const x0="2.57.2";let vr="";typeof Deno<"u"?vr="deno":typeof document<"u"?vr="web":typeof navigator<"u"&&navigator.product==="ReactNative"?vr="react-native":vr="node";const w0={"X-Client-Info":`supabase-js-${vr}/${x0}`},_0={headers:w0},j0={schema:"public"},b0={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},N0={};var k0=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(l){l(i)})}return new(n||(n=Promise))(function(i,l){function o(d){try{u(r.next(d))}catch(p){l(p)}}function c(d){try{u(r.throw(d))}catch(p){l(p)}}function u(d){d.done?i(d.value):s(d.value).then(o,c)}u((r=r.apply(t,e||[])).next())})};const S0=t=>{let e;return t?e=t:typeof fetch>"u"?e=fh:e=fetch,(...n)=>e(...n)},C0=()=>typeof Headers>"u"?mh:Headers,E0=(t,e,n)=>{const r=S0(n),s=C0();return(i,l)=>k0(void 0,void 0,void 0,function*(){var o;const c=(o=yield e())!==null&&o!==void 0?o:t;let u=new s(l==null?void 0:l.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),r(i,Object.assign(Object.assign({},l),{headers:u}))})};var T0=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(l){l(i)})}return new(n||(n=Promise))(function(i,l){function o(d){try{u(r.next(d))}catch(p){l(p)}}function c(d){try{u(r.throw(d))}catch(p){l(p)}}function u(d){d.done?i(d.value):s(d.value).then(o,c)}u((r=r.apply(t,e||[])).next())})};function P0(t){return t.endsWith("/")?t:t+"/"}function A0(t,e){var n,r;const{db:s,auth:i,realtime:l,global:o}=t,{db:c,auth:u,realtime:d,global:p}=e,g={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},d),l),storage:{},global:Object.assign(Object.assign(Object.assign({},p),o),{headers:Object.assign(Object.assign({},(n=p==null?void 0:p.headers)!==null&&n!==void 0?n:{}),(r=o==null?void 0:o.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>T0(this,void 0,void 0,function*(){return""})};return t.accessToken?g.accessToken=t.accessToken:delete g.accessToken,g}const Th="2.71.1",bn=30*1e3,ml=3,ca=ml*bn,O0="http://localhost:9999",R0="supabase.auth.token",I0={"X-Client-Info":`gotrue-js/${Th}`},pl="X-Supabase-Api-Version",Ph={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},$0=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,L0=10*60*1e3;class wo extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function z(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class D0 extends wo{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function U0(t){return z(t)&&t.name==="AuthApiError"}class Ah extends wo{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Gt extends wo{constructor(e,n,r,s){super(e,r,s),this.name=n,this.status=r}}class St extends Gt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function M0(t){return z(t)&&t.name==="AuthSessionMissingError"}class ks extends Gt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ss extends Gt{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Cs extends Gt{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function z0(t){return z(t)&&t.name==="AuthImplicitGrantRedirectError"}class Fc extends Gt{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class gl extends Gt{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function ua(t){return z(t)&&t.name==="AuthRetryableFetchError"}class Bc extends Gt{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class yl extends Gt{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const di="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Hc=` 	
\r=`.split(""),F0=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Hc.length;e+=1)t[Hc[e].charCodeAt(0)]=-2;for(let e=0;e<di.length;e+=1)t[di[e].charCodeAt(0)]=e;return t})();function Vc(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(di[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(di[r]),e.queuedBits-=6}}function Oh(t,e,n){const r=F0[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Wc(t){const e=[],n=l=>{e.push(String.fromCodePoint(l))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=l=>{V0(l,r,n)};for(let l=0;l<t.length;l+=1)Oh(t.charCodeAt(l),s,i);return e.join("")}function B0(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function H0(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}B0(r,e)}}function V0(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function W0(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)Oh(t.charCodeAt(s),n,r);return new Uint8Array(e)}function q0(t){const e=[];return H0(t,n=>e.push(n)),new Uint8Array(e)}function K0(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};return t.forEach(s=>Vc(s,n,r)),Vc(null,n,r),e.join("")}function J0(t){return Math.round(Date.now()/1e3)+t}function G0(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Qe=()=>typeof window<"u"&&typeof document<"u",Qt={tested:!1,writable:!1},Rh=()=>{if(!Qe())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Qt.tested)return Qt.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Qt.tested=!0,Qt.writable=!0}catch{Qt.tested=!0,Qt.writable=!1}return Qt.writable};function Q0(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{e[s]=r}),e}const Ih=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>rs(async()=>{const{default:r}=await Promise.resolve().then(()=>nr);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},Y0=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Nn=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Yt=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},kt=async(t,e)=>{await t.removeItem(e)};class Ri{constructor(){this.promise=new Ri.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Ri.promiseConstructor=Promise;function da(t){const e=t.split(".");if(e.length!==3)throw new yl("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!$0.test(e[r]))throw new yl("JWT not in base64url format");return{header:JSON.parse(Wc(e[0])),payload:JSON.parse(Wc(e[1])),signature:W0(e[2]),raw:{header:e[0],payload:e[1]}}}async function X0(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Z0(t,e){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const l=await t(i);if(!e(i,null,l)){r(l);return}}catch(l){if(!e(i,l)){s(l);return}}})()})}function eg(t){return("0"+t.toString(16)).substr(-2)}function tg(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(e),Array.from(e,eg).join("")}async function ng(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function rg(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await ng(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function xn(t,e,n=!1){const r=tg();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await Nn(t,`${e}-code-verifier`,s);const i=await rg(r);return[i,r===i?"plain":"s256"]}const sg=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function ig(t){const e=t.headers.get(pl);if(!e||!e.match(sg))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function ag(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function lg(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const og=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function wn(t){if(!og.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function ha(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function qc(t){return JSON.parse(JSON.stringify(t))}var cg=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};const en=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),ug=[502,503,504];async function Kc(t){var e;if(!Y0(t))throw new gl(en(t),0);if(ug.includes(t.status))throw new gl(en(t),t.status);let n;try{n=await t.json()}catch(i){throw new Ah(en(i),i)}let r;const s=ig(t);if(s&&s.getTime()>=Ph["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Bc(en(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new St}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,l)=>i&&typeof l=="string",!0))throw new Bc(en(n),t.status,n.weak_password.reasons);throw new D0(en(n),t.status||500,r)}const dg=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function B(t,e,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[pl]||(i[pl]=Ph["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const l=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(l.redirect_to=r.redirectTo);const o=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",c=await hg(t,e,n+o,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function hg(t,e,n,r,s,i){const l=dg(e,r,s,i);let o;try{o=await t(n,Object.assign({},l))}catch(c){throw console.error(c),new gl(en(c),0)}if(o.ok||await Kc(o),r!=null&&r.noResolveJson)return o;try{return await o.json()}catch(c){await Kc(c)}}function ht(t){var e;let n=null;gg(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=J0(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function Jc(t){const e=ht(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function At(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function fg(t){return{data:t,error:null}}function mg(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=t,l=cg(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},c=Object.assign({},l);return{data:{properties:o,user:c},error:null}}function pg(t){return t}function gg(t){return t.access_token&&t.refresh_token&&t.expires_in}const fa=["global","local","others"];var yg=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};class vg{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=Ih(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n=fa[0]){if(fa.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${fa.join(", ")}`);try{return await B(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(z(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await B(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:At})}catch(r){if(z(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=yg(e,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await B(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:mg,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(z(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await B(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:At})}catch(n){if(z(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,s,i,l,o,c;try{const u={nextPage:null,lastPage:0,total:0},d=await B(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:pg});if(d.error)throw d.error;const p=await d.json(),g=(l=d.headers.get("x-total-count"))!==null&&l!==void 0?l:0,x=(c=(o=d.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&c!==void 0?c:[];return x.length>0&&(x.forEach(v=>{const _=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(v.split(";")[1].split("=")[1]);u[`${b}Page`]=_}),u.total=parseInt(g)),{data:Object.assign(Object.assign({},p),u),error:null}}catch(u){if(z(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){wn(e);try{return await B(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:At})}catch(n){if(z(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){wn(e);try{return await B(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:At})}catch(r){if(z(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){wn(e);try{return await B(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:At})}catch(r){if(z(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){wn(e.userId);try{const{data:n,error:r}=await B(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(z(n))return{data:null,error:n};throw n}}async _deleteFactor(e){wn(e.userId),wn(e.id);try{return{data:await B(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(z(n))return{data:null,error:n};throw n}}}function Gc(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function xg(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const _n={debug:!!(globalThis&&Rh()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class $h extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class wg extends $h{}async function _g(t,e,n){_n.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),_n.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){_n.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await n()}finally{_n.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw _n.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new wg(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(_n.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}xg();const jg={url:O0,storageKey:R0,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:I0,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Qc(t,e,n){return await n()}const jn={};class Qr{constructor(e){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Qr.nextInstanceID,Qr.nextInstanceID+=1,this.instanceID>0&&Qe()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},jg),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new vg({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Ih(s.fetch),this.lock=s.lock||Qc,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Qe()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=_g:this.lock=Qc,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:Rh()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Gc(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=Gc(this.memoryStorage)),Qe()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var e,n;return(n=(e=jn[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){jn[this.storageKey]=Object.assign(Object.assign({},jn[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=jn[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){jn[this.storageKey]=Object.assign(Object.assign({},jn[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Th}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=Q0(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Qe()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),z0(i)){const c=(e=i.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:l,redirectType:o}=s;return this._debug("#_initialize()","detected session in URL",l,"redirect type",o),await this._saveSession(l),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return z(n)?{error:n}:{error:new Ah("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,s;try{const i=await B(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:ht}),{data:l,error:o}=i;if(o||!l)return{data:{user:null,session:null},error:o};const c=l.session,u=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(z(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var n,r,s;try{let i;if("email"in e){const{email:d,password:p,options:g}=e;let x=null,v=null;this.flowType==="pkce"&&([x,v]=await xn(this.storage,this.storageKey)),i=await B(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:g==null?void 0:g.emailRedirectTo,body:{email:d,password:p,data:(n=g==null?void 0:g.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},code_challenge:x,code_challenge_method:v},xform:ht})}else if("phone"in e){const{phone:d,password:p,options:g}=e;i=await B(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:p,data:(r=g==null?void 0:g.data)!==null&&r!==void 0?r:{},channel:(s=g==null?void 0:g.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}},xform:ht})}else throw new Ss("You must provide either an email or phone number and a password");const{data:l,error:o}=i;if(o||!l)return{data:{user:null,session:null},error:o};const c=l.session,u=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(z(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let n;if("email"in e){const{email:i,password:l,options:o}=e;n=await B(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:l,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Jc})}else if("phone"in e){const{phone:i,password:l,options:o}=e;n=await B(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:l,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Jc})}else throw new Ss("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new ks}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(z(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;if(n==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(e){var n,r,s,i,l,o,c,u,d,p,g,x;let v,_;if("message"in e)v=e.message,_=e.signature;else{const{chain:b,wallet:h,statement:f,options:m}=e;let y;if(Qe())if(typeof h=="object")y=h;else{const j=window;if("solana"in j&&typeof j.solana=="object"&&("signIn"in j.solana&&typeof j.solana.signIn=="function"||"signMessage"in j.solana&&typeof j.solana.signMessage=="function"))y=j.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof h!="object"||!(m!=null&&m.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");y=h}const w=new URL((n=m==null?void 0:m.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in y&&y.signIn){const j=await y.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},m==null?void 0:m.signInWithSolana),{version:"1",domain:w.host,uri:w.href}),f?{statement:f}:null));let S;if(Array.isArray(j)&&j[0]&&typeof j[0]=="object")S=j[0];else if(j&&typeof j=="object"&&"signedMessage"in j&&"signature"in j)S=j;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in S&&"signature"in S&&(typeof S.signedMessage=="string"||S.signedMessage instanceof Uint8Array)&&S.signature instanceof Uint8Array)v=typeof S.signedMessage=="string"?S.signedMessage:new TextDecoder().decode(S.signedMessage),_=S.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in y)||typeof y.signMessage!="function"||!("publicKey"in y)||typeof y!="object"||!y.publicKey||!("toBase58"in y.publicKey)||typeof y.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${w.host} wants you to sign in with your Solana account:`,y.publicKey.toBase58(),...f?["",f,""]:[""],"Version: 1",`URI: ${w.href}`,`Issued At: ${(s=(r=m==null?void 0:m.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=m==null?void 0:m.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${m.signInWithSolana.notBefore}`]:[],...!((l=m==null?void 0:m.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${m.signInWithSolana.expirationTime}`]:[],...!((o=m==null?void 0:m.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${m.signInWithSolana.chainId}`]:[],...!((c=m==null?void 0:m.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${m.signInWithSolana.nonce}`]:[],...!((u=m==null?void 0:m.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${m.signInWithSolana.requestId}`]:[],...!((p=(d=m==null?void 0:m.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||p===void 0)&&p.length?["Resources",...m.signInWithSolana.resources.map(S=>`- ${S}`)]:[]].join(`
`);const j=await y.signMessage(new TextEncoder().encode(v),"utf8");if(!j||!(j instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");_=j}}try{const{data:b,error:h}=await B(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:K0(_)},!((g=e.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(x=e.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:ht});if(h)throw h;return!b||!b.session||!b.user?{data:{user:null,session:null},error:new ks}:(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),{data:Object.assign({},b),error:h})}catch(b){if(z(b))return{data:{user:null,session:null},error:b};throw b}}async _exchangeCodeForSession(e){const n=await Yt(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:l}=await B(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:ht});if(await kt(this.storage,`${this.storageKey}-code-verifier`),l)throw l;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new ks}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:l})}catch(i){if(z(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:n,provider:r,token:s,access_token:i,nonce:l}=e,o=await B(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:l,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:ht}),{data:c,error:u}=o;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new ks}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(n){if(z(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,s,i,l;try{if("email"in e){const{email:o,options:c}=e;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await xn(this.storage,this.storageKey));const{error:p}=await B(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:p}}if("phone"in e){const{phone:o,options:c}=e,{data:u,error:d}=await B(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(l=c==null?void 0:c.channel)!==null&&l!==void 0?l:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new Ss("You must provide either an email or phone number.")}catch(o){if(z(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(e){var n,r;try{let s,i;"options"in e&&(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:l,error:o}=await B(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:ht});if(o)throw o;if(!l)throw new Error("An error occurred on token verification.");const c=l.session,u=l.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(z(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var n,r,s;try{let i=null,l=null;return this.flowType==="pkce"&&([i,l]=await xn(this.storage,this.storageKey)),await B(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:l}),headers:this.headers,xform:fg})}catch(i){if(z(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new St;const{error:s}=await B(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(z(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:s,options:i}=e,{error:l}=await B(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:l}}else if("phone"in e){const{phone:r,type:s,options:i}=e,{data:l,error:o}=await B(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:o}}throw new Ss("You must provide either an email or phone number and a type")}catch(n){if(z(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Yt(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<ca:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const l=await Yt(this.userStorage,this.storageKey+"-user");l!=null&&l.user?e.user=l.user:e.user=ha()}if(this.storage.isServer&&e.user){let l=this.suppressGetSessionWarning;e=new Proxy(e,{get:(c,u,d)=>(!l&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),l=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:e},error:null}}const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await B(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:At}):await this._useSession(async n=>{var r,s,i;const{data:l,error:o}=n;if(o)throw o;return!(!((r=l.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new St}:await B(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=l.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:At})})}catch(n){if(z(n))return M0(n)&&(await this._removeSession(),await kt(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new St;const l=s.session;let o=null,c=null;this.flowType==="pkce"&&e.email!=null&&([o,c]=await xn(this.storage,this.storageKey));const{data:u,error:d}=await B(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:o,code_challenge_method:c}),jwt:l.access_token,xform:At});if(d)throw d;return l.user=u.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),{data:{user:l.user},error:null}})}catch(r){if(z(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new St;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:l}=da(e.access_token);if(l.exp&&(r=l.exp,s=r<=n),s){const{session:o,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!o)return{data:{user:null,session:null},error:null};i=o}else{const{data:o,error:c}=await this._getUser(e.access_token);if(c)throw c;i={access_token:e.access_token,refresh_token:e.refresh_token,user:o.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(z(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:l,error:o}=n;if(o)throw o;e=(r=l.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new St;const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(z(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!Qe())throw new Cs("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Cs(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Fc("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Cs("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Fc("No code detected.");const{data:f,error:m}=await this._exchangeCodeForSession(e.code);if(m)throw m;const y=new URL(window.location.href);return y.searchParams.delete("code"),window.history.replaceState(window.history.state,"",y.toString()),{data:{session:f.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:l,expires_in:o,expires_at:c,token_type:u}=e;if(!i||!o||!l||!u)throw new Cs("No session defined in URL");const d=Math.round(Date.now()/1e3),p=parseInt(o);let g=d+p;c&&(g=parseInt(c));const x=g-d;x*1e3<=bn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${x}s, should have been closer to ${p}s`);const v=g-p;d-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,g,d):d-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,g,d);const{data:_,error:b}=await this._getUser(i);if(b)throw b;const h={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:p,expires_at:g,refresh_token:l,token_type:u,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:h,redirectType:e.type},error:null}}catch(r){if(z(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Yt(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const l=(r=s.session)===null||r===void 0?void 0:r.access_token;if(l){const{error:o}=await this.admin.signOut(l,e);if(o&&!(U0(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return e!=="others"&&(await this._removeSession(),await kt(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=G0(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:l}=n;if(l)throw l;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await xn(this.storage,this.storageKey,!0));try{return await B(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(z(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(z(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var l,o,c,u,d;const{data:p,error:g}=i;if(g)throw g;const x=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(l=e.options)===null||l===void 0?void 0:l.redirectTo,scopes:(o=e.options)===null||o===void 0?void 0:o.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await B(this.fetch,"GET",x,{headers:this.headers,jwt:(d=(u=p.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Qe()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(z(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:l}=n;if(l)throw l;return await B(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(z(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await Z0(async s=>(s>0&&await X0(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await B(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:ht})),(s,i)=>{const l=200*Math.pow(2,s);return i&&ua(i)&&Date.now()+l-r<bn})}catch(r){if(this._debug(n,"error",r),z(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),Qe()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await Yt(this.storage,this.storageKey);if(s&&this.userStorage){let l=await Yt(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!l&&(l={user:s.user},await Nn(this.userStorage,this.storageKey+"-user",l)),s.user=(e=l==null?void 0:l.user)!==null&&e!==void 0?e:ha()}else if(s&&!s.user&&!s.user){const l=await Yt(this.storage,this.storageKey+"-user");l&&(l!=null&&l.user)?(s.user=l.user,await kt(this.storage,this.storageKey+"-user"),await Nn(this.storage,this.storageKey,s)):s.user=ha()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const i=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<ca;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${ca}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:l}=await this._callRefreshToken(s.refresh_token);l&&(console.error(l),ua(l)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:l,error:o}=await this._getUser(s.access_token);!o&&(l!=null&&l.user)?(s.user=l.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(l){console.error("Error getting user data:",l),this._debug(r,"error getting user data, skipping SIGNED_IN notification",l)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new St;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Ri;const{data:i,error:l}=await this._refreshAccessToken(e);if(l)throw l;if(!i.session)throw new St;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const o={session:i.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(i){if(this._debug(s,"error",i),z(i)){const l={session:null,error:i};return ua(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(l),l}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,n,r=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const i=[],l=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(e,n)}catch(c){i.push(c)}});if(await Promise.all(l),i.length>0){for(let o=0;o<i.length;o+=1)console.error(i[o]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Nn(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const i=qc(s);await Nn(this.storage,this.storageKey,i)}else{const s=qc(n);await Nn(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await kt(this.storage,this.storageKey),await kt(this.storage,this.storageKey+"-code-verifier"),await kt(this.storage,this.storageKey+"-user"),this.userStorage&&await kt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Qe()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),bn);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-e)/bn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${bn}ms, refresh threshold is ${ml} ticks`),s<=ml&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof $h)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Qe()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,l]=await xn(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(l)}`});s.push(o.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await B(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(z(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:l}=n;if(l)return{data:null,error:l};const o=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:c,error:u}=await B(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(n){if(z(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const{data:l,error:o}=await B(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:o})})}catch(n){if(z(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await B(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(z(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(e==null?void 0:e.factors)||[],s=r.filter(l=>l.factor_type==="totp"&&l.status==="verified"),i=r.filter(l=>l.factor_type==="phone"&&l.status==="verified");return{data:{all:r,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=da(s.access_token);let o=null;l.aal&&(o=l.aal);let c=o;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(p=>p.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");const d=l.amr||[];return{data:{currentLevel:o,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(o=>o.kid===e);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(o=>o.kid===e),r&&this.jwks_cached_at+L0>s)return r;const{data:i,error:l}=await B(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,r=i.keys.find(o=>o.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:x,error:v}=await this.getSession();if(v||!x.session)return{data:null,error:v};r=x.session.access_token}const{header:s,payload:i,signature:l,raw:{header:o,payload:c}}=da(r);n!=null&&n.allowExpired||ag(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:x}=await this.getUser(r);if(x)throw x;return{data:{claims:i,header:s,signature:l},error:null}}const d=lg(s.alg),p=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,p,l,q0(`${o}.${c}`)))throw new yl("Invalid JWT signature");return{data:{claims:i,header:s,signature:l},error:null}}catch(r){if(z(r))return{data:null,error:r};throw r}}}Qr.nextInstanceID=0;const bg=Qr;class Ng extends bg{constructor(e){super(e)}}var kg=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(l){l(i)})}return new(n||(n=Promise))(function(i,l){function o(d){try{u(r.next(d))}catch(p){l(p)}}function c(d){try{u(r.throw(d))}catch(p){l(p)}}function u(d){d.done?i(d.value):s(d.value).then(o,c)}u((r=r.apply(t,e||[])).next())})};class Sg{constructor(e,n,r){var s,i,l;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const o=P0(e),c=new URL(o);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const u=`sb-${c.hostname.split(".")[0]}-auth-token`,d={db:j0,realtime:N0,auth:Object.assign(Object.assign({},b0),{storageKey:u}),global:_0},p=A0(r??{},d);this.storageKey=(s=p.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=p.global.headers)!==null&&i!==void 0?i:{},p.accessToken?(this.accessToken=p.accessToken,this.auth=new Proxy({},{get:(g,x)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(x)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((l=p.auth)!==null&&l!==void 0?l:{},this.headers,p.global.fetch),this.fetch=E0(n,this._getAccessToken.bind(this),p.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},p.realtime)),this.rest=new Bp(new URL("rest/v1",c).href,{headers:this.headers,schema:p.db.schema,fetch:this.fetch}),this.storage=new v0(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),p.accessToken||this._listenForAuthEvents()}get functions(){return new wp(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return kg(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:i,storageKey:l,flowType:o,lock:c,debug:u},d,p){const g={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Ng({url:this.authUrl.href,headers:Object.assign(Object.assign({},g),d),storageKey:l,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:i,flowType:o,lock:c,debug:u,fetch:p,hasCustomAuthorizationHeader:Object.keys(this.headers).some(x=>x.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new i0(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Cg=(t,e,n)=>new Sg(t,e,n);function Eg(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}Eg()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Tg="https://sayvujudnipdunikpnhb.supabase.co",Pg="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InNheXZ1anVkbmlwZHVuaWtwbmhiIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTcwNzk3MjEsImV4cCI6MjA3MjY1NTcyMX0.EXls7nlV6HAKzAdlGIK8yYK_U1VLIa3Aldd1d-9Y0tc",F=Cg(Tg,Pg),Lh=I.createContext(void 0);function Ag({children:t}){const[e,n]=I.useState(null),[r,s]=I.useState(null),[i,l]=I.useState(null),[o,c]=I.useState(!0);I.useEffect(()=>{F.auth.getSession().then(({data:{session:f}})=>{l(f),n((f==null?void 0:f.user)??null),f!=null&&f.user?u(f.user.id):c(!1)});const{data:{subscription:h}}=F.auth.onAuthStateChange(async(f,m)=>{l(m),n((m==null?void 0:m.user)??null),m!=null&&m.user?await u(m.user.id):(s(null),c(!1))});return()=>h.unsubscribe()},[]);const u=async h=>{try{const{data:f,error:m}=await F.from("user_profiles").select("*").eq("user_id",h).single();m?console.error("Error fetching user profile:",m):s(f)}catch(f){console.error("Error fetching user profile:",f)}finally{c(!1)}},d=async(h,f)=>{const{error:m}=await F.auth.signInWithPassword({email:h,password:f});return{error:m}},p=async(h,f,m)=>{const{error:y}=await F.auth.signUp({email:h,password:f,options:{data:{full_name:m}}});return{error:y}},g=async()=>{await F.auth.signOut()},x=(r==null?void 0:r.role)==="admin"||(r==null?void 0:r.role)==="super_admin",v=(r==null?void 0:r.role)==="super_admin",_=(r==null?void 0:r.is_approved)===!0,b={user:e,profile:r,session:i,loading:o,signIn:d,signUp:p,signOut:g,isAdmin:x,isSuperAdmin:v,isApproved:_};return a.jsx(Lh.Provider,{value:b,children:t})}function gn(){const t=I.useContext(Lh);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Og={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rg=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),V=(t,e)=>{const n=I.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:l,className:o="",children:c,...u},d)=>I.createElement("svg",{ref:d,...Og,width:s,height:s,stroke:r,strokeWidth:l?Number(i)*24/Number(s):i,className:["lucide",`lucide-${Rg(t)}`,o].join(" "),...u},[...e.map(([p,g])=>I.createElement(p,g)),...Array.isArray(c)?c:[c]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _o=V("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ig=V("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $g=V("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vl=V("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hn=V("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jo=V("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lg=V("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xn=V("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ma=V("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dg=V("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bo=V("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ug=V("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mg=V("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zg=V("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dh=V("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fg=V("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bg=V("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vt=V("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hg=V("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hi=V("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xl=V("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vg=V("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uh=V("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yr=V("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wg=V("SkipForward",[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wl=V("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qg=V("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Or=V("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wt=V("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const No=V("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mh=V("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kg=V("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rt=V("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zh=V("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function Jg(){const{signIn:t,signUp:e}=gn(),[n,r]=I.useState(!1),[s,i]=I.useState(!1),[l,o]=I.useState(null),[c,u]=I.useState({email:"",password:"",fullName:""}),d=async g=>{g.preventDefault(),i(!0),o(null);try{if(n){const{error:x}=await e(c.email,c.password,c.fullName);x?o({type:"error",text:x.message}):(o({type:"success",text:"Account created successfully! Please wait for admin approval before logging in."}),r(!1),u({email:"",password:"",fullName:""}))}else{const{error:x}=await t(c.email,c.password);x&&o({type:"error",text:x.message})}}catch{o({type:"error",text:"An unexpected error occurred"})}finally{i(!1)}},p=g=>{u(x=>({...x,[g.target.name]:g.target.value}))};return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:a.jsxs("div",{className:"max-w-md w-full",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-blue-600 rounded-full mb-4",children:a.jsx(Yr,{className:"w-8 h-8 text-white"})}),a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Sales Dashboard"}),a.jsx("p",{className:"text-gray-600 mt-2",children:n?"Create your account":"Sign in to your account"})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[l&&a.jsxs("div",{className:`mb-6 p-4 rounded-lg flex items-center space-x-2 ${l.type==="success"?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"}`,children:[l.type==="success"?a.jsx(jo,{className:"w-5 h-5 text-green-500"}):a.jsx(_o,{className:"w-5 h-5 text-red-500"}),a.jsx("span",{className:l.type==="success"?"text-green-700":"text-red-700",children:l.text})]}),a.jsxs("form",{onSubmit:d,className:"space-y-6",children:[n&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name"}),a.jsxs("div",{className:"relative",children:[a.jsx(Kg,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx("input",{type:"text",name:"fullName",value:c.fullName,onChange:p,required:n,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your full name"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),a.jsxs("div",{className:"relative",children:[a.jsx(Dh,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx("input",{type:"email",name:"email",value:c.email,onChange:p,required:!0,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your email"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),a.jsxs("div",{className:"relative",children:[a.jsx(Ug,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx("input",{type:"password",name:"password",value:c.password,onChange:p,required:!0,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your password",minLength:6})]})]}),a.jsx("button",{type:"submit",disabled:s,className:"w-full flex items-center justify-center space-x-2 bg-blue-600 text-white py-3 px-4 rounded-lg hover:bg-blue-700 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:s?a.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):a.jsxs(a.Fragment,{children:[n?a.jsx(Mh,{className:"w-5 h-5"}):a.jsx(Mg,{className:"w-5 h-5"}),a.jsx("span",{children:n?"Create Account":"Sign In"})]})})]}),a.jsx("div",{className:"mt-6 text-center",children:a.jsx("button",{onClick:()=>{r(!n),o(null),u({email:"",password:"",fullName:""})},className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:n?"Already have an account? Sign in":"Don't have an account? Sign up"})}),!n&&a.jsx("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:a.jsx("p",{className:"text-xs text-gray-600 text-center",children:"New accounts require admin approval before access is granted."})})]})]})})}function Gg(){const{signOut:t,profile:e}=gn();return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-yellow-50 to-orange-100 flex items-center justify-center p-4",children:a.jsxs("div",{className:"max-w-md w-full",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-yellow-500 rounded-full mb-4",children:a.jsx(Xn,{className:"w-8 h-8 text-white"})}),a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Account Pending Approval"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Your account is waiting for administrator approval"})]}),a.jsx("div",{className:"bg-white rounded-xl shadow-lg p-8",children:a.jsxs("div",{className:"text-center space-y-4",children:[a.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 bg-yellow-100 rounded-full",children:a.jsx(Yr,{className:"w-6 h-6 text-yellow-600"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Account Created Successfully"}),a.jsxs("p",{className:"text-gray-600 mt-2",children:["Welcome, ",(e==null?void 0:e.full_name)||(e==null?void 0:e.email),"!"]})]}),a.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx(Dh,{className:"w-5 h-5 text-yellow-600 mt-0.5"}),a.jsxs("div",{className:"text-left",children:[a.jsx("p",{className:"text-sm font-medium text-yellow-800",children:"Waiting for Admin Approval"}),a.jsx("p",{className:"text-sm text-yellow-700 mt-1",children:"An administrator needs to approve your account before you can access the dashboard. You'll receive an email notification once your account is approved."})]})]})}),a.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Account Email:"})," ",e==null?void 0:e.email]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Account Role:"})," ",e==null?void 0:e.role]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Status:"})," Pending Approval"]})]}),a.jsx("button",{onClick:t,className:"w-full bg-gray-600 text-white py-3 px-4 rounded-lg hover:bg-gray-700 transition-colors",children:"Sign Out"})]})}),a.jsx("div",{className:"mt-6 text-center",children:a.jsx("p",{className:"text-sm text-gray-600",children:"Need help? Contact your system administrator."})})]})})}function as(){const{profile:t}=gn(),[e,n]=I.useState([]),[r,s]=I.useState([]),[i,l]=I.useState([]),[o,c]=I.useState([]),[u,d]=I.useState(!0),[p,g]=I.useState(null);I.useEffect(()=>{if(!(t!=null&&t.is_approved))return;const N=setInterval(()=>{x()},3e5);return()=>clearInterval(N)},[t==null?void 0:t.is_approved]);const x=async()=>{if(!(t!=null&&t.is_approved)){d(!1);return}try{d(!0),g(null);const[N,E,O,W]=await Promise.all([F.from("campaigns").select("*").order("name"),F.from("campaign_teams").select("*").order("name"),F.from("agents").select("*").order("name"),F.from("call_data").select("*").order("date",{ascending:!1})]);if(N.error)throw N.error;if(E.error)throw E.error;if(O.error)throw O.error;if(W.error)throw W.error;n(N.data||[]),s(E.data||[]),l(O.data||[]),c(W.data||[])}catch(N){g(N instanceof Error?N.message:"An error occurred")}finally{d(!1)}};I.useEffect(()=>{if(!(t!=null&&t.is_approved))return;const N=F.channel("campaigns-changes").on("postgres_changes",{event:"*",schema:"public",table:"campaigns"},U=>{U.eventType==="INSERT"?n(J=>[...J,U.new].sort((L,X)=>L.name.localeCompare(X.name))):U.eventType==="UPDATE"?n(J=>J.map(L=>L.id===U.new.id?U.new:L).sort((L,X)=>L.name.localeCompare(X.name))):U.eventType==="DELETE"&&n(J=>J.filter(L=>L.id!==U.old.id))}).subscribe(),E=F.channel("campaign-teams-changes").on("postgres_changes",{event:"*",schema:"public",table:"campaign_teams"},U=>{U.eventType==="INSERT"?s(J=>[...J,U.new].sort((L,X)=>L.name.localeCompare(X.name))):U.eventType==="UPDATE"?s(J=>J.map(L=>L.id===U.new.id?U.new:L).sort((L,X)=>L.name.localeCompare(X.name))):U.eventType==="DELETE"&&s(J=>J.filter(L=>L.id!==U.old.id))}).subscribe(),O=F.channel("agents-changes").on("postgres_changes",{event:"*",schema:"public",table:"agents"},U=>{U.eventType==="INSERT"?l(J=>[...J,U.new].sort((L,X)=>L.name.localeCompare(X.name))):U.eventType==="UPDATE"?l(J=>J.map(L=>L.id===U.new.id?U.new:L).sort((L,X)=>L.name.localeCompare(X.name))):U.eventType==="DELETE"&&l(J=>J.filter(L=>L.id!==U.old.id))}).subscribe(),W=F.channel("call-data-changes").on("postgres_changes",{event:"*",schema:"public",table:"call_data"},U=>{U.eventType==="INSERT"?c(J=>[U.new,...J].sort((L,X)=>new Date(X.date).getTime()-new Date(L.date).getTime())):U.eventType==="UPDATE"?c(J=>J.map(L=>L.id===U.new.id?U.new:L).sort((L,X)=>new Date(X.date).getTime()-new Date(L.date).getTime())):U.eventType==="DELETE"&&c(J=>J.filter(L=>L.id!==U.old.id))}).subscribe();return()=>{N.unsubscribe(),E.unsubscribe(),O.unsubscribe(),W.unsubscribe()}},[t==null?void 0:t.is_approved]);const v=async N=>{const{data:E,error:O}=await F.from("campaigns").insert(N).select().single();if(O)throw O;return E},_=async(N,E)=>{const{data:O,error:W}=await F.from("campaigns").update(E).eq("id",N).select().single();if(W)throw W;return O},b=async N=>{const{error:E}=await F.from("campaigns").delete().eq("id",N);if(E)throw E},h=async N=>{const{data:E,error:O}=await F.from("campaign_teams").insert(N).select().single();if(O)throw O;return E},f=async(N,E)=>{const{data:O,error:W}=await F.from("campaign_teams").update(E).eq("id",N).select().single();if(W)throw W;return O},m=async N=>{const{error:E}=await F.from("campaign_teams").delete().eq("id",N);if(E)throw E},y=async N=>{const{data:E,error:O}=await F.from("agents").insert(N).select().single();if(O)throw O;return E},w=async N=>{const{data:E,error:O}=await F.from("agents").insert(N).select();if(O)throw O;return E},j=async(N,E)=>{const{data:O,error:W}=await F.from("agents").update(E).eq("id",N).select().single();if(W)throw W;return O},S=async N=>{const{error:E}=await F.from("agents").delete().eq("id",N);if(E)throw E},k=async N=>{const{data:E,error:O}=await F.from("call_data").upsert(N,{onConflict:"agent_id,date,hour"}).select();if(O)throw O;return E},T=async()=>{try{d(!0),await Promise.all([F.from("call_data").delete().neq("id","00000000-0000-0000-0000-000000000000"),F.from("agent_notes").delete().neq("id","00000000-0000-0000-0000-000000000000"),F.from("agents").delete().neq("id","00000000-0000-0000-0000-000000000000"),F.from("campaign_teams").delete().neq("id","00000000-0000-0000-0000-000000000000"),F.from("campaigns").delete().neq("id","00000000-0000-0000-0000-000000000000")])}catch(N){g(N instanceof Error?N.message:"Failed to clear data")}finally{d(!1)}};return I.useEffect(()=>{x()},[t==null?void 0:t.is_approved]),{campaigns:e,campaignTeams:r,agents:i,callData:o,loading:u,error:p,fetchData:x,createCampaign:v,updateCampaign:_,deleteCampaign:b,createCampaignTeam:h,updateCampaignTeam:f,deleteCampaignTeam:m,createAgent:y,createAgents:w,updateAgent:j,deleteAgent:S,upsertCallData:k,clearAllData:T}}function Qg(){const{isSuperAdmin:t}=gn(),{campaigns:e,campaignTeams:n,createCampaign:r,updateCampaign:s,deleteCampaign:i,createCampaignTeam:l,updateCampaignTeam:o,deleteCampaignTeam:c}=as(),[u,d]=I.useState("users"),[p,g]=I.useState([]),[x,v]=I.useState([]),[_,b]=I.useState(!0),[h,f]=I.useState(!1),[m,y]=I.useState(!1),[w,j]=I.useState(null),[S,k]=I.useState(null),[T,N]=I.useState({name:"",description:"",color:"#3b82f6"}),[E,O]=I.useState({name:"",campaign_id:"",color:"#10b981"});I.useEffect(()=>{W()},[]);const W=async()=>{try{const[C,$]=await Promise.all([F.from("user_profiles").select("*").order("created_at",{ascending:!1}),F.from("user_permissions").select(`
            *,
            user_profiles!inner(email),
            campaigns!inner(name)
          `)]);if(C.data&&g(C.data),$.data){const q=$.data.map(be=>({...be,user_email:be.user_profiles.email,campaign_name:be.campaigns.name}));v(q)}}catch(C){console.error("Error fetching admin data:",C)}finally{b(!1)}},U=async(C,$)=>{try{const{error:q}=await F.from("user_profiles").update({is_approved:$}).eq("user_id",C);if(q)throw q;g(be=>be.map(ae=>ae.user_id===C?{...ae,is_approved:$}:ae))}catch(q){console.error("Error updating user approval:",q)}},J=async(C,$)=>{try{const{error:q}=await F.from("user_profiles").update({role:$}).eq("user_id",C);if(q)throw q;g(be=>be.map(ae=>ae.user_id===C?{...ae,role:$}:ae))}catch(q){console.error("Error updating user role:",q)}},L=async(C,$)=>{try{const{error:q}=await F.from("user_permissions").update($).eq("id",C);if(q)throw q;v(be=>be.map(ae=>ae.id===C?{...ae,...$}:ae))}catch(q){console.error("Error updating permission:",q)}},X=async()=>{if(T.name)try{await r(T),N({name:"",description:"",color:"#3b82f6"}),f(!1)}catch(C){console.error("Error creating campaign:",C)}},A=async()=>{if(!(!E.name||!E.campaign_id))try{await l(E),O({name:"",campaign_id:"",color:"#10b981"}),y(!1)}catch(C){console.error("Error creating team:",C)}},D=async C=>{if(confirm("Are you sure you want to delete this campaign? This will also delete all associated teams and data."))try{await i(C)}catch($){console.error("Error deleting campaign:",$)}},M=async C=>{if(confirm("Are you sure you want to delete this team?"))try{await c(C)}catch($){console.error("Error deleting team:",$)}},Z=async()=>{if(confirm("Are you sure you want to clear ALL data? This action cannot be undone."))try{await Promise.all([F.from("call_data").delete().neq("id","00000000-0000-0000-0000-000000000000"),F.from("agent_notes").delete().neq("id","00000000-0000-0000-0000-000000000000"),F.from("agents").delete().neq("id","00000000-0000-0000-0000-000000000000"),F.from("campaign_teams").delete().neq("id","00000000-0000-0000-0000-000000000000"),F.from("campaigns").delete().neq("id","00000000-0000-0000-0000-000000000000")]),alert("All data cleared successfully"),W()}catch(C){console.error("Error clearing data:",C),alert("Error clearing data")}};return _?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:[a.jsxs("h2",{className:"text-2xl font-bold text-gray-900 flex items-center",children:[a.jsx(Yr,{className:"w-6 h-6 mr-2 text-blue-600"}),"Admin Panel"]}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Manage users, permissions, and system settings"})]}),a.jsx("div",{className:"flex space-x-1 bg-gray-100 p-1 rounded-lg",children:[{id:"users",label:"User Management",icon:rt},{id:"permissions",label:"Permissions",icon:Yr},{id:"settings",label:"Campaigns & Settings",icon:Uh}].map(C=>a.jsxs("button",{onClick:()=>d(C.id),className:`flex items-center space-x-2 px-4 py-2 rounded-md font-medium transition-all ${u===C.id?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:[a.jsx(C.icon,{className:"w-4 h-4"}),a.jsx("span",{children:C.label})]},C.id))}),u==="users"&&a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[a.jsxs("div",{className:"p-6 border-b border-gray-100",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"User Management"}),a.jsx("p",{className:"text-gray-600",children:"Approve users and manage their roles"})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-sm font-medium text-gray-600",children:"User"}),a.jsx("th",{className:"px-6 py-3 text-left text-sm font-medium text-gray-600",children:"Role"}),a.jsx("th",{className:"px-6 py-3 text-left text-sm font-medium text-gray-600",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-sm font-medium text-gray-600",children:"Created"}),a.jsx("th",{className:"px-6 py-3 text-left text-sm font-medium text-gray-600",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-100",children:p.map(C=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-gray-900",children:C.full_name||"No name"}),a.jsx("div",{className:"text-sm text-gray-600",children:C.email})]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("select",{value:C.role,onChange:$=>J(C.user_id,$.target.value),className:"text-sm border border-gray-300 rounded px-2 py-1",disabled:!t,children:[a.jsx("option",{value:"standard",children:"Standard User"}),a.jsx("option",{value:"admin",children:"Admin User"}),t&&a.jsx("option",{value:"super_admin",children:"Super Admin"})]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${C.is_approved?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:C.is_approved?"Approved":"Pending"})}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:new Date(C.created_at).toLocaleDateString()}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex space-x-2",children:[!C.is_approved&&a.jsx("button",{onClick:()=>U(C.user_id,!0),className:"text-green-600 hover:text-green-800",title:"Approve User",children:a.jsx(Lg,{className:"w-4 h-4"})}),C.is_approved&&C.role!=="super_admin"&&a.jsx("button",{onClick:()=>U(C.user_id,!1),className:"text-red-600 hover:text-red-800",title:"Revoke Approval",children:a.jsx(zh,{className:"w-4 h-4"})})]})})]},C.id))})]})})]}),u==="permissions"&&a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[a.jsxs("div",{className:"p-6 border-b border-gray-100",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Campaign Permissions"}),a.jsx("p",{className:"text-gray-600",children:"Manage user access to campaigns"})]}),a.jsx("div",{className:"p-6",children:a.jsx("div",{className:"space-y-4",children:x.map(C=>a.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[a.jsx("div",{className:"flex items-center justify-between mb-3",children:a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-gray-900",children:C.user_email}),a.jsx("div",{className:"text-sm text-gray-600",children:C.campaign_name})]})}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("label",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"checkbox",checked:C.can_view,onChange:$=>L(C.id,{can_view:$.target.checked}),className:"rounded border-gray-300"}),a.jsx("span",{className:"text-sm text-gray-700",children:"Can View"})]}),a.jsxs("label",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"checkbox",checked:C.can_edit,onChange:$=>L(C.id,{can_edit:$.target.checked}),className:"rounded border-gray-300"}),a.jsx("span",{className:"text-sm text-gray-700",children:"Can Edit"})]}),a.jsxs("label",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"checkbox",checked:C.can_delete,onChange:$=>L(C.id,{can_delete:$.target.checked}),className:"rounded border-gray-300"}),a.jsx("span",{className:"text-sm text-gray-700",children:"Can Delete"})]})]})]},C.id))})})]}),u==="settings"&&a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[a.jsxs("div",{className:"p-6 border-b border-gray-100",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Campaigns & System Settings"}),a.jsx("p",{className:"text-gray-600",children:"Manage campaigns, teams, and system-wide settings"})]}),a.jsx("div",{className:"p-6",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h4",{className:"font-medium text-gray-900",children:"Campaign Management"}),a.jsxs("button",{onClick:()=>f(!0),className:"flex items-center space-x-2 bg-blue-600 text-white px-3 py-1 rounded text-sm hover:bg-blue-700",children:[a.jsx(hi,{className:"w-4 h-4"}),a.jsx("span",{children:"Add Campaign"})]})]}),a.jsx("div",{className:"space-y-2",children:e.map(C=>a.jsxs("div",{className:"flex items-center justify-between p-3 border border-gray-100 rounded",children:[w===C.id?a.jsxs("div",{className:"flex items-center space-x-2 flex-1",children:[a.jsx("input",{type:"text",defaultValue:C.name,className:"border border-gray-300 rounded px-2 py-1 text-sm",onBlur:$=>{s(C.id,{name:$.target.value}),j(null)}}),a.jsx("input",{type:"color",defaultValue:C.color,className:"w-8 h-8 border border-gray-300 rounded",onChange:$=>s(C.id,{color:$.target.value})})]}):a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-4 h-4 rounded",style:{backgroundColor:C.color}}),a.jsx("span",{className:"font-medium",children:C.name}),a.jsxs("span",{className:"text-sm text-gray-500",children:["(",n.filter($=>$.campaign_id===C.id).length," teams)"]})]}),a.jsxs("div",{className:"flex space-x-2",children:[w===C.id?a.jsx("button",{onClick:()=>j(null),className:"text-green-600 hover:text-green-800",children:a.jsx(xl,{className:"w-4 h-4"})}):a.jsx("button",{onClick:()=>j(C.id),className:"text-blue-600 hover:text-blue-800",children:a.jsx(wl,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>D(C.id),className:"text-red-600 hover:text-red-800",children:a.jsx(Or,{className:"w-4 h-4"})})]})]},C.id))})]}),a.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h4",{className:"font-medium text-gray-900",children:"Team Management"}),a.jsxs("button",{onClick:()=>y(!0),className:"flex items-center space-x-2 bg-green-600 text-white px-3 py-1 rounded text-sm hover:bg-green-700",children:[a.jsx(hi,{className:"w-4 h-4"}),a.jsx("span",{children:"Add Team"})]})]}),a.jsx("div",{className:"space-y-2",children:n.map(C=>{const $=e.find(q=>q.id===C.campaign_id);return a.jsxs("div",{className:"flex items-center justify-between p-3 border border-gray-100 rounded",children:[S===C.id?a.jsxs("div",{className:"flex items-center space-x-2 flex-1",children:[a.jsx("input",{type:"text",defaultValue:C.name,className:"border border-gray-300 rounded px-2 py-1 text-sm",onBlur:q=>{o(C.id,{name:q.target.value}),k(null)}}),a.jsx("input",{type:"color",defaultValue:C.color,className:"w-8 h-8 border border-gray-300 rounded",onChange:q=>o(C.id,{color:q.target.value})})]}):a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-4 h-4 rounded",style:{backgroundColor:C.color}}),a.jsx("span",{className:"font-medium",children:C.name}),a.jsxs("span",{className:"text-sm text-gray-500",children:["(",$==null?void 0:$.name,")"]})]}),a.jsxs("div",{className:"flex space-x-2",children:[S===C.id?a.jsx("button",{onClick:()=>k(null),className:"text-green-600 hover:text-green-800",children:a.jsx(xl,{className:"w-4 h-4"})}):a.jsx("button",{onClick:()=>k(C.id),className:"text-blue-600 hover:text-blue-800",children:a.jsx(wl,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>M(C.id),className:"text-red-600 hover:text-red-800",children:a.jsx(Or,{className:"w-4 h-4"})})]})]},C.id)})})]}),a.jsxs("div",{className:"border border-red-200 rounded-lg p-4 bg-red-50",children:[a.jsx("h4",{className:"font-medium text-red-900 mb-2",children:"Danger Zone"}),a.jsx("p",{className:"text-sm text-red-700 mb-4",children:"This action will permanently delete all campaigns, teams, agents, and call data. This cannot be undone."}),a.jsxs("button",{onClick:Z,className:"flex items-center space-x-2 bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors",children:[a.jsx(Or,{className:"w-4 h-4"}),a.jsx("span",{children:"Clear All Data"})]})]})]})})]}),h&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-md",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Add New Campaign"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),a.jsx("input",{type:"text",value:T.name,onChange:C=>N($=>({...$,name:C.target.value})),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),a.jsx("textarea",{value:T.description,onChange:C=>N($=>({...$,description:C.target.value})),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Color"}),a.jsx("input",{type:"color",value:T.color,onChange:C=>N($=>({...$,color:C.target.value})),className:"w-full h-10 border border-gray-300 rounded-lg"})]})]}),a.jsxs("div",{className:"flex space-x-3 mt-6",children:[a.jsx("button",{onClick:X,className:"flex-1 bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors",children:"Add Campaign"}),a.jsx("button",{onClick:()=>f(!1),className:"flex-1 bg-gray-300 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-400 transition-colors",children:"Cancel"})]})]})}),m&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-md",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Add New Team"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),a.jsx("input",{type:"text",value:E.name,onChange:C=>O($=>({...$,name:C.target.value})),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Campaign"}),a.jsxs("select",{value:E.campaign_id,onChange:C=>O($=>({...$,campaign_id:C.target.value})),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"",children:"Select Campaign"}),e.map(C=>a.jsx("option",{value:C.id,children:C.name},C.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Color"}),a.jsx("input",{type:"color",value:E.color,onChange:C=>O($=>({...$,color:C.target.value})),className:"w-full h-10 border border-gray-300 rounded-lg"})]})]}),a.jsxs("div",{className:"flex space-x-3 mt-6",children:[a.jsx("button",{onClick:A,className:"flex-1 bg-green-600 text-white py-2 px-4 rounded-lg hover:bg-green-700 transition-colors",children:"Add Team"}),a.jsx("button",{onClick:()=>y(!1),className:"flex-1 bg-gray-300 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-400 transition-colors",children:"Cancel"})]})]})})]})}function Oe(t){const e=Math.floor(t/60),n=Math.round(t%60);return e>0?`${e}h ${n}m`:`${n}m`}function xr(t){const e=t>=12?"PM":"AM";return`${t>12?t-12:t===0?12:t}:00 ${e}`}function Yg({campaigns:t,agents:e,campaignTeams:n,callData:r,date:s}){const[i,l]=I.useState(""),[o,c]=I.useState(""),[u,d]=I.useState(null),[p,g]=I.useState(new Date(Date.now()-7*24*60*60*1e3).toISOString().split("T")[0]),[x,v]=I.useState(new Date().toISOString().split("T")[0]),_=e.map(w=>{const j=r.filter(N=>N.agent_id===w.id&&N.date===s),S=j.reduce((N,E)=>N+E.calls_made,0),k=j.reduce((N,E)=>N+E.total_call_time,0),T=j.reduce((N,E)=>N+E.sales_made,0);return{agentId:w.id,date:s,totalCalls:S,totalCallTime:k,totalSales:T,averageCallTime:S>0?k/S:0}}),b=e.filter(w=>{const j=w.name.toLowerCase().includes(i.toLowerCase())||w.email.toLowerCase().includes(i.toLowerCase()),S=!o||w.campaign_team_id===o;return j&&S}),h=w=>{var j;return((j=n.find(S=>S.id===w))==null?void 0:j.name)||"No Team"},f=w=>{var j;return((j=n.find(S=>S.id===w))==null?void 0:j.color)||"#6b7280"},m=w=>{var S;const j=n.find(k=>k.id===w);return((S=t.find(k=>k.id===(j==null?void 0:j.campaign_id)))==null?void 0:S.name)||"No Campaign"},y=w=>{const j=r.filter(k=>k.agent_id===w&&k.date>=p&&k.date<=x),S=new Map;return j.forEach(k=>{const T=S.get(k.date)||{calls:0,callTime:0,sales:0};S.set(k.date,{calls:T.calls+k.calls_made,callTime:T.callTime+k.total_call_time,sales:T.sales+k.sales_made})}),Array.from(S.entries()).map(([k,T])=>({date:k,...T})).sort((k,T)=>k.date.localeCompare(T.date))};return a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"relative",children:[a.jsx(Vg,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),a.jsx("input",{type:"text",placeholder:"Search agents...",value:i,onChange:w=>l(w.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(bo,{className:"w-4 h-4 text-gray-400"}),a.jsxs("select",{value:o,onChange:w=>c(w.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"",children:"All Teams"}),n.map(w=>a.jsx("option",{value:w.id,children:w.name},w.id))]})]})]})}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:b.map(w=>{const j=_.find(k=>k.agentId===w.id),S=f(w.team_id);return a.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden hover:shadow-md transition-shadow",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:w.name}),a.jsx("p",{className:"text-sm text-gray-600",children:w.email}),a.jsxs("div",{className:"flex items-center mt-2",children:[a.jsx("div",{className:"w-3 h-3 rounded-full mr-2",style:{backgroundColor:S}}),a.jsxs("div",{className:"text-xs",children:[a.jsx("div",{className:"font-medium text-gray-700",children:m(w.campaign_team_id)}),a.jsx("div",{className:"text-gray-500",children:h(w.campaign_team_id)})]})]})]}),a.jsxs("div",{className:"flex flex-col items-end space-y-2",children:[a.jsx("div",{className:`w-2 h-2 rounded-full ${w.is_active?"bg-green-500":"bg-gray-300"}`}),a.jsx("button",{onClick:()=>d(w),className:"text-blue-600 hover:text-blue-800 p-1",title:"View History",children:a.jsx(vl,{className:"w-4 h-4"})})]})]}),j&&a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Vt,{className:"w-4 h-4 text-blue-500"}),a.jsx("span",{className:"text-sm font-medium",children:"Calls"})]}),a.jsx("span",{className:"text-lg font-bold",children:j.totalCalls})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Xn,{className:"w-4 h-4 text-green-500"}),a.jsx("span",{className:"text-sm font-medium",children:"Call Time"})]}),a.jsx("span",{className:"text-lg font-bold",children:Oe(j.totalCallTime)})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Wt,{className:"w-4 h-4 text-orange-500"}),a.jsx("span",{className:"text-sm font-medium",children:"Sales"})]}),a.jsx("span",{className:"text-lg font-bold",children:j.totalSales})]}),a.jsx("div",{className:"pt-3 border-t border-gray-100",children:a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:"Avg Call Time"}),a.jsx("span",{className:"font-medium",children:Oe(j.averageCallTime)})]})})]}),!j&&a.jsx("div",{className:"text-center py-4",children:a.jsx("p",{className:"text-gray-500 text-sm",children:"No data for today"})})]})},w.id)})}),b.length===0&&a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-gray-500",children:"No agents found matching your criteria."})}),u&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-4xl max-h-[80vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{children:[a.jsxs("h3",{className:"text-xl font-semibold text-gray-900",children:[u.name," - Performance History"]}),a.jsxs("p",{className:"text-gray-600",children:[m(u.campaign_team_id)," - ",h(u.campaign_team_id)]})]}),a.jsx("button",{onClick:()=>d(null),className:"text-gray-400 hover:text-gray-600",children:"✕"})]}),a.jsx("div",{className:"flex items-center space-x-4 mb-6",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Hn,{className:"w-4 h-4 text-gray-400"}),a.jsx("input",{type:"date",value:p,onChange:w=>g(w.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),a.jsx("span",{className:"text-gray-500",children:"to"}),a.jsx("input",{type:"date",value:x,onChange:w=>v(w.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),a.jsx("div",{className:"space-y-6",children:(()=>{const w=y(u.id),j=Math.max(...w.map(T=>T.calls),1),S=Math.max(...w.map(T=>T.sales),1),k=Math.max(...w.map(T=>T.callTime),1);return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsx("div",{className:"bg-blue-50 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-blue-600",children:"Total Calls"}),a.jsx("p",{className:"text-2xl font-bold text-blue-700",children:w.reduce((T,N)=>T+N.calls,0)})]}),a.jsx(Vt,{className:"w-8 h-8 text-blue-500"})]})}),a.jsx("div",{className:"bg-green-50 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-green-600",children:"Total Sales"}),a.jsx("p",{className:"text-2xl font-bold text-green-700",children:w.reduce((T,N)=>T+N.sales,0)})]}),a.jsx(Wt,{className:"w-8 h-8 text-green-500"})]})}),a.jsx("div",{className:"bg-purple-50 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-purple-600",children:"Total Call Time"}),a.jsx("p",{className:"text-2xl font-bold text-purple-700",children:Oe(w.reduce((T,N)=>T+N.callTime,0))})]}),a.jsx(Xn,{className:"w-8 h-8 text-purple-500"})]})})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Daily Calls"}),a.jsx("div",{className:"space-y-2",children:w.map(T=>a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("span",{className:"text-sm text-gray-600 w-20",children:new Date(T.date).toLocaleDateString()}),a.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-4",children:a.jsx("div",{className:"bg-blue-500 h-4 rounded-full flex items-center justify-end pr-2",style:{width:`${T.calls/j*100}%`},children:a.jsx("span",{className:"text-xs text-white font-medium",children:T.calls})})})]},T.date))})]}),a.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Daily Sales"}),a.jsx("div",{className:"space-y-2",children:w.map(T=>a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("span",{className:"text-sm text-gray-600 w-20",children:new Date(T.date).toLocaleDateString()}),a.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-4",children:a.jsx("div",{className:"bg-green-500 h-4 rounded-full flex items-center justify-end pr-2",style:{width:`${S>0?T.sales/S*100:0}%`},children:a.jsx("span",{className:"text-xs text-white font-medium",children:T.sales})})})]},T.date))})]}),a.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Daily Call Time"}),a.jsx("div",{className:"space-y-2",children:w.map(T=>a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("span",{className:"text-sm text-gray-600 w-20",children:new Date(T.date).toLocaleDateString()}),a.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-4",children:a.jsx("div",{className:"bg-purple-500 h-4 rounded-full flex items-center justify-end pr-2",style:{width:`${T.callTime/k*100}%`},children:a.jsx("span",{className:"text-xs text-white font-medium",children:Oe(T.callTime)})})})]},T.date))})]})]}),w.length===0&&a.jsx("div",{className:"text-center py-8",children:a.jsx("p",{className:"text-gray-500",children:"No data available for the selected date range"})})]})})()})]})})]})}function Yc({campaigns:t,campaignTeams:e,agents:n,callData:r,date:s,detailed:i=!1}){const l=t.map(o=>{const c=e.filter(v=>v.campaign_id===o.id).map(v=>v.id),u=n.filter(v=>c.includes(v.campaign_team_id||"")),d=r.filter(v=>{const _=n.find(b=>b.id===v.agent_id);return _&&c.includes(_.campaign_team_id||"")&&v.date===s}),p=d.reduce((v,_)=>v+_.calls_made,0),g=d.reduce((v,_)=>v+_.total_call_time,0),x=d.reduce((v,_)=>v+_.sales_made,0);return{campaignId:o.id,totalCalls:p,totalCallTime:g,totalSales:x,agentCount:u.length,teamCount:c.length,averageCallTime:p>0?g/p:0,averageCallsPerAgent:u.length>0?p/u.length:0}});return i?a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:l.map(o=>{const c=t.find(d=>d.id===o.campaignId);if(!c)return null;const u=o.totalCalls>0?o.totalSales/o.totalCalls*100:0;return a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[a.jsx("div",{className:"h-2",style:{backgroundColor:c.color}}),a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:c.name}),a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(rt,{className:"w-4 h-4 text-gray-400"}),a.jsx("span",{className:"text-sm text-gray-600",children:o.agentCount})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[a.jsx(Vt,{className:"w-5 h-5 text-blue-500 mx-auto mb-1"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Total Calls"}),a.jsx("p",{className:"text-xl font-bold text-blue-600",children:o.totalCalls})]}),a.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[a.jsx(Wt,{className:"w-5 h-5 text-green-500 mx-auto mb-1"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Sales"}),a.jsx("p",{className:"text-xl font-bold text-green-600",children:o.totalSales})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Teams"}),a.jsx("span",{className:"text-sm font-medium",children:o.teamCount})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Call Time"}),a.jsx("span",{className:"text-sm font-medium",children:Oe(o.totalCallTime)})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Avg Call Time"}),a.jsx("span",{className:"text-sm font-medium",children:Oe(o.averageCallTime)})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Calls/Agent"}),a.jsx("span",{className:"text-sm font-medium",children:o.averageCallsPerAgent.toFixed(1)})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Conversion Rate"}),a.jsxs("span",{className:"text-sm font-medium",children:[u.toFixed(1),"%"]})]})]})]})]})]},c.id)})}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[a.jsx($g,{className:"w-5 h-5 mr-2 text-yellow-500"}),"Campaign Rankings"]}),a.jsx("div",{className:"space-y-3",children:l.sort((o,c)=>c.totalCalls-o.totalCalls).map((o,c)=>{const u=t.find(d=>d.id===o.campaignId);return u?a.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border border-gray-100",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-gray-100",children:a.jsxs("span",{className:"text-sm font-bold text-gray-600",children:["#",c+1]})}),a.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:u.color}}),a.jsx("span",{className:"font-medium text-gray-900",children:u.name})]}),a.jsxs("div",{className:"flex items-center space-x-6 text-sm",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"font-bold text-gray-900",children:o.totalCalls}),a.jsx("p",{className:"text-gray-600",children:"Calls"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"font-bold text-gray-900",children:o.totalSales}),a.jsx("p",{className:"text-gray-600",children:"Sales"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"font-bold text-gray-900",children:Oe(o.totalCallTime)}),a.jsx("p",{className:"text-gray-600",children:"Time"})]})]})]},u.id):null})})]})]}):a.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Campaign Performance"}),a.jsx("div",{className:"space-y-4",children:l.slice(0,4).map(o=>{const c=t.find(u=>u.id===o.campaignId);return c?a.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border border-gray-100",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:c.color}}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900",children:c.name}),a.jsxs("p",{className:"text-sm text-gray-600",children:[o.teamCount," teams, ",o.agentCount," agents"]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"font-bold text-gray-900",children:o.totalCalls}),a.jsx("p",{className:"text-sm text-gray-600",children:"calls"})]})]},c.id):null})})]})}function Xc({campaigns:t,campaignTeams:e,agents:n,callData:r,detailed:s=!1}){const[i,l]=I.useState(""),[o,c]=I.useState(new Date().toISOString().split("T")[0]),[u,d]=I.useState(new Date().toISOString().split("T")[0]),p=r.filter(v=>{const _=v.date>=o&&v.date<=u;if(!i)return _;const b=n.find(f=>f.id===v.agent_id),h=e.find(f=>f.id===(b==null?void 0:b.campaign_team_id));return _&&(h==null?void 0:h.campaign_id)===i}),g=[];for(let v=8;v<=17;v++){const _=p.filter(y=>y.hour===v),b=_.reduce((y,w)=>y+w.calls_made,0),h=_.reduce((y,w)=>y+w.total_call_time,0),f=_.reduce((y,w)=>y+w.sales_made,0),m=new Set(_.map(y=>y.agent_id)).size;g.push({hour:v,totalCalls:b,totalCallTime:h,totalSales:f,activeAgents:m,averageCallTime:b>0?h/b:0})}const x=Math.max(...g.map(v=>v.totalCalls));return s?a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(bo,{className:"w-4 h-4 text-gray-400"}),a.jsxs("select",{value:i,onChange:v=>l(v.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"",children:"All Campaigns"}),t.map(v=>a.jsx("option",{value:v.id,children:v.name},v.id))]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Hn,{className:"w-4 h-4 text-gray-400"}),a.jsx("input",{type:"date",value:o,onChange:v=>c(v.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),a.jsx("span",{className:"text-gray-500",children:"to"}),a.jsx("input",{type:"date",value:u,onChange:v=>d(v.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Hourly Performance Breakdown"}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"text-left border-b border-gray-200",children:[a.jsx("th",{className:"pb-3 text-sm font-medium text-gray-600",children:"Time"}),a.jsx("th",{className:"pb-3 text-sm font-medium text-gray-600",children:"Active Agents"}),a.jsx("th",{className:"pb-3 text-sm font-medium text-gray-600",children:"Total Calls"}),a.jsx("th",{className:"pb-3 text-sm font-medium text-gray-600",children:"Call Time"}),a.jsx("th",{className:"pb-3 text-sm font-medium text-gray-600",children:"Sales"}),a.jsx("th",{className:"pb-3 text-sm font-medium text-gray-600",children:"Avg Call Time"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-100",children:g.map(v=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"py-4 text-sm font-medium text-gray-900",children:xr(v.hour)}),a.jsx("td",{className:"py-4 text-sm text-gray-600",children:v.activeAgents}),a.jsx("td",{className:"py-4 text-sm font-bold text-blue-600",children:v.totalCalls}),a.jsx("td",{className:"py-4 text-sm text-gray-600",children:Oe(v.totalCallTime)}),a.jsx("td",{className:"py-4 text-sm font-bold text-green-600",children:v.totalSales}),a.jsx("td",{className:"py-4 text-sm text-gray-600",children:Oe(v.averageCallTime)})]},v.hour))})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:[a.jsxs("h4",{className:"font-semibold text-gray-900 mb-4 flex items-center",children:[a.jsx(Vt,{className:"w-4 h-4 mr-2 text-blue-500"}),"Calls by Hour"]}),a.jsx("div",{className:"space-y-3",children:g.map(v=>a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600",children:xr(v.hour)}),a.jsx("div",{className:"flex items-center space-x-3 flex-1 mx-4",children:a.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:`${x>0?v.totalCalls/x*100:0}%`}})})}),a.jsx("span",{className:"text-sm font-bold text-gray-900",children:v.totalCalls})]},v.hour))})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:[a.jsxs("h4",{className:"font-semibold text-gray-900 mb-4 flex items-center",children:[a.jsx(Wt,{className:"w-4 h-4 mr-2 text-green-500"}),"Sales by Hour"]}),a.jsx("div",{className:"space-y-3",children:g.map(v=>{const _=Math.max(...g.map(b=>b.totalSales));return a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600",children:xr(v.hour)}),a.jsx("div",{className:"flex items-center space-x-3 flex-1 mx-4",children:a.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:`${_>0?v.totalSales/_*100:0}%`}})})}),a.jsx("span",{className:"text-sm font-bold text-gray-900",children:v.totalSales})]},v.hour)})})]})]})]}):a.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Hourly Activity"}),a.jsx("div",{className:"space-y-2",children:g.map(v=>a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("span",{className:"text-sm font-medium text-gray-600 w-16",children:xr(v.hour)}),a.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"bg-blue-500 h-2 rounded-full transition-all",style:{width:`${x>0?v.totalCalls/x*100:0}%`}})}),a.jsx("span",{className:"text-sm font-bold text-gray-900 w-8",children:v.totalCalls})]},v.hour))})]})}function Zc(t,e){if(t.length===0)return;const n=Object.keys(t[0]),r=[n.join(","),...t.map(o=>n.map(c=>o[c]).join(","))].join(`
`),s=new Blob([r],{type:"text/csv;charset=utf-8;"}),i=document.createElement("a"),l=URL.createObjectURL(s);i.setAttribute("href",l),i.setAttribute("download",e),i.style.visibility="hidden",document.body.appendChild(i),i.click(),document.body.removeChild(i)}function Xg(){const{agents:t,campaignTeams:e,callData:n,upsertCallData:r}=as(),[s,i]=I.useState(null),[l,o]=I.useState([]),c=new Date().toISOString().split("T")[0],u=h=>{const f=h.trim().split(`
`);if(f.length<2)return[];const m=f[0].split(",").map(w=>w.trim().toLowerCase()),y=[];for(let w=1;w<f.length;w++){const j=f[w].split(",").map(k=>k.trim()),S={};m.forEach((k,T)=>{j[T]&&j[T]!==""&&(S[k]=j[T])}),Object.keys(S).length>0&&y.push(S)}return y},d=h=>t.find(f=>f.name.toLowerCase().trim()===h.toLowerCase().trim()),p=h=>{var y;const f=(y=h.target.files)==null?void 0:y[0];if(!f)return;const m=new FileReader;m.onload=async w=>{var j;try{const S=(j=w.target)==null?void 0:j.result,k=u(S);if(k.length===0){i({type:"error",message:"No data found in CSV file"});return}const T=k[0],N=Object.keys(T).find(A=>A.includes("agent")&&A.includes("name")||A==="name"||A==="agent"),E=Object.keys(T).find(A=>A.includes("call")||A==="calls"),O=Object.keys(T).find(A=>A.includes("second")||A.includes("time"));if(!N){i({type:"error",message:"Missing agent name column. Please include a column with agent names."});return}if(!E){i({type:"error",message:"Missing calls column. Please include a column with call counts."});return}const W=[],U=[];let J=0;for(const A of k){const D=A[N];if(!D)continue;const M=d(D);if(!M){U.push(`Agent "${D}" not found`);continue}const Z=parseInt(A[E])||0,C=O&&parseInt(A[O])||0,$=Math.round(C/60),q=Object.keys(A).find(sr=>sr.includes("sale")||sr.includes("conversion")),be=q&&parseInt(A[q])||0,ae=Object.keys(A).find(sr=>sr.includes("hour")||sr==="time");let it=ae?parseInt(A[ae]):new Date().getHours();(it<8||it>17)&&(it=Math.max(8,Math.min(17,it))),W.push({agent_id:M.id,date:c,hour:it,calls_made:Z,total_call_time:$,sales_made:be}),J++}const L=l.length>0?W.filter(A=>l.includes(A.hour)):W;L.length>0&&await r(L);let X=`Successfully imported ${L.length} records`;U.length>0&&(X+=`. Skipped ${U.length} rows: ${U.slice(0,3).join(", ")}`,U.length>3&&(X+=` and ${U.length-3} more`)),i({type:L.length>0?"success":"error",message:X})}catch{i({type:"error",message:"Error parsing CSV file. Please check the format."})}},m.readAsText(f),h.target.value=""},g=()=>{const h=t.map(f=>{const m=n.filter(k=>k.agent_id===f.id&&k.date===c),y=m.reduce((k,T)=>k+T.calls_made,0),w=m.reduce((k,T)=>k+T.total_call_time,0),j=m.reduce((k,T)=>k+T.sales_made,0),S=e.find(k=>k.id===f.campaign_team_id);return{"Agent ID":f.id,"Agent Name":f.name,Team:(S==null?void 0:S.name)||"No Team",Date:c,"Total Calls":y,"Total Call Time (minutes)":w,"Total Sales":j,"Average Call Time (minutes)":y>0?(w/y).toFixed(2):"0.00"}});Zc(h,`sales-report-${c}.csv`)},x=()=>{const h=n.filter(f=>f.date===c);Zc(h,`sales-data-${c}.csv`)},v=()=>{const h=["Agent Name,Calls,Seconds,Sales,Hour","John Smith,15,3600,3,9","Jane Doe,12,2700,2,9","Mike Johnson,18,4200,4,10","Sarah Wilson,10,2400,1,10"].join(`
`),f=new Blob([h],{type:"text/csv;charset=utf-8;"}),m=document.createElement("a"),y=URL.createObjectURL(f);m.setAttribute("href",y),m.setAttribute("download","sample-call-data.csv"),m.style.visibility="hidden",document.body.appendChild(m),m.click(),document.body.removeChild(m)},_=h=>{o(f=>f.includes(h)?f.filter(m=>m!==h):[...f,h].sort())},b=Array.from({length:10},(h,f)=>f+8);return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[a.jsx(No,{className:"w-5 h-5 mr-2 text-blue-500"}),"Import Call Data"]}),s&&a.jsxs("div",{className:`mb-4 p-4 rounded-lg flex items-center space-x-2 ${s.type==="success"?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"}`,children:[s.type==="success"?a.jsx(jo,{className:"w-5 h-5 text-green-500"}):a.jsx(_o,{className:"w-5 h-5 text-red-500"}),a.jsx("span",{className:s.type==="success"?"text-green-700":"text-red-700",children:s.message})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Hours to Import (optional - leave empty to replace all data)"}),a.jsx("div",{className:"grid grid-cols-5 gap-2",children:b.map(h=>a.jsxs("button",{onClick:()=>_(h),className:`px-3 py-2 text-sm rounded-lg border transition-colors ${l.includes(h)?"bg-blue-500 text-white border-blue-500":"bg-gray-50 text-gray-700 border-gray-300 hover:bg-gray-100"}`,children:[h,":00"]},h))}),l.length>0&&a.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:["Selected hours: ",l.map(h=>`${h}:00`).join(", ")]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Upload CSV File"}),a.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-blue-400 transition-colors",children:[a.jsx(Dg,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Drop your CSV file here or click to browse"}),a.jsx("input",{type:"file",accept:".csv",onChange:p,className:"hidden",id:"csv-upload"}),a.jsx("label",{htmlFor:"csv-upload",className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 cursor-pointer",children:"Choose File"})]}),a.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Required: Agent Name, Calls. Optional: Seconds, Sales, Hour"}),a.jsx("button",{onClick:v,className:"text-xs text-blue-600 hover:text-blue-800 underline mt-1",children:"Download Sample Import CSV"})]})]})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[a.jsx(ma,{className:"w-5 h-5 mr-2 text-green-500"}),"Export Data"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("button",{onClick:g,className:"flex items-center justify-center space-x-2 px-4 py-3 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:[a.jsx(ma,{className:"w-4 h-4"}),a.jsx("span",{children:"Export Daily Report"})]}),a.jsxs("button",{onClick:x,className:"flex items-center justify-center space-x-2 px-4 py-3 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors",children:[a.jsx(ma,{className:"w-4 h-4"}),a.jsx("span",{children:"Export Raw Data"})]})]}),a.jsxs("div",{className:"mt-4 text-sm text-gray-600",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Daily Report:"})," Includes agent summaries, averages, and totals"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Raw Data:"})," Exports all hourly call data for today"]})]})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Sample CSV Format"}),a.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 font-mono text-sm",children:[a.jsx("div",{className:"text-gray-600",children:"Agent Name,Calls,Seconds,Sales,Hour"}),a.jsx("div",{children:"John Smith,15,3600,3,9"}),a.jsx("div",{children:"Jane Doe,12,2700,2,9"}),a.jsx("div",{children:"Mike Johnson,18,4200,4,10"})]}),a.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:["* Agent Name must match existing agents exactly",a.jsx("br",{}),"* Seconds will be converted to minutes automatically",a.jsx("br",{}),"* hour should be between 8-17 (8am-5pm)",a.jsx("br",{}),"* Missing columns will be ignored",a.jsx("br",{}),"* Sales and Hour are optional (defaults: 0 sales, current hour)"]})]})]})}function Zg(){const{teams:t,createTeam:e,createAgents:n,clearAllData:r}=as(),[s,i]=I.useState(null),[l,o]=I.useState([]),[c,u]=I.useState(!1),[d,p]=I.useState(!1),g=h=>{const f=h.trim().split(`
`);if(f.length<2)return[];const m=f[0].split(",").map(k=>k.trim().toLowerCase()),y=m.findIndex(k=>k.includes("name")),w=m.findIndex(k=>k.includes("email")),j=m.findIndex(k=>k.includes("team"));if(y===-1||w===-1||j===-1)throw new Error("CSV must contain columns for name, email, and team");const S=[];for(let k=1;k<f.length;k++){const T=f[k].split(",").map(N=>N.trim());T.length>=3&&T[y]&&T[w]&&T[j]&&S.push({name:T[y],email:T[w],teamName:T[j]})}return S},x=h=>{var y;const f=(y=h.target.files)==null?void 0:y[0];if(!f)return;const m=new FileReader;m.onload=w=>{var j;try{const S=(j=w.target)==null?void 0:j.result,k=g(S);if(k.length===0){i({type:"error",message:"No valid data found in CSV file"});return}o(k),u(!0),i({type:"success",message:`Found ${k.length} agents to import`})}catch(S){i({type:"error",message:S instanceof Error?S.message:"Error parsing CSV file"})}},m.readAsText(f),h.target.value=""},v=async()=>{if(l.length!==0){p(!0);try{const h=[...new Set(l.map(k=>k.teamName))],f=new Set(t.map(k=>k.name)),m=h.filter(k=>!f.has(k)),y=["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6","#06b6d4","#84cc16","#f97316"],w=[];for(let k=0;k<m.length;k++){const T=await e({name:m[k],color:y[k%y.length]});T&&w.push(T)}const j=[...t,...w],S=l.map(k=>{const T=j.find(N=>N.name===k.teamName);if(!T)throw new Error(`Team "${k.teamName}" not found`);return{name:k.name,email:k.email,team_id:T.id,is_active:!0}});await n(S),i({type:"success",message:`Successfully imported ${l.length} agents and ${m.length} new teams`}),o([]),u(!1)}catch(h){i({type:"error",message:h instanceof Error?h.message:"Failed to import agents"})}finally{p(!1)}}},_=async()=>{if(confirm("Are you sure you want to clear all data? This action cannot be undone."))try{await r(),i({type:"success",message:"All data cleared successfully"}),o([]),u(!1)}catch{i({type:"error",message:"Failed to clear data"})}},b=()=>{const h=["Name,Email,Team","John Smith,john.smith@company.com,Alpha Team","Jane Doe,jane.doe@company.com,Alpha Team","Mike Johnson,mike.johnson@company.com,Beta Team","Sarah Wilson,sarah.wilson@company.com,Beta Team"].join(`
`),f=new Blob([h],{type:"text/csv;charset=utf-8;"}),m=document.createElement("a"),y=URL.createObjectURL(f);m.setAttribute("href",y),m.setAttribute("download","sample-agents.csv"),m.style.visibility="hidden",document.body.appendChild(m),m.click(),document.body.removeChild(m)};return a.jsxs("div",{className:"space-y-6",children:[s&&a.jsxs("div",{className:`p-4 rounded-lg flex items-center space-x-2 ${s.type==="success"?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"}`,children:[s.type==="success"?a.jsx(jo,{className:"w-5 h-5 text-green-500"}):a.jsx(_o,{className:"w-5 h-5 text-red-500"}),a.jsx("span",{className:s.type==="success"?"text-green-700":"text-red-700",children:s.message})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[a.jsx(rt,{className:"w-5 h-5 mr-2 text-blue-500"}),"Import Agents with Teams"]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Upload CSV File"}),a.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-blue-400 transition-colors",children:[a.jsx(No,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Drop your CSV file here or click to browse"}),a.jsx("input",{type:"file",accept:".csv",onChange:x,className:"hidden",id:"agent-csv-upload"}),a.jsx("label",{htmlFor:"agent-csv-upload",className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 cursor-pointer",children:"Choose File"})]}),a.jsxs("div",{className:"mt-2 flex justify-between items-center",children:[a.jsx("p",{className:"text-xs text-gray-500",children:"Required columns: Name, Email, Team"}),a.jsx("button",{onClick:b,className:"text-xs text-blue-600 hover:text-blue-800 underline",children:"Download Sample CSV"})]})]}),a.jsx("div",{className:"flex space-x-3",children:a.jsxs("button",{onClick:_,className:"flex items-center space-x-2 px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors",children:[a.jsx(Or,{className:"w-4 h-4"}),a.jsx("span",{children:"Clear All Data"})]})})]})]}),c&&l.length>0&&a.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Import Preview"}),a.jsxs("div",{className:"flex space-x-3",children:[a.jsx("button",{onClick:()=>u(!1),className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancel"}),a.jsxs("button",{onClick:v,disabled:d,className:"flex items-center space-x-2 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed",children:[a.jsx(hi,{className:"w-4 h-4"}),a.jsx("span",{children:d?"Importing...":`Import ${l.length} Agents`})]})]})]}),a.jsxs("div",{className:"mb-4 p-4 bg-blue-50 rounded-lg",children:[a.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Teams to be created/used:"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:[...new Set(l.map(h=>h.teamName))].map(h=>{const f=t.some(m=>m.name===h);return a.jsxs("span",{className:`px-3 py-1 rounded-full text-sm ${f?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:[h," ",f?"(existing)":"(new)"]},h)})})]}),a.jsxs("div",{className:"overflow-x-auto",children:[a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"text-left border-b border-gray-200",children:[a.jsx("th",{className:"pb-3 text-sm font-medium text-gray-600",children:"Name"}),a.jsx("th",{className:"pb-3 text-sm font-medium text-gray-600",children:"Email"}),a.jsx("th",{className:"pb-3 text-sm font-medium text-gray-600",children:"Team"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-100",children:l.slice(0,10).map((h,f)=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"py-3 text-sm text-gray-900",children:h.name}),a.jsx("td",{className:"py-3 text-sm text-gray-600",children:h.email}),a.jsx("td",{className:"py-3 text-sm text-gray-600",children:h.teamName})]},f))})]}),l.length>10&&a.jsxs("p",{className:"text-sm text-gray-500 mt-2 text-center",children:["... and ",l.length-10," more agents"]})]})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"CSV Format Instructions"}),a.jsxs("div",{className:"space-y-3 text-sm text-gray-600",children:[a.jsx("p",{children:"Your CSV file should contain the following columns:"}),a.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4",children:[a.jsxs("li",{children:[a.jsx("strong",{children:"Name:"})," Full name of the agent"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Email:"})," Unique email address for the agent"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Team:"})," Team name (will be created if it doesn't exist)"]})]}),a.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 font-mono text-sm mt-4",children:[a.jsx("div",{className:"text-gray-600",children:"Name,Email,Team"}),a.jsx("div",{children:"John Smith,john.smith@company.com,Alpha Team"}),a.jsx("div",{children:"Jane Doe,jane.doe@company.com,Alpha Team"}),a.jsx("div",{children:"Mike Johnson,mike.johnson@company.com,Beta Team"})]}),a.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["* Teams will be automatically created with random colors if they don't exist",a.jsx("br",{}),"* Duplicate emails will be skipped during import"]})]})]})]})}function ey({team:t,agents:e,callData:n,date:r,onBack:s}){const[i,l]=I.useState("name"),o=e.filter(b=>b.campaign_team_id===t.id),c=n.filter(b=>{const h=e.find(f=>f.id===b.agent_id);return(h==null?void 0:h.campaign_team_id)===t.id&&b.date===r}),d=[...o.map(b=>{const h=c.filter(j=>j.agent_id===b.id),f=[];for(let j=8;j<=17;j++){const S=h.filter(E=>E.hour===j),k=S.reduce((E,O)=>E+O.calls_made,0),T=S.reduce((E,O)=>E+O.total_call_time,0),N=S.reduce((E,O)=>E+O.sales_made,0);f.push({hour:j,calls:k,callTime:T,sales:N})}const m=h.reduce((j,S)=>j+S.calls_made,0),y=h.reduce((j,S)=>j+S.total_call_time,0),w=h.reduce((j,S)=>j+S.sales_made,0);return{agent:b,hourlyData:f,totalCalls:m,totalCallTime:y,totalSales:w,averageCallTime:m>0?y/m:0}})].sort((b,h)=>{switch(i){case"calls":return h.totalCalls-b.totalCalls;case"sales":return h.totalSales-b.totalSales;case"time":return h.totalCallTime-b.totalCallTime;default:return b.agent.name.localeCompare(h.agent.name)}}),p=b=>{if(b===0)return"bg-gray-100 text-gray-500";const f=b/40;return f>=1?"bg-green-200 text-green-800":f>=.75?"bg-yellow-200 text-yellow-800":f>=.5?"bg-orange-200 text-orange-800":"bg-red-200 text-red-800"},g=(b,h)=>{if(b===0)return"bg-gray-100 text-gray-500";const f=Math.max(...h),m=Math.min(...h.filter(w=>w>0));if(f===m)return"bg-blue-100 text-blue-800";const y=(b-m)/(f-m);return y>=.8?"bg-green-200 text-green-800":y>=.6?"bg-yellow-200 text-yellow-800":y>=.4?"bg-orange-200 text-orange-800":"bg-red-200 text-red-800"},x=(b,h)=>{if(b===0)return"bg-gray-100 text-gray-500";const f=Math.max(...h),m=Math.min(...h.filter(w=>w>0));if(f===m)return"bg-blue-100 text-blue-800";const y=f>m?(b-m)/(f-m):.5;return y>=.8?"bg-green-200 text-green-800":y>=.6?"bg-yellow-200 text-yellow-800":y>=.4?"bg-orange-200 text-orange-800":"bg-red-200 text-red-800"},v=Array.from({length:10},(b,h)=>h+8),_=b=>`${b.toString().padStart(2,"0")}-${(b+1).toString().padStart(2,"0")}`;return a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("button",{onClick:s,className:"flex items-center space-x-2 text-gray-600 hover:text-gray-900 transition-colors",children:[a.jsx(Ig,{className:"w-5 h-5"}),a.jsx("span",{children:"Back to Teams"})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-6 h-6 rounded-full",style:{backgroundColor:t.color}}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:t.name}),a.jsxs("p",{className:"text-gray-600",children:[o.length," agents • ",new Date(r).toLocaleDateString()]})]})]})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[a.jsx(qg,{className:"w-4 h-4 text-gray-400"}),a.jsx("span",{className:"text-gray-600",children:"Target: 40min per hour"})]}),a.jsxs("select",{value:i,onChange:b=>l(b.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"name",children:"Sort by Name"}),a.jsx("option",{value:"calls",children:"Sort by Calls"}),a.jsx("option",{value:"sales",children:"Sort by Sales"}),a.jsx("option",{value:"time",children:"Sort by Time"})]})]})]})}),a.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsxs("thead",{children:[a.jsxs("tr",{className:"bg-blue-600 text-white",children:[a.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold sticky left-0 bg-blue-600 z-10 min-w-[120px]",children:"AGENT"}),v.map(b=>a.jsx("th",{className:"px-3 py-3 text-center text-sm font-semibold min-w-[80px]",children:_(b)},b)),a.jsx("th",{className:"px-4 py-3 text-center text-sm font-semibold min-w-[100px]",children:"TOTAL TIME"}),a.jsx("th",{className:"px-4 py-3 text-center text-sm font-semibold min-w-[80px]",children:"CALLS"}),a.jsx("th",{className:"px-4 py-3 text-center text-sm font-semibold min-w-[80px]",children:"SALES"})]}),a.jsxs("tr",{className:"bg-blue-500 text-white text-xs",children:[a.jsx("td",{className:"px-4 py-2 font-medium sticky left-0 bg-blue-500 z-10",children:"TIME TARGET"}),v.map(b=>a.jsx("td",{className:"px-3 py-2 text-center font-medium",children:"00:40"},b)),a.jsx("td",{className:"px-4 py-2 text-center font-medium",children:"06:40"}),a.jsx("td",{className:"px-4 py-2 text-center font-medium",children:"-"}),a.jsx("td",{className:"px-4 py-2 text-center font-medium",children:"-"})]})]}),a.jsx("tbody",{children:d.map(b=>(b.hourlyData.map(h=>h.callTime),b.hourlyData.map(h=>h.calls),b.hourlyData.map(h=>h.sales),a.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[a.jsx("td",{className:"px-4 py-3 font-medium text-gray-900 sticky left-0 bg-white z-10 border-r border-gray-200",children:b.agent.name.toUpperCase()}),b.hourlyData.map(h=>a.jsx("td",{className:"px-3 py-3 text-center",children:a.jsx("div",{className:`px-2 py-1 rounded text-xs font-bold ${p(h.callTime)}`,children:h.callTime>0?`${Math.floor(h.callTime/60).toString().padStart(2,"0")}:${(h.callTime%60).toString().padStart(2,"0")}`:"00:00"})},h.hour)),a.jsx("td",{className:"px-4 py-3 text-center",children:a.jsx("div",{className:`inline-block px-3 py-1 rounded text-sm font-bold ${p(b.totalCallTime)}`,children:b.totalCallTime>0?`${Math.floor(b.totalCallTime/60).toString().padStart(2,"0")}:${(b.totalCallTime%60).toString().padStart(2,"0")}`:"00:00"})}),a.jsx("td",{className:"px-4 py-3 text-center",children:a.jsx("div",{className:`inline-block px-3 py-1 rounded text-sm font-bold ${g(b.totalCalls,d.map(h=>h.totalCalls))}`,children:b.totalCalls})}),a.jsx("td",{className:"px-4 py-3 text-center",children:a.jsx("div",{className:`inline-block px-3 py-1 rounded text-sm font-bold ${x(b.totalSales,d.map(h=>h.totalSales))}`,children:b.totalSales})})]},b.agent.id)))})]})})}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Performance Legend"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:"Call Time (40min target per hour)"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-4 h-4 bg-green-200 rounded"}),a.jsx("span",{children:"40+ minutes (Meeting/Exceeding Target)"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-4 h-4 bg-yellow-200 rounded"}),a.jsx("span",{children:"30-39 minutes (Close to Target)"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-4 h-4 bg-orange-200 rounded"}),a.jsx("span",{children:"20-29 minutes (Below Target)"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-4 h-4 bg-red-200 rounded"}),a.jsx("span",{children:"0-19 minutes (Well Below Target)"})]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:"Calls & Sales (Relative to Team)"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-4 h-4 bg-green-200 rounded"}),a.jsx("span",{children:"Top 20% Performance"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-4 h-4 bg-yellow-200 rounded"}),a.jsx("span",{children:"Above Average Performance"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-4 h-4 bg-orange-200 rounded"}),a.jsx("span",{children:"Below Average Performance"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-4 h-4 bg-red-200 rounded"}),a.jsx("span",{children:"Bottom 20% Performance"})]})]})]})]})]})]})}function ty({campaigns:t,campaignTeams:e,agents:n,callData:r,date:s}){const[i,l]=I.useState(s),[o,c]=I.useState("name"),[u,d]=I.useState(null);if(u)return a.jsx(ey,{team:u,agents:n,callData:r,date:i,onBack:()=>d(null)});const p=r.filter(_=>_.date===i),x=[...e.map(_=>{const b=n.filter(j=>j.campaign_team_id===_.id),h=p.filter(j=>{const S=n.find(k=>k.id===j.agent_id);return(S==null?void 0:S.campaign_team_id)===_.id}),f=[];for(let j=8;j<=17;j++){const S=h.filter(E=>E.hour===j),k=S.reduce((E,O)=>E+O.calls_made,0),T=S.reduce((E,O)=>E+O.total_call_time,0),N=S.reduce((E,O)=>E+O.sales_made,0);f.push({hour:j,calls:k,callTime:T,sales:N})}const m=h.reduce((j,S)=>j+S.calls_made,0),y=h.reduce((j,S)=>j+S.total_call_time,0),w=h.reduce((j,S)=>j+S.sales_made,0);return{team:_,teamAgents:b,hourlyData:f,totalCalls:m,totalCallTime:y,totalSales:w,averageCallTime:m>0?y/m:0,conversionRate:m>0?w/m*100:0}})].sort((_,b)=>{switch(o){case"calls":return b.totalCalls-_.totalCalls;case"sales":return b.totalSales-_.totalSales;case"time":return b.totalCallTime-_.totalCallTime;default:return _.team.name.localeCompare(b.team.name)}}),v=Array.from({length:10},(_,b)=>b+8);return a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Campaign Team Performance"}),a.jsx("p",{className:"text-gray-600",children:"Hourly breakdown and daily totals by team"})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Hn,{className:"w-4 h-4 text-gray-400"}),a.jsx("input",{type:"date",value:i,onChange:_=>l(_.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(bo,{className:"w-4 h-4 text-gray-400"}),a.jsxs("select",{value:o,onChange:_=>c(_.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"name",children:"Sort by Name"}),a.jsx("option",{value:"calls",children:"Sort by Calls"}),a.jsx("option",{value:"sales",children:"Sort by Sales"}),a.jsx("option",{value:"time",children:"Sort by Call Time"})]})]})]})]})}),a.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-900 sticky left-0 bg-gray-50 z-10 min-w-[200px]",children:"Team"}),v.map(_=>a.jsx("th",{className:"px-3 py-4 text-center text-xs font-medium text-gray-600 min-w-[80px]",children:xr(_)},_)),a.jsx("th",{className:"px-6 py-4 text-center text-sm font-semibold text-gray-900 bg-blue-50 min-w-[100px]",children:"Total Calls"}),a.jsx("th",{className:"px-6 py-4 text-center text-sm font-semibold text-gray-900 bg-green-50 min-w-[100px]",children:"Total Sales"}),a.jsx("th",{className:"px-6 py-4 text-center text-sm font-semibold text-gray-900 bg-purple-50 min-w-[120px]",children:"Total Time"}),a.jsx("th",{className:"px-6 py-4 text-center text-sm font-semibold text-gray-900 bg-orange-50 min-w-[100px]",children:"Conv. Rate"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-100",children:x.map(_=>{const b=t.find(h=>h.id===_.team.campaign_id);return a.jsxs("tr",{className:"hover:bg-gray-50 cursor-pointer transition-colors",onClick:()=>d(_.team),children:[a.jsx("td",{className:"px-6 py-4 sticky left-0 bg-white z-10 border-r border-gray-100",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-4 h-4 rounded-full flex-shrink-0",style:{backgroundColor:_.team.color}}),a.jsxs("div",{children:[a.jsx("div",{className:"font-semibold text-gray-900",children:_.team.name}),a.jsxs("div",{className:"text-sm text-gray-600 flex items-center",children:[a.jsx(rt,{className:"w-3 h-3 mr-1"}),_.teamAgents.length," agents"]}),b&&a.jsx("div",{className:"text-xs text-gray-500",children:b.name})]})]})}),_.hourlyData.map(h=>a.jsx("td",{className:"px-3 py-4 text-center",children:a.jsxs("div",{className:"space-y-1",children:[a.jsx("div",{className:"text-sm font-bold text-blue-600",children:h.calls}),a.jsxs("div",{className:"text-xs text-green-600",children:[h.sales,"s"]}),a.jsx("div",{className:"text-xs text-gray-500",children:Oe(h.callTime)})]})},h.hour)),a.jsx("td",{className:"px-6 py-4 text-center bg-blue-50",children:a.jsxs("div",{className:"flex items-center justify-center space-x-1",children:[a.jsx(Vt,{className:"w-4 h-4 text-blue-500"}),a.jsx("span",{className:"text-lg font-bold text-blue-600",children:_.totalCalls})]})}),a.jsx("td",{className:"px-6 py-4 text-center bg-green-50",children:a.jsxs("div",{className:"flex items-center justify-center space-x-1",children:[a.jsx(Wt,{className:"w-4 h-4 text-green-500"}),a.jsx("span",{className:"text-lg font-bold text-green-600",children:_.totalSales})]})}),a.jsx("td",{className:"px-6 py-4 text-center bg-purple-50",children:a.jsxs("div",{className:"flex items-center justify-center space-x-1",children:[a.jsx(Xn,{className:"w-4 h-4 text-purple-500"}),a.jsx("span",{className:"text-lg font-bold text-purple-600",children:Oe(_.totalCallTime)})]})}),a.jsx("td",{className:"px-6 py-4 text-center bg-orange-50",children:a.jsxs("span",{className:"text-lg font-bold text-orange-600",children:[_.conversionRate.toFixed(1),"%"]})})]},_.team.id)})})]})})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[a.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Teams"}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e.length})]}),a.jsx("div",{className:"bg-blue-500 p-3 rounded-lg",children:a.jsx(rt,{className:"w-6 h-6 text-white"})})]})}),a.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Calls"}),a.jsx("p",{className:"text-3xl font-bold text-blue-600",children:x.reduce((_,b)=>_+b.totalCalls,0)})]}),a.jsx("div",{className:"bg-blue-500 p-3 rounded-lg",children:a.jsx(Vt,{className:"w-6 h-6 text-white"})})]})}),a.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Sales"}),a.jsx("p",{className:"text-3xl font-bold text-green-600",children:x.reduce((_,b)=>_+b.totalSales,0)})]}),a.jsx("div",{className:"bg-green-500 p-3 rounded-lg",children:a.jsx(Wt,{className:"w-6 h-6 text-white"})})]})}),a.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Time"}),a.jsx("p",{className:"text-3xl font-bold text-purple-600",children:Oe(x.reduce((_,b)=>_+b.totalCallTime,0))})]}),a.jsx("div",{className:"bg-purple-500 p-3 rounded-lg",children:a.jsx(Xn,{className:"w-6 h-6 text-white"})})]})})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Hourly Data Legend"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded"}),a.jsxs("span",{children:[a.jsx("strong",{children:"Top number:"})," Calls made in that hour"]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-3 h-3 bg-green-500 rounded"}),a.jsxs("span",{children:[a.jsx("strong",{children:"Middle number:"})," Sales made (with 's' suffix)"]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-3 h-3 bg-gray-500 rounded"}),a.jsxs("span",{children:[a.jsx("strong",{children:"Bottom number:"})," Total call time for that hour"]})]})]})]})]})}function ny(){var T;const{campaigns:t,campaignTeams:e,agents:n,createAgent:r,updateAgent:s,deleteAgent:i}=as(),{profile:l}=gn(),[o,c]=I.useState(null),[u,d]=I.useState([]),[p,g]=I.useState(""),[x,v]=I.useState(null),[_,b]=I.useState({name:"",email:"",campaign_team_id:"",is_active:!0}),[h,f]=I.useState(!1),m=async N=>{try{const{data:E,error:O}=await F.from("agent_notes").select("*").eq("agent_id",N).order("created_at",{ascending:!1});if(O)throw O;d(E||[])}catch(E){console.error("Error fetching agent notes:",E)}},y=async()=>{if(!(!o||!p.trim()))try{const{error:N}=await F.from("agent_notes").insert({agent_id:o,note:p.trim(),created_by:l==null?void 0:l.user_id});if(N)throw N;g(""),m(o)}catch(N){console.error("Error adding note:",N)}},w=async()=>{if(!(!_.name||!_.email||!_.campaign_team_id))try{await r(_),b({name:"",email:"",campaign_team_id:"",is_active:!0}),f(!1)}catch(N){console.error("Error creating agent:",N)}},j=async(N,E)=>{try{await s(N,E),v(null)}catch(O){console.error("Error updating agent:",O)}},S=async N=>{if(confirm("Are you sure you want to delete this agent?"))try{await i(N)}catch(E){console.error("Error deleting agent:",E)}},k=N=>{const E=e.find(W=>W.id===N),O=t.find(W=>W.id===(E==null?void 0:E.campaign_id));return E?`${(O==null?void 0:O.name)||"Unknown"} - ${E.name}`:"No Team"};return a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("h2",{className:"text-2xl font-bold text-gray-900 flex items-center",children:[a.jsx(rt,{className:"w-6 h-6 mr-2 text-blue-600"}),"Agent Management"]}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Manage agents, teams, and notes"})]}),a.jsxs("button",{onClick:()=>f(!0),className:"flex items-center space-x-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:[a.jsx(hi,{className:"w-4 h-4"}),a.jsx("span",{children:"Add Agent"})]})]})}),h&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-md",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Add New Agent"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),a.jsx("input",{type:"text",value:_.name,onChange:N=>b(E=>({...E,name:N.target.value})),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),a.jsx("input",{type:"email",value:_.email,onChange:N=>b(E=>({...E,email:N.target.value})),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Team"}),a.jsxs("select",{value:_.campaign_team_id,onChange:N=>b(E=>({...E,campaign_team_id:N.target.value})),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"",children:"Select Team"}),e.map(N=>{const E=t.find(O=>O.id===N.campaign_id);return a.jsxs("option",{value:N.id,children:[E==null?void 0:E.name," - ",N.name]},N.id)})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"checkbox",id:"is_active",checked:_.is_active,onChange:N=>b(E=>({...E,is_active:N.target.checked})),className:"rounded border-gray-300"}),a.jsx("label",{htmlFor:"is_active",className:"text-sm text-gray-700",children:"Active"})]})]}),a.jsxs("div",{className:"flex space-x-3 mt-6",children:[a.jsx("button",{onClick:w,className:"flex-1 bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors",children:"Add Agent"}),a.jsx("button",{onClick:()=>f(!1),className:"flex-1 bg-gray-300 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-400 transition-colors",children:"Cancel"})]})]})}),a.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-sm font-medium text-gray-600",children:"Agent"}),a.jsx("th",{className:"px-6 py-3 text-left text-sm font-medium text-gray-600",children:"Team"}),a.jsx("th",{className:"px-6 py-3 text-left text-sm font-medium text-gray-600",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-sm font-medium text-gray-600",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-100",children:n.map(N=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4",children:x===N.id?a.jsxs("div",{className:"space-y-2",children:[a.jsx("input",{type:"text",defaultValue:N.name,className:"w-full border border-gray-300 rounded px-2 py-1 text-sm",onBlur:E=>j(N.id,{name:E.target.value})}),a.jsx("input",{type:"email",defaultValue:N.email,className:"w-full border border-gray-300 rounded px-2 py-1 text-sm",onBlur:E=>j(N.id,{email:E.target.value})})]}):a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-gray-900",children:N.name}),a.jsx("div",{className:"text-sm text-gray-600",children:N.email})]})}),a.jsx("td",{className:"px-6 py-4",children:x===N.id?a.jsxs("select",{defaultValue:N.campaign_team_id||"",className:"border border-gray-300 rounded px-2 py-1 text-sm",onBlur:E=>j(N.id,{campaign_team_id:E.target.value||null}),children:[a.jsx("option",{value:"",children:"No Team"}),e.map(E=>{const O=t.find(W=>W.id===E.campaign_id);return a.jsxs("option",{value:E.id,children:[O==null?void 0:O.name," - ",E.name]},E.id)})]}):a.jsx("span",{className:"text-sm text-gray-600",children:k(N.campaign_team_id)})}),a.jsx("td",{className:"px-6 py-4",children:x===N.id?a.jsx("input",{type:"checkbox",defaultChecked:N.is_active,className:"rounded border-gray-300",onChange:E=>j(N.id,{is_active:E.target.checked})}):a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${N.is_active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:N.is_active?"Active":"Inactive"})}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex space-x-2",children:[x===N.id?a.jsx("button",{onClick:()=>v(null),className:"text-green-600 hover:text-green-800",title:"Save",children:a.jsx(xl,{className:"w-4 h-4"})}):a.jsx("button",{onClick:()=>v(N.id),className:"text-blue-600 hover:text-blue-800",title:"Edit",children:a.jsx(wl,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>{c(N.id),m(N.id)},className:"text-purple-600 hover:text-purple-800",title:"View Notes",children:a.jsx(Fg,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>S(N.id),className:"text-red-600 hover:text-red-800",title:"Delete",children:a.jsx(Or,{className:"w-4 h-4"})})]})})]},N.id))})]})})}),o&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-2xl max-h-[80vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Agent Notes - ",(T=n.find(N=>N.id===o))==null?void 0:T.name]}),a.jsx("button",{onClick:()=>c(null),className:"text-gray-400 hover:text-gray-600",children:a.jsx(zh,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("textarea",{value:p,onChange:N=>g(N.target.value),placeholder:"Add a note...",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3}),a.jsx("button",{onClick:y,className:"mt-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Add Note"})]}),a.jsxs("div",{className:"space-y-4",children:[u.map(N=>a.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[a.jsx("p",{className:"text-gray-900 mb-2",children:N.note}),a.jsx("p",{className:"text-sm text-gray-500",children:new Date(N.created_at).toLocaleString()})]},N.id)),u.length===0&&a.jsx("p",{className:"text-gray-500 text-center py-4",children:"No notes yet"})]})]})})]})}function ry({campaigns:t,campaignTeams:e,agents:n,callData:r,date:s}){const[i,l]=I.useState(0),[o,c]=I.useState(!0),[u,d]=I.useState(10),p=e.filter(m=>n.some(y=>y.campaign_team_id===m.id)),g=p[i];I.useEffect(()=>{if(!o||p.length===0)return;const m=setInterval(()=>{d(y=>y<=1?(l(w=>(w+1)%p.length),10):y-1)},1e3);return()=>clearInterval(m)},[o,p.length]);const x=()=>{l(m=>(m+1)%p.length),d(10)},v=()=>{c(!o),o||d(10)};if(p.length===0)return a.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:a.jsxs("div",{className:"text-center py-8",children:[a.jsx(rt,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No Teams Available"}),a.jsx("p",{className:"text-gray-600",children:"Create teams and add agents to see the rotating dashboard."})]})});const _=n.filter(m=>m.campaign_team_id===g.id),b=r.filter(m=>{const y=n.find(w=>w.id===m.agent_id);return(y==null?void 0:y.campaign_team_id)===g.id&&m.date===s}),h=_.map(m=>{const y=b.filter(k=>k.agent_id===m.id),w=y.reduce((k,T)=>k+T.calls_made,0),j=y.reduce((k,T)=>k+T.total_call_time,0),S=y.reduce((k,T)=>k+T.sales_made,0);return{agent:m,totalCalls:w,totalCallTime:j,totalSales:S,averageCallTime:w>0?j/w:0}}),f=t.find(m=>m.id===g.campaign_id);return a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"bg-white rounded-xl shadow-sm p-4 border border-gray-100",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("button",{onClick:v,className:"flex items-center space-x-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:[o?a.jsx(Bg,{className:"w-4 h-4"}):a.jsx(Hg,{className:"w-4 h-4"}),a.jsx("span",{children:o?"Pause":"Play"})]}),a.jsxs("button",{onClick:x,className:"flex items-center space-x-2 bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors",children:[a.jsx(Wg,{className:"w-4 h-4"}),a.jsx("span",{children:"Next"})]})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"text-sm text-gray-600",children:["Team ",i+1," of ",p.length]}),o&&a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),a.jsxs("span",{className:"text-sm text-gray-600",children:["Next in ",u,"s"]})]})]})]})}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[a.jsx("div",{className:"h-3",style:{backgroundColor:g.color}}),a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:g.name}),a.jsxs("p",{className:"text-gray-600",children:[f==null?void 0:f.name," • ",_.length," agents • ",new Date(s).toLocaleDateString()]})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-blue-600",children:h.reduce((m,y)=>m+y.totalCalls,0)}),a.jsx("div",{className:"text-sm text-gray-600",children:"Total Calls"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-green-600",children:h.reduce((m,y)=>m+y.totalSales,0)}),a.jsx("div",{className:"text-sm text-gray-600",children:"Total Sales"})]})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:h.map(({agent:m,totalCalls:y,totalCallTime:w,totalSales:j,averageCallTime:S})=>a.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("h3",{className:"font-semibold text-gray-900 truncate",children:m.name}),a.jsx("div",{className:`w-3 h-3 rounded-full ${m.is_active?"bg-green-500":"bg-gray-300"}`})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(Vt,{className:"w-3 h-3 text-blue-500"}),a.jsx("span",{className:"text-xs text-gray-600",children:"Calls"})]}),a.jsx("span",{className:"text-sm font-bold text-blue-600",children:y})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(Xn,{className:"w-3 h-3 text-purple-500"}),a.jsx("span",{className:"text-xs text-gray-600",children:"Time"})]}),a.jsx("span",{className:"text-sm font-bold text-purple-600",children:Oe(w)})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(Wt,{className:"w-3 h-3 text-green-500"}),a.jsx("span",{className:"text-xs text-gray-600",children:"Sales"})]}),a.jsx("span",{className:"text-sm font-bold text-green-600",children:j})]}),a.jsx("div",{className:"pt-2 border-t border-gray-100",children:a.jsxs("div",{className:"flex justify-between text-xs",children:[a.jsx("span",{className:"text-gray-500",children:"Avg Call"}),a.jsx("span",{className:"font-medium",children:Oe(S)})]})})]})]},m.id))}),h.length===0&&a.jsxs("div",{className:"text-center py-8",children:[a.jsx(rt,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"No agents in this team"})]})]})]})]})}function sy(){const{profile:t,signOut:e,isAdmin:n,isSuperAdmin:r}=gn(),[s,i]=I.useState("overview"),{campaigns:l,campaignTeams:o,agents:c,callData:u,loading:d,error:p}=as(),g=new Date().toISOString().split("T")[0],x=u.filter(y=>y.date===g),v=x.reduce((y,w)=>y+w.calls_made,0),_=x.reduce((y,w)=>y+w.total_call_time,0),b=x.reduce((y,w)=>y+w.sales_made,0),h=new Set(x.map(y=>y.agent_id)).size,f=[{id:"overview",label:"Overview",icon:vl},{id:"agents",label:"Agents",icon:rt},{id:"campaigns",label:"Campaigns",icon:rt},{id:"campaign-dashboard",label:"Campaign Dashboard",icon:Hn},{id:"hourly",label:"Hourly",icon:Hn},{id:"rotating",label:"Rotating Dashboard",icon:vl},...n?[{id:"agent-management",label:"Agent Management",icon:Uh},{id:"import",label:"Import/Export",icon:No},{id:"agent-import",label:"Import Agents",icon:Mh}]:[],...r?[{id:"admin",label:"Admin Panel",icon:Yr}]:[]],m=[{title:"Total Calls",value:v.toLocaleString(),icon:Vt,color:"bg-blue-500"},{title:"Active Agents",value:h.toString(),icon:rt,color:"bg-green-500"},{title:"Total Sales",value:b.toString(),icon:Wt,color:"bg-orange-500"},{title:"Call Time",value:`${Math.round(_/60)}h`,icon:Hn,color:"bg-purple-500"}];return a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("header",{className:"bg-white shadow-sm border-b",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"flex justify-between items-center py-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Sales Management Dashboard"}),a.jsxs("p",{className:"text-sm text-gray-500",children:["Today: ",new Date().toLocaleDateString()]})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"text-sm text-gray-600",children:["Welcome, ",(t==null?void 0:t.full_name)||(t==null?void 0:t.email)]}),a.jsxs("div",{className:"text-sm text-gray-600",children:[c.filter(y=>y.is_active).length," Active Agents"]}),a.jsxs("button",{onClick:e,className:"flex items-center space-x-2 text-gray-600 hover:text-gray-900 transition-colors",children:[a.jsx(zg,{className:"w-4 h-4"}),a.jsx("span",{children:"Sign Out"})]})]})]})})}),a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[a.jsx("div",{className:"flex space-x-1 bg-gray-100 p-1 rounded-lg mb-6",children:f.map(y=>a.jsxs("button",{onClick:()=>i(y.id),className:`flex items-center space-x-2 px-4 py-2 rounded-md font-medium transition-all ${s===y.id?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:[a.jsx(y.icon,{className:"w-4 h-4"}),a.jsx("span",{children:y.label})]},y.id))}),d&&a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-2"}),a.jsx("p",{className:"text-gray-600",children:"Loading dashboard data..."})]})}),p&&a.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-5 h-5 text-red-500",children:"⚠️"}),a.jsxs("span",{className:"text-red-700",children:["Error: ",p]})]}),a.jsx("p",{className:"text-sm text-red-600 mt-2",children:"Please make sure you have connected to Supabase and run the database migrations."})]}),!d&&!p&&s==="overview"&&a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:m.map((y,w)=>a.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:y.title}),a.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:y.value})]}),a.jsx("div",{className:`${y.color} p-3 rounded-lg`,children:a.jsx(y.icon,{className:"w-6 h-6 text-white"})})]})},w))}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsx(Yc,{campaigns:l,campaignTeams:o,agents:c,callData:u,date:g}),a.jsx(Xc,{callData:x})]})]}),!d&&!p&&s==="agents"&&a.jsx(Yg,{campaigns:l,agents:c,campaignTeams:o,callData:u,date:g}),!d&&!p&&s==="campaigns"&&a.jsx(Yc,{campaigns:l,campaignTeams:o,agents:c,callData:u,date:g,detailed:!0}),!d&&!p&&s==="campaign-dashboard"&&a.jsx(ty,{campaigns:l,campaignTeams:o,agents:c,callData:u,date:g}),!d&&!p&&s==="hourly"&&a.jsx(Xc,{campaigns:l,campaignTeams:o,agents:c,callData:u,detailed:!0}),!d&&!p&&s==="rotating"&&a.jsx(ry,{campaigns:l,campaignTeams:o,agents:c,callData:u,date:g}),!d&&!p&&n&&s==="agent-management"&&a.jsx(ny,{}),!d&&!p&&n&&s==="import"&&a.jsx(Xg,{}),!d&&!p&&n&&s==="agent-import"&&a.jsx(Zg,{}),!d&&!p&&r&&s==="admin"&&a.jsx(Qg,{})]})]})}function iy(){const{user:t,profile:e,loading:n}=gn();return n?a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-2"}),a.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}):!t||!e?a.jsx(Jg,{}):e.is_approved?a.jsx(sy,{}):a.jsx(Gg,{})}function ay(){return a.jsx(Ag,{children:a.jsx(iy,{})})}hh(document.getElementById("root")).render(a.jsx(I.StrictMode,{children:a.jsx(ay,{})}));
